const _0x5663a1=_0x5d56;(function(_0x53e5c0,_0x55008d){const _0x3225be=_0x5d56,_0x21dbd0=_0x53e5c0();while(!![]){try{const _0x351d44=parseInt(_0x3225be(0x214))/0x1+-parseInt(_0x3225be(0x216))/0x2*(parseInt(_0x3225be(0x9c))/0x3)+parseInt(_0x3225be(0x89))/0x4+-parseInt(_0x3225be(0x123))/0x5*(parseInt(_0x3225be(0xb5))/0x6)+parseInt(_0x3225be(0x114))/0x7*(parseInt(_0x3225be(0xdf))/0x8)+-parseInt(_0x3225be(0x94))/0x9*(-parseInt(_0x3225be(0x1fc))/0xa)+-parseInt(_0x3225be(0x183))/0xb;if(_0x351d44===_0x55008d)break;else _0x21dbd0['push'](_0x21dbd0['shift']());}catch(_0x3fdde1){_0x21dbd0['push'](_0x21dbd0['shift']());}}}(_0x558c,0x27425));const SUPABASE_URL=_0x5663a1(0x241),SUPABASE_ANON_KEY='__SUPABASE_ANON_KEY__',TMDB_TOKEN=_0x5663a1(0x22a),supabase=window['supabase'][_0x5663a1(0x13d)](SUPABASE_URL,SUPABASE_ANON_KEY);let currentUser=null,currentMediaType=null,currentMediaId=null,currentMediaTitle=null,currentMediaData=null,embedSources=[],currentSeason=0x1,currentEpisode=0x1,bookmarks=[],continueWatching=[],searchDebounce=null,watchStartTime=null,playerInterval=null,isPlayerOpen=![],featuredMedia=null,featuredQueue=[],featuredIndex=0x0,rotationInterval=null,rotationPaused=![],isUserApproved=![];const domCache={'elements':{},'observers':new Map()};document[_0x5663a1(0xe1)]('DOMContentLoaded',function(){const _0x2e4be5=_0x5663a1;try{initApp(),cacheCommonElements(),setupIntersectionObservers(),preventBodyScrollWhenNeeded();}catch(_0x3fa332){console['error']('App\x20initialization\x20failed:',_0x3fa332),showNotification('Application\x20failed\x20to\x20load.\x20Please\x20refresh.',_0x2e4be5(0x193));}});function cacheCommonElements(){const _0x5964a2=_0x5663a1,_0x46e7be=['auth-container',_0x5964a2(0x1eb),_0x5964a2(0xc5),_0x5964a2(0xd0),_0x5964a2(0x135),'loading-screen',_0x5964a2(0x113),'movies-grid','tv-grid','mylist-grid',_0x5964a2(0x1a8),_0x5964a2(0xd5),_0x5964a2(0x167),'extension-popup',_0x5964a2(0xf5),'continue-watching-grid','continue-watching-row'];_0x46e7be['forEach'](_0x2e4749=>{domCache['elements'][_0x2e4749]=document['getElementById'](_0x2e4749);});}function setupIntersectionObservers(){const _0x1acca7=_0x5663a1;if(_0x1acca7(0x175)in window){const _0x4240ec=new IntersectionObserver(_0x2a5faf=>{_0x2a5faf['forEach'](_0x12fe94=>{const _0x1425fa=_0x5d56;if(_0x12fe94[_0x1425fa(0x139)]){const _0xecf188=_0x12fe94['target'];_0xecf188[_0x1425fa(0xad)][_0x1425fa(0xc0)]&&(_0xecf188[_0x1425fa(0xc0)]=_0xecf188[_0x1425fa(0xad)]['src'],_0xecf188[_0x1425fa(0x18d)][_0x1425fa(0xc1)](_0x1425fa(0x23b)),_0x4240ec['unobserve'](_0xecf188));}});},{'rootMargin':_0x1acca7(0x1d9),'threshold':0.01});domCache[_0x1acca7(0x18a)][_0x1acca7(0xfc)](_0x1acca7(0x1e7),_0x4240ec);}}function preventBodyScrollWhenNeeded(){const _0x1814ae=_0x5663a1,_0x1899a1=new MutationObserver(_0x4aad3f=>{const _0x5cafb9=_0x5d56;_0x4aad3f[_0x5cafb9(0xea)](_0x2b8ce3=>{const _0x443a7f=_0x5cafb9;if(_0x2b8ce3[_0x443a7f(0x150)]===_0x443a7f(0x1c3)&&_0x2b8ce3[_0x443a7f(0x1bd)]===_0x443a7f(0x18e)){const _0xf85123=domCache['elements']['player-modal'],_0xef60af=domCache['elements']['payment-modal'];_0xf85123&&_0xf85123[_0x443a7f(0x18d)][_0x443a7f(0x242)](_0x443a7f(0x122))||_0xef60af&&_0xef60af[_0x443a7f(0x18d)][_0x443a7f(0x242)](_0x443a7f(0x122))?(document['body'][_0x443a7f(0x205)][_0x443a7f(0x172)]=_0x443a7f(0x151),isPlayerOpen=!![]):(document['body'][_0x443a7f(0x205)]['overflow']='',isPlayerOpen=![]);}});});domCache[_0x1814ae(0x1ad)]['player-modal']&&_0x1899a1[_0x1814ae(0x91)](domCache[_0x1814ae(0x1ad)][_0x1814ae(0xd0)],{'attributes':!![],'attributeFilter':[_0x1814ae(0x18e)]}),domCache[_0x1814ae(0x1ad)]['payment-modal']&&_0x1899a1[_0x1814ae(0x91)](domCache[_0x1814ae(0x1ad)][_0x1814ae(0xf5)],{'attributes':!![],'attributeFilter':[_0x1814ae(0x18e)]});}async function isAllowedUser(_0xf6e612){const _0x2e6637=_0x5663a1;try{const {data:_0x12e77a,error:_0x37c108}=await supabase[_0x2e6637(0x21c)](_0x2e6637(0x195))[_0x2e6637(0x142)]('email,\x20approved,\x20expiry_date')['eq'](_0x2e6637(0x1a2),_0xf6e612)['single']();if(_0x37c108&&_0x37c108['code']!=='PGRST116')return console[_0x2e6637(0x193)](_0x2e6637(0x14a),_0x37c108),{'allowed':![],'reason':_0x2e6637(0x193)};if(!_0x12e77a)return{'allowed':![],'reason':_0x2e6637(0x127)};if(_0x12e77a[_0x2e6637(0x179)]!==!![])return{'allowed':![],'reason':_0x2e6637(0x8e)};if(_0x12e77a[_0x2e6637(0x106)]){const _0x51e148=new Date(_0x12e77a[_0x2e6637(0x106)]),_0x504213=new Date();if(_0x51e148<_0x504213)return{'allowed':![],'reason':_0x2e6637(0x1bb)};}return{'allowed':!![],'expiryDate':_0x12e77a[_0x2e6637(0x106)]};}catch(_0x2b29fd){return console[_0x2e6637(0x193)](_0x2e6637(0xba),_0x2b29fd),{'allowed':![],'reason':_0x2e6637(0x193)};}}function initApp(){const _0x51dec5=_0x5663a1;try{setupAuthForms(),setupNavigation(),setupGenreFilters(),setupSearch(),setupPlayerControls(),setupAccountModal(),setupPaymentModal(),setupLogout(),setupHeroRotation(),setupExtensionPopup(),loadUser();}catch(_0x550c6f){console['error']('App\x20initialization\x20error:',_0x550c6f),showNotification(_0x51dec5(0x182),_0x51dec5(0x193));}}function setupPaymentModal(){const _0x52edf2=_0x5663a1,_0x384c0c=document['getElementById'](_0x52edf2(0xf5)),_0x1aaaaf=document[_0x52edf2(0x1be)](_0x52edf2(0x166)),_0x11d9fa=document[_0x52edf2(0x13c)](_0x52edf2(0x224)),_0x5043e1=_0x384c0c?.[_0x52edf2(0x132)]('.payment-overlay'),_0x6cd32c=document[_0x52edf2(0x13c)]('submit-transaction-btn'),_0x496f80=document['getElementById']('transaction-id-input');_0x1aaaaf['forEach'](_0x4eb79f=>{const _0x3d4604=_0x52edf2;_0x4eb79f?.[_0x3d4604(0xe1)](_0x3d4604(0x20d),_0x396cab=>{_0x396cab['preventDefault'](),openPaymentModal();});}),_0x11d9fa?.[_0x52edf2(0xe1)](_0x52edf2(0x20d),closePaymentModal),_0x5043e1?.[_0x52edf2(0xe1)](_0x52edf2(0x20d),closePaymentModal),_0x6cd32c&&_0x496f80&&_0x6cd32c[_0x52edf2(0xe1)](_0x52edf2(0x20d),async()=>{const _0xd3478e=_0x52edf2,_0x31925f=_0x496f80['value']['trim']();if(!_0x31925f){showNotification('Please\x20enter\x20a\x20transaction\x20ID',_0xd3478e(0x193));return;}if(!currentUser){showNotification(_0xd3478e(0x124),'error');return;}_0x6cd32c['disabled']=!![],_0x6cd32c[_0xd3478e(0x82)]=_0xd3478e(0x198);try{const {error:_0x3de369}=await supabase[_0xd3478e(0x21c)]('pending_payments')['insert']({'user_email':currentUser[_0xd3478e(0x1a2)],'transaction_id':_0x31925f,'status':_0xd3478e(0x191),'created_at':new Date()[_0xd3478e(0x12f)]()});if(_0x3de369)throw _0x3de369;showNotification(_0xd3478e(0x7e),_0xd3478e(0x206)),_0x496f80[_0xd3478e(0x200)]='',closePaymentModal();}catch(_0x3f1002){console[_0xd3478e(0x193)](_0xd3478e(0x88),_0x3f1002),showNotification(_0xd3478e(0xfd),'error');}finally{_0x6cd32c[_0xd3478e(0x144)]=![],_0x6cd32c[_0xd3478e(0x82)]=_0xd3478e(0x14e);}}),document[_0x52edf2(0xe1)](_0x52edf2(0x1e6),_0x36db08=>{const _0x1c8dd1=_0x52edf2;_0x36db08[_0x1c8dd1(0x102)]===_0x1c8dd1(0x156)&&_0x384c0c&&_0x384c0c['classList'][_0x1c8dd1(0x242)](_0x1c8dd1(0x122))&&closePaymentModal();});}function _0x558c(){const _0x3ccb70=['Error\x20removing\x20from\x20continue\x20watching:','form','Error\x20loading\x20seasons','tv-section','user_watch_history','expired','scrollTo','attributeName','querySelectorAll','Movie','results','Trying\x20','Failed\x20to\x20load\x20bookmarks.\x20Table\x20may\x20need\x20to\x20be\x20created.','attributes','Error\x20recording\x20watch\x20history:','scale(0.9)','removeChild','input','created_at','name','TV\x20Show','https://api.themoviedb.org/3/search/multi?query=','watch_progress','slice','allowed','session_flag','randomUUID','TBA','bollywood','active_sessions','\x20day','adult','keypress','Thriller','hero-meta','100px\x200px','episode-card\x20hover-glow\x20','getFullYear','</span>\x0a\x20\x20\x20\x20\x20\x20<span>','user_id,media_id','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','seasons','warn','Romance','search','Signing\x20In...','\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22','.loading-indicator','keydown','images','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','insert','registerSessionForUser\x20error','main-header','Mystery','notification\x20','account-link','scale(1)','Source\x201','Your\x20session\x20was\x20disabled\x20by\x20admin\x20–\x20you\x20have\x20been\x20signed\x20out.','Subscription\x20expired','Sign\x20up\x20successful!\x20Please\x20check\x20your\x20email\x20to\x20confirm\x20your\x20account.','https://111movies.com/tv/','All\x20sources\x20failed.\x20Please\x20try\x20again\x20later.','get','Premium\x20access\x20required\x20to\x20watch\x20content.\x20Please\x20subscribe\x20to\x20continue.','logout-link','button','https://player.videasy.net/movie/','continue-watching-grid','270UYewnT','0.3','https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc','.nav-link','value','popular-movies-grid','%\x20watched</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','json','signUp','style','success','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hero-watch-btn','...\x20(','player-year','far\x20fa-bookmark','click','.episode-card','Retrying\x20','Animation','flex','resetPasswordForEmail','mylist-section','133904zMgeym','map','60278tigQQe','subscription-status-text','round','extension-popup','code','all','from','Remove\x20from\x20bookmarks','backgroundImage','url(https://image.tmdb.org/t/p/original','.hero-backdrop','then','message','movie','payment-close','Error\x20loading\x20movies','load','includes','DELETE','application/json;charset=utf-8','__TMDB_TOKEN__','season_number','hero-bookmark-btn-new','signOut','movies','removeChannel','Creating\x20Account...','N/A','vote_average','Source\x202','source-buttons','display','mylist-grid','https://vidjoy.pro/embed/tv/','title','createElement','subscription-status\x20','lazy','beforeunload','some','tabIndex','signin-form','player-description','__SUPABASE_URL__','contains','episode_number','HTTP\x20','signInWithPassword','Transaction\x20ID\x20submitted!\x20We\x27ll\x20verify\x20your\x20payment\x20soon.','parentNode','\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20','firstChild','innerHTML','subscription-status\x20active','toLocaleDateString','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22card-info\x22>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22card-title\x22>','Unexpected\x20error\x20during\x20signin','order','Error\x20submitting\x20transaction:','453792BTxars','show','media_id','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22card-info\x22>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22card-title\x22>','Add\x20to\x20bookmarks','not_approved','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','endSessionForUser\x20error','observe','setAttribute','Family','18693TjUVyV','TV\x20Movie','mouseleave','https://api.themoviedb.org/3/tv/','slide-in-right','signal','Bearer\x20','auth','15MdZZcI','Enter','&with_genres=','</span>\x0a\x20\x20\x20\x20<button\x20class=\x22notification-close\x22\x20aria-label=\x22Close\x20notification\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20','account-email','toFixed','media-card\x20continue-watching-card\x20hover-glow','Remove\x20from\x20List','Subscribe\x20to\x20use\x20bookmark\x20feature','upsert','Music','location','History','/index.html','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22no-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20items\x20in\x20your\x20list\x20yet.\x20Add\x20some\x20movies\x20or\x20TV\x20shows!</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Please\x20complete\x20payment\x20to\x20access\x20all\x20content','.notification-close','dataset','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22','fade-out','genre_ids','.content-section.active','Error\x20loading\x20trending\x20content','device_id','delete','6ICZgmi','signup-confirm','split','Error\x20loading\x20popular\x20TV\x20shows','media_type','Unexpected\x20error\x20checking\x20allowed\x20users:','none','finally','signup-email','player-close','push','src','remove','session-channel-','.genre-btn','no-referrer-when-downgrade','main-content','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22','movies-grid','.content-section','option','user_bookmarks','Error\x20loading\x20popular\x20movies','-section','video-loading','ceil','random','player-modal','getItem','createDocumentFragment','appendChild','Error\x20recording\x20search\x20history:','hero-section','filter','.remove-continue-btn','player-type','total_duration','fa-lock','expiryDate','new','length','\x0a\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20data-src=\x22https://image.tmdb.org/t/p/w500','128176uOBpfC','account-close','addEventListener','channel','\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22hero-rating\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20','.source-btn','open','signup-form','show-reset','does\x20not\x20exist','button[type=\x22submit\x22]','forEach','signin-password','minimal','Error\x20removing\x20bookmark\x20from\x20Supabase:','tv-grid','animationDelay','Your\x20account\x20was\x20used\x20on\x20another\x20device\x20–\x20signed\x20out\x20here.','status','offsetTop','.main-header','Horror','payment-modal','Error\x20loading\x20episodes:','img.lazy','account-modal','origin','<i\x20class=\x22fas\x20fa-play\x22></i>\x20Watch\x20Now','Sign-in\x20did\x20not\x20return\x20a\x20user\x20object.','set','Failed\x20to\x20submit\x20transaction\x20ID.\x20Please\x20try\x20again.','Sci-Fi','Premium\x20access\x20required\x20to\x20watch\x20content','Added\x20to\x20your\x20list','account-member-since','key','Active','Reset\x20link\x20sent\x20to\x20your\x20email!','scrollY','expiry_date','</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22continue-progress\x22>','install-extension-btn','player-title','block','loading-indicator','</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','preventDefault','offsetHeight','Western','Unexpected\x20error\x20during\x20password\x20reset','user_id=eq.','textContent','notification-container','126WMxEDk','Error\x20loading\x20movies:','bollywood-grid','vote_count','Error\x20loading\x20popular\x20movies:','...','alert','gte','Error\x20searching:','className','div','Error\x20loading\x20featured\x20content:','Error\x20loading\x20episodes','floor','active','1034260tiBixl','Please\x20log\x20in\x20first','Account\x20already\x20active\x20on\x20another\x20device.\x20Please\x20sign\x20out\x20there\x20first.','\x0a\x20\x20\x20\x20<div\x20class=\x22card-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-continue-btn\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22','not_found','\x22></i>\x0a\x20\x20\x20\x20<span>','setItem','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22','first_air_date','event','https://api.themoviedb.org/3/trending/all/week','season-select','toISOString','Error\x20performing\x20search','fa-exclamation-circle','querySelector','opened','user_id','video-frame','bookmarked','target','player-rating-value','isIntersecting','onclick','add','getElementById','createClient','Please\x20log\x20in\x20to\x20manage\x20your\x20list','Unexpected\x20error\x20during\x20signup','home-section','source-btn\x20hover-glow','select','User\x20loaded:','disabled','poster_path','Premium\x20access\x20required','unsubscribe','Documentary','fas\x20fa-bookmark','Error\x20checking\x20allowed\x20users:','fas','.bookmark-btn','hero-description','<i\x20class=\x22fas\x20fa-check\x22></i>\x20Submit','show-signup','type','hidden','Error\x20checking\x20active_sessions:','Add\x20to\x20List','substring','Play\x20','Escape','Source\x203','episodes-list','now','\x0a\x20\x20\x20\x20<div\x20class=\x22card-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20','Error\x20loading\x20continue\x20watching:','body','Error\x20loading\x20Bollywood\x20movies:','warning','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20class=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20loading=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27https://via.placeholder.com/500x750?text=No+Image\x27\x22\x0a\x20\x20\x20\x20\x20\x20>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-overlay\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22play-btn\x20hover-glow\x22\x20title=\x22','air_date','<div\x20class=\x22spinner\x22></div><p>Loading\x20content...</p>','loading-screen','user_search_history','home','https://api.themoviedb.org/3/movie/popular','#open-payment-modal,\x20#subscribe-link,\x20#pay-now-btn','player-overlay','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22video-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20<p>Loading\x20video\x20source...</p>\x0a\x20\x20\x20\x20','https://chromewebstore.google.com/detail/bkkbcggnhapdmkeljlodobbkopceiche?utm_source=item-share-cb','reset-form','min','\x20slide-in-right','https://api.themoviedb.org/3/tv/popular','Your\x20session\x20was\x20ended\x20(deleted)\x20–\x20you\x20have\x20been\x20signed\x20out.','episodes','opacity','NekoFlix','overflow','subscription-status\x20expired','toString','IntersectionObserver','section','Error\x20updating\x20watch\x20progress:','user','approved','contentWindow','transform','continue-watching-row','42P01','https://111movies.com/movie/','trending-grid','https://vidjoy.pro/embed/movie/','Signed\x20in\x20successfully!','Error\x20initializing\x20application','808225BrOcDC','Error\x20loading\x20trending:','runtime','findIndex','\x0a\x20\x20\x20\x20<button\x20class=\x22bookmark-btn\x20','continue_watching','overview','observers','tv-controls','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classList','class','Action,\x20Adventure','release_date','pending','Error\x20loading\x20popular\x20TV\x20shows:','error','Payment\x20Required','allowed_users','No\x20description\x20available','backdrop_path','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Submitting...','Error\x20signing\x20out','is_active','reason','[data-section=\x22home\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20loading\x20user:','Signed\x20out\x20successfully!','Continue\x20watching\x20table\x20doesn\x27t\x20exist\x20yet','Sending\x20Reset\x20Link...','email','far','role','stopPropagation','</span>\x0a\x20\x20\x20\x20','span','search-grid','Error\x20loading\x20bookmarks:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-title\x22>','back-signin','elements','.video-loading','postgres_changes','scrolled','handleSessionChange\x20error','maybeSingle','getUser','<i\x20class=\x22fas\x20fa-lock\x22></i>\x20Premium\x20Required','Passwords\x20do\x20not\x20match'];_0x558c=function(){return _0x3ccb70;};return _0x558c();}function openPaymentModal(){const _0x527659=_0x5663a1,_0x510431=document[_0x527659(0x13c)]('payment-modal');_0x510431&&(_0x510431['classList'][_0x527659(0x13b)]('active'),setTimeout(()=>{const _0x5d5cd8=_0x527659;_0x510431[_0x5d5cd8(0x18d)][_0x5d5cd8(0x13b)](_0x5d5cd8(0x8a));},0x32));}function closePaymentModal(){const _0x43b7fb=_0x5663a1,_0x32cb17=document[_0x43b7fb(0x13c)](_0x43b7fb(0xf5));_0x32cb17&&(_0x32cb17[_0x43b7fb(0x18d)]['remove'](_0x43b7fb(0x8a)),setTimeout(()=>{const _0x29f6a2=_0x43b7fb;_0x32cb17[_0x29f6a2(0x18d)][_0x29f6a2(0xc1)]('active');},0x12c));}function setupExtensionPopup(){const _0x47b2b2=_0x5663a1,_0x34495e=document[_0x47b2b2(0x13c)](_0x47b2b2(0x219)),_0x368731=document['getElementById'](_0x47b2b2(0x108)),_0x472f51=document[_0x47b2b2(0x13c)]('close-extension-popup');_0x368731&&_0x368731['addEventListener'](_0x47b2b2(0x20d),()=>{const _0x113d60=_0x47b2b2;window[_0x113d60(0xe5)](_0x113d60(0x169),'_blank');}),_0x472f51&&_0x472f51[_0x47b2b2(0xe1)]('click',()=>{closeExtensionPopup();}),document[_0x47b2b2(0xe1)]('keydown',_0x3ca416=>{const _0x50aa06=_0x47b2b2;_0x3ca416[_0x50aa06(0x102)]===_0x50aa06(0x156)&&_0x34495e&&_0x34495e[_0x50aa06(0x18d)][_0x50aa06(0x242)](_0x50aa06(0x122))&&closeExtensionPopup();});}function showExtensionPopup(){const _0x246b84=_0x5663a1,_0x59fed3=document[_0x246b84(0x13c)](_0x246b84(0x219));_0x59fed3&&(_0x59fed3[_0x246b84(0x18d)]['add'](_0x246b84(0x122)),setTimeout(()=>{const _0x4dd36f=_0x246b84;_0x59fed3['classList'][_0x4dd36f(0x13b)](_0x4dd36f(0x8a));},0x32));}function closeExtensionPopup(){const _0x230939=_0x5663a1,_0x1d4343=document[_0x230939(0x13c)]('extension-popup');_0x1d4343&&(_0x1d4343[_0x230939(0x18d)][_0x230939(0xc1)](_0x230939(0x8a)),setTimeout(()=>{const _0xc7d74e=_0x230939;_0x1d4343[_0xc7d74e(0x18d)][_0xc7d74e(0xc1)](_0xc7d74e(0x122));},0x12c));}function setupHeroRotation(){const _0x4a757e=_0x5663a1,_0x1adcbc=document[_0x4a757e(0x13c)]('hero-section');_0x1adcbc&&(_0x1adcbc[_0x4a757e(0xe1)]('mouseenter',()=>{rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null,rotationPaused=!![]);}),_0x1adcbc['addEventListener'](_0x4a757e(0x96),()=>{rotationPaused&&featuredQueue['length']>=0x2&&(startRotation(),rotationPaused=![]);}));}function setupAuthForms(){const _0x1fe352=_0x5663a1;document[_0x1fe352(0x13c)](_0x1fe352(0x14f))?.['addEventListener']('click',_0x454595=>{const _0x4cd5dd=_0x1fe352;_0x454595[_0x4cd5dd(0x10d)](),smoothTransition(_0x4cd5dd(0x23f),'signup-form');}),document[_0x1fe352(0x13c)]('show-signin')?.['addEventListener'](_0x1fe352(0x20d),_0x47a1b5=>{const _0x491e9d=_0x1fe352;_0x47a1b5[_0x491e9d(0x10d)](),smoothTransition('signup-form',_0x491e9d(0x23f));}),document[_0x1fe352(0x13c)](_0x1fe352(0xe7))?.[_0x1fe352(0xe1)](_0x1fe352(0x20d),_0x5115f4=>{const _0x272be9=_0x1fe352;_0x5115f4[_0x272be9(0x10d)](),smoothTransition(_0x272be9(0x23f),'reset-form');}),document['getElementById'](_0x1fe352(0x1ac))?.['addEventListener']('click',_0x17b18f=>{const _0x210d1f=_0x1fe352;_0x17b18f[_0x210d1f(0x10d)](),smoothTransition(_0x210d1f(0x16a),_0x210d1f(0x23f));}),setupFormSubmission(_0x1fe352(0xe6),handleSignup),setupFormSubmission(_0x1fe352(0x23f),handleSignin),setupFormSubmission(_0x1fe352(0x16a),handleReset);}function setupFormSubmission(_0x1fcbeb,_0x59ec08){const _0x20e1ec=_0x5663a1,_0x9749dc=document[_0x20e1ec(0x13c)](_0x1fcbeb)?.[_0x20e1ec(0x132)](_0x20e1ec(0x1b7));_0x9749dc&&_0x9749dc[_0x20e1ec(0xe1)]('submit',_0x59ec08);}async function handleSignup(_0x4b4670){const _0x5c0516=_0x5663a1;_0x4b4670[_0x5c0516(0x10d)]();const _0x5d9607=_0x4b4670['target'][_0x5c0516(0x132)](_0x5c0516(0xe9)),_0x1ad9ce=_0x5d9607[_0x5c0516(0x112)];_0x5d9607[_0x5c0516(0x112)]=_0x5c0516(0x230),_0x5d9607[_0x5c0516(0x144)]=!![];try{const _0x590dc1=document[_0x5c0516(0x13c)](_0x5c0516(0xbd))[_0x5c0516(0x200)],_0x59a960=document['getElementById']('signup-password')[_0x5c0516(0x200)],_0x25ad2f=document['getElementById'](_0x5c0516(0xb6))[_0x5c0516(0x200)];if(_0x59a960!==_0x25ad2f){showNotification(_0x5c0516(0x1b5),_0x5c0516(0x193));return;}if(_0x59a960[_0x5c0516(0xdd)]<0x6){showNotification('Password\x20must\x20be\x20at\x20least\x206\x20characters','error');return;}const {data:_0x501e45,error:_0x48f680}=await supabase[_0x5c0516(0x9b)][_0x5c0516(0x204)]({'email':_0x590dc1,'password':_0x59a960,'options':{'emailRedirectTo':window[_0x5c0516(0xa7)][_0x5c0516(0xf9)]+_0x5c0516(0xa9)}});_0x48f680?showNotification(_0x48f680[_0x5c0516(0x222)],_0x5c0516(0x193)):(showNotification(_0x5c0516(0x1f3),_0x5c0516(0x206)),smoothTransition('signup-form','signin-form'));}catch(_0x59d840){showNotification(_0x5c0516(0x13f),_0x5c0516(0x193));}finally{_0x5d9607[_0x5c0516(0x112)]=_0x1ad9ce,_0x5d9607[_0x5c0516(0x144)]=![];}}async function handleSignin(_0x1cac4b){const _0x44663e=_0x5663a1;_0x1cac4b[_0x44663e(0x10d)]();const _0x9109ad=_0x1cac4b[_0x44663e(0x137)][_0x44663e(0x132)]('button[type=\x22submit\x22]'),_0x26103b=_0x9109ad[_0x44663e(0x112)];_0x9109ad[_0x44663e(0x112)]=_0x44663e(0x1e3),_0x9109ad[_0x44663e(0x144)]=!![];try{const _0x57c42c=document['getElementById']('signin-email')[_0x44663e(0x200)],_0x185159=document[_0x44663e(0x13c)](_0x44663e(0xeb))[_0x44663e(0x200)],{data:_0x274bf0,error:_0x3c06d1}=await supabase['auth'][_0x44663e(0x245)]({'email':_0x57c42c,'password':_0x185159});if(_0x3c06d1){showNotification(_0x3c06d1[_0x44663e(0x222)],_0x44663e(0x193));return;}const _0x48bd44=_0x274bf0?.[_0x44663e(0x178)];if(!_0x48bd44){showNotification(_0x44663e(0xfb),_0x44663e(0x193));return;}const _0x4f93fd=await registerSessionForUser(_0x48bd44);if(!_0x4f93fd)return;showNotification(_0x44663e(0x181),_0x44663e(0x206)),await loadUser();}catch(_0x235c7a){console[_0x44663e(0x193)](_0x235c7a),showNotification(_0x44663e(0x86),'error');}finally{_0x9109ad[_0x44663e(0x112)]=_0x26103b,_0x9109ad[_0x44663e(0x144)]=![];}}async function handleReset(_0xd5eef2){const _0xe00220=_0x5663a1;_0xd5eef2['preventDefault']();const _0x58a15e=_0xd5eef2['target'][_0xe00220(0x132)]('button[type=\x22submit\x22]'),_0x307c29=_0x58a15e[_0xe00220(0x112)];_0x58a15e[_0xe00220(0x112)]=_0xe00220(0x1a1),_0x58a15e[_0xe00220(0x144)]=!![];try{const _0x4e1d3e=document[_0xe00220(0x13c)]('reset-email')[_0xe00220(0x200)],{error:_0xd5ed4f}=await supabase[_0xe00220(0x9b)][_0xe00220(0x212)](_0x4e1d3e);_0xd5ed4f?showNotification(_0xd5ed4f[_0xe00220(0x222)],'error'):showNotification(_0xe00220(0x104),_0xe00220(0x206));}catch(_0x2eb538){showNotification(_0xe00220(0x110),_0xe00220(0x193));}finally{_0x58a15e[_0xe00220(0x112)]=_0x307c29,_0x58a15e[_0xe00220(0x144)]=![];}}let _sessionChannel=null,_heartbeatIntervalId=null;function getDeviceId(){const _0x45ff5f=_0x5663a1,_0xd1a03a='nf_device_id';let _0x356472=localStorage[_0x45ff5f(0xd1)](_0xd1a03a);if(!_0x356472){try{_0x356472=crypto[_0x45ff5f(0x1d0)]();}catch(_0x356d55){_0x356472=Date[_0x45ff5f(0x159)]()['toString'](0x24)+Math[_0x45ff5f(0xcf)]()[_0x45ff5f(0x174)](0x24)[_0x45ff5f(0x1cd)](0x2);}localStorage[_0x45ff5f(0x129)](_0xd1a03a,_0x356472);}return _0x356472;}async function registerSessionForUser(_0x52d87d){const _0x4418ee=_0x5663a1,_0x117777=getDeviceId();try{const {data:_0x335a71,error:_0x419d7a}=await supabase[_0x4418ee(0x21c)](_0x4418ee(0x1d3))[_0x4418ee(0x142)]('*')['eq'](_0x4418ee(0x134),_0x52d87d['id'])[_0x4418ee(0x1b2)]();_0x419d7a&&console[_0x4418ee(0x193)](_0x4418ee(0x152),_0x419d7a);if(_0x335a71&&_0x335a71[_0x4418ee(0x19a)]&&_0x335a71[_0x4418ee(0xb3)]&&_0x335a71[_0x4418ee(0xb3)]!==_0x117777)return await supabase[_0x4418ee(0x9b)][_0x4418ee(0x22d)](),showNotification(_0x4418ee(0x125),_0x4418ee(0x193)),![];return await supabase[_0x4418ee(0x21c)](_0x4418ee(0x1d3))[_0x4418ee(0xa5)]({'user_id':_0x52d87d['id'],'device_id':_0x117777,'is_active':!![],'session_flag':'S','last_heartbeat':new Date()['toISOString']()},{'returning':_0x4418ee(0xec)}),startSessionRealtimeSubscription(_0x52d87d['id'],_0x117777),startHeartbeat(_0x52d87d['id'],_0x117777),!![];}catch(_0x38c13a){return console[_0x4418ee(0x193)](_0x4418ee(0x1ea),_0x38c13a),![];}}function startHeartbeat(_0x33f6b0,_0x3d4cb0){stopHeartbeat(),_heartbeatIntervalId=setInterval(async()=>{const _0x4fab86=_0x5d56;try{await supabase[_0x4fab86(0x21c)](_0x4fab86(0x1d3))[_0x4fab86(0xa5)]({'user_id':_0x33f6b0,'device_id':_0x3d4cb0,'last_heartbeat':new Date()[_0x4fab86(0x12f)]()},{'returning':_0x4fab86(0xec)});}catch(_0x5cb6b6){console[_0x4fab86(0x193)]('heartbeat\x20error',_0x5cb6b6);}},0xea60);}function stopHeartbeat(){_heartbeatIntervalId&&(clearInterval(_heartbeatIntervalId),_heartbeatIntervalId=null);}function startSessionRealtimeSubscription(_0x5b7d85,_0x512764){const _0x4faa2d=_0x5663a1;if(_sessionChannel){try{supabase[_0x4faa2d(0x22f)](_sessionChannel);}catch(_0x15544d){}_sessionChannel=null;}const _0x201db9=_0x4faa2d(0xc2)+_0x5b7d85;_sessionChannel=supabase[_0x4faa2d(0xe2)](_0x201db9)['on'](_0x4faa2d(0x1af),{'event':'*','schema':'public','table':_0x4faa2d(0x1d3),'filter':_0x4faa2d(0x111)+_0x5b7d85},_0x5cae97=>{handleSessionChange(_0x5cae97,_0x512764);})['subscribe'](_0x44b4a5=>{});}function stopSessionRealtimeSubscription(){const _0x55eafb=_0x5663a1;if(!_sessionChannel)return;try{supabase['removeChannel'](_sessionChannel);}catch(_0x594e63){try{_sessionChannel[_0x55eafb(0x147)]();}catch(_0x505321){}}_sessionChannel=null;}async function handleSessionChange(_0x163518,_0x5f295d){const _0x373c7d=_0x5663a1;try{const _0xd5d2e7=_0x163518['eventType']||_0x163518[_0x373c7d(0x12c)],_0x232917=_0x163518[_0x373c7d(0xdc)],_0x177640=_0x163518['old'],_0x1d4e60=_0x232917||_0x177640;if(!_0x1d4e60)return;if(_0xd5d2e7===_0x373c7d(0x228)){_0x177640[_0x373c7d(0xb3)]===_0x5f295d&&await forceLocalSignOut(_0x373c7d(0x16e));return;}if(_0x1d4e60[_0x373c7d(0x19a)]===![]||_0x1d4e60[_0x373c7d(0x1cf)]&&_0x1d4e60[_0x373c7d(0x1cf)]['toUpperCase']()==='N'){await forceLocalSignOut(_0x373c7d(0x1f1));return;}if(_0x1d4e60['device_id']&&_0x1d4e60[_0x373c7d(0xb3)]!==_0x5f295d){await forceLocalSignOut(_0x373c7d(0xf0));return;}}catch(_0x183733){console[_0x373c7d(0x193)](_0x373c7d(0x1b1),_0x183733);}}async function forceLocalSignOut(_0x1c4e4f){const _0x236a02=_0x5663a1;stopHeartbeat(),stopSessionRealtimeSubscription();try{await supabase['auth'][_0x236a02(0x22d)]();}catch(_0x5c5df5){console[_0x236a02(0x1e0)]('force\x20signout\x20supabase.auth.signOut\x20failed',_0x5c5df5);}showNotification(_0x1c4e4f,_0x236a02(0x15e)),showUnauthenticatedUI();}async function endSessionForUser(_0x142602){const _0x10fb47=_0x5663a1;try{const _0x27ea11=getDeviceId();await supabase[_0x10fb47(0x21c)](_0x10fb47(0x1d3))[_0x10fb47(0xa5)]({'user_id':_0x142602['id'],'device_id':_0x27ea11,'is_active':![],'session_flag':'N','last_heartbeat':new Date()[_0x10fb47(0x12f)]()},{'returning':_0x10fb47(0xec)});}catch(_0x3428af){console[_0x10fb47(0x193)](_0x10fb47(0x90),_0x3428af);}finally{stopHeartbeat(),stopSessionRealtimeSubscription();}}function setupLogout(){const _0x33f13c=_0x5663a1;document[_0x33f13c(0x13c)](_0x33f13c(0x1f8))?.['addEventListener'](_0x33f13c(0x20d),async _0x3fdac2=>{const _0x585253=_0x33f13c;_0x3fdac2['preventDefault']();try{rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null);const _0x2821e0=currentUser;_0x2821e0&&await endSessionForUser(_0x2821e0),await supabase[_0x585253(0x9b)][_0x585253(0x22d)](),currentUser=null,bookmarks=[],continueWatching=[],featuredQueue=[],featuredIndex=0x0,isUserApproved=![],showNotification(_0x585253(0x19f),_0x585253(0x206)),showUnauthenticatedUI();}catch(_0x535120){console[_0x585253(0x193)](_0x535120),showNotification(_0x585253(0x199),_0x585253(0x193));}});}function setupNavigation(){const _0x547a1a=_0x5663a1;document[_0x547a1a(0x1be)](_0x547a1a(0x1ff))[_0x547a1a(0xea)](_0x24aa31=>{const _0x3c41fe=_0x547a1a;_0x24aa31[_0x3c41fe(0xe1)]('click',debounce(_0x62a6d6=>{const _0x131d55=_0x3c41fe;_0x62a6d6['preventDefault'](),document[_0x131d55(0x1be)]('.nav-link')[_0x131d55(0xea)](_0x1c39d8=>_0x1c39d8[_0x131d55(0x18d)][_0x131d55(0xc1)](_0x131d55(0x122))),_0x24aa31[_0x131d55(0x18d)][_0x131d55(0x13b)](_0x131d55(0x122)),document[_0x131d55(0x1be)](_0x131d55(0xc8))[_0x131d55(0xea)](_0x329e42=>_0x329e42[_0x131d55(0x18d)][_0x131d55(0xc1)](_0x131d55(0x122)));const _0x1f7474=document[_0x131d55(0x13c)](_0x24aa31[_0x131d55(0xad)]['section']+_0x131d55(0xcc));_0x1f7474&&(_0x1f7474[_0x131d55(0x18d)][_0x131d55(0x13b)]('active'),_0x24aa31[_0x131d55(0xad)][_0x131d55(0x176)]!=='home'&&rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null),loadSectionContent(_0x24aa31[_0x131d55(0xad)][_0x131d55(0x176)]));},0x96));});}function setupGenreFilters(){const _0x300d14=_0x5663a1;document[_0x300d14(0x1be)](_0x300d14(0xc3))[_0x300d14(0xea)](_0x21666a=>{const _0x28e7d5=_0x300d14;_0x21666a[_0x28e7d5(0xe1)](_0x28e7d5(0x20d),debounce(()=>{const _0x103623=_0x28e7d5,_0x53f02a=document['querySelector'](_0x103623(0xb1));if(!_0x53f02a)return;const _0x5329ff=_0x53f02a['id'],_0x4bea0a=_0x21666a[_0x103623(0xad)]['genre'];document['querySelectorAll']('.genre-btn')['forEach'](_0x208a61=>_0x208a61[_0x103623(0x18d)][_0x103623(0xc1)](_0x103623(0x122))),_0x21666a[_0x103623(0x18d)][_0x103623(0x13b)]('active');if(_0x5329ff==='movies-section')loadMovies(_0x4bea0a);else{if(_0x5329ff===_0x103623(0x1b9))loadTVShows(_0x4bea0a);else _0x5329ff==='bollywood-section'&&loadBollywoodMovies(_0x4bea0a);}},0xc8));});}function setupSearch(){const _0x39b25b=_0x5663a1,_0x11cf6e=document[_0x39b25b(0x13c)]('main-search-input');if(!_0x11cf6e)return;_0x11cf6e['addEventListener'](_0x39b25b(0x1c7),_0x2f5e6a=>{clearTimeout(searchDebounce),searchDebounce=setTimeout(()=>{const _0x2227bf=_0x5d56;performSearch(_0x2f5e6a[_0x2227bf(0x137)][_0x2227bf(0x200)]['trim']());},0x320);}),document[_0x39b25b(0x13c)]('clear-search')?.[_0x39b25b(0xe1)](_0x39b25b(0x20d),()=>{const _0x4c6eed=_0x39b25b;_0x11cf6e[_0x4c6eed(0x200)]='',showHomeSection();});}function setupPlayerControls(){const _0x4a74e2=_0x5663a1;document['getElementById'](_0x4a74e2(0xbe))?.[_0x4a74e2(0xe1)]('click',closePlayer);}function setupAccountModal(){const _0x27f890=_0x5663a1;document[_0x27f890(0x13c)](_0x27f890(0x1ee))?.[_0x27f890(0xe1)](_0x27f890(0x20d),_0xe065d5=>{const _0x13bf66=_0x27f890;_0xe065d5['preventDefault'](),document[_0x13bf66(0x13c)](_0x13bf66(0xf8))?.[_0x13bf66(0x18d)][_0x13bf66(0x13b)](_0x13bf66(0x122)),updateAccountModal();}),document['getElementById'](_0x27f890(0xe0))?.[_0x27f890(0xe1)](_0x27f890(0x20d),()=>{const _0x2e74af=_0x27f890;document[_0x2e74af(0x13c)]('account-modal')?.[_0x2e74af(0x18d)]['remove'](_0x2e74af(0x122));});}function smoothTransition(_0x4e62fc,_0x3cca46){const _0x2d7434=_0x5663a1,_0x38b237=document[_0x2d7434(0x13c)](_0x4e62fc),_0x1ecab6=document[_0x2d7434(0x13c)](_0x3cca46);if(!_0x38b237||!_0x1ecab6)return;_0x38b237[_0x2d7434(0x18d)][_0x2d7434(0x13b)]('fade-out'),setTimeout(()=>{const _0x4b2260=_0x2d7434;_0x38b237[_0x4b2260(0x18d)][_0x4b2260(0xc1)]('active',_0x4b2260(0xaf)),_0x1ecab6[_0x4b2260(0x18d)][_0x4b2260(0x13b)](_0x4b2260(0x122),'slide-in-right'),setTimeout(()=>{const _0x3f623a=_0x4b2260;_0x1ecab6[_0x3f623a(0x18d)][_0x3f623a(0xc1)](_0x3f623a(0x98));},0x190);},0x96);}function debounce(_0x5372b0,_0x5550bb){let _0x593a1e;return function _0x482130(..._0x5dfe90){const _0xbd82f1=()=>{clearTimeout(_0x593a1e),_0x5372b0(..._0x5dfe90);};clearTimeout(_0x593a1e),_0x593a1e=setTimeout(_0xbd82f1,_0x5550bb);};}async function loadUser(){const _0xa97983=_0x5663a1;try{const {data:_0x1a6e9b,error:_0x23858e}=await supabase['auth'][_0xa97983(0x1b3)](),_0x41eb17=_0x1a6e9b?.['user'],_0x4b6d54=domCache['elements'][_0xa97983(0x162)];_0x4b6d54&&(_0x4b6d54[_0xa97983(0x18d)][_0xa97983(0x13b)]('fade-out'),setTimeout(()=>{const _0xab8168=_0xa97983;_0x4b6d54[_0xab8168(0x205)][_0xab8168(0x235)]='none';},0x1f4));if(_0x41eb17){currentUser=_0x41eb17;const _0x966ca1=await isAllowedUser(_0x41eb17['email']);isUserApproved=_0x966ca1['allowed'],console['log'](_0xa97983(0x143),{'email':_0x41eb17['email'],'isUserApproved':isUserApproved,'reason':_0x966ca1[_0xa97983(0x19b)]});if(!_0x966ca1[_0xa97983(0x1ce)]){await registerSessionForUser(_0x41eb17),await loadBookmarksFromSupabase(),await loadContinueWatching(),showAuthenticatedUIWithPaymentPrompt(_0x966ca1['reason']);return;}await registerSessionForUser(_0x41eb17),await loadBookmarksFromSupabase(),await loadContinueWatching(),await updateSubscriptionStatus(_0x966ca1[_0xa97983(0xdb)]),showAuthenticatedUI(),setTimeout(()=>{showExtensionPopup();},0x3e8);}else currentUser=null,isUserApproved=![],showUnauthenticatedUI();}catch(_0x26dcfc){console[_0xa97983(0x193)](_0xa97983(0x19e),_0x26dcfc),showUnauthenticatedUI(),showNotification('Error\x20loading\x20user.\x20Please\x20refresh.',_0xa97983(0x193));}}function updateAccountModal(){const _0x97eebe=_0x5663a1,_0x174ae3=document[_0x97eebe(0x13c)](_0x97eebe(0xa0)),_0x3c984c=document[_0x97eebe(0x13c)]('account-member-since'),_0x44b334=document[_0x97eebe(0x13c)](_0x97eebe(0x217));if(!currentUser)return;_0x174ae3&&(_0x174ae3[_0x97eebe(0x112)]=currentUser['email']);_0x3c984c&&(_0x3c984c[_0x97eebe(0x112)]=new Date(currentUser[_0x97eebe(0x1c8)])[_0x97eebe(0x84)]());if(_0x44b334){const _0x119c36=isUserApproved?_0x97eebe(0x103):_0x97eebe(0x194),_0x249c8d=isUserApproved?_0x97eebe(0x122):_0x97eebe(0x191);_0x44b334[_0x97eebe(0x112)]=_0x119c36,_0x44b334[_0x97eebe(0x11d)]=_0x97eebe(0x23a)+_0x249c8d;}}function showAuthenticatedUIWithPaymentPrompt(_0x4cfaec){const _0x1e2617=_0x5663a1,{'auth-container':_0x3e8f9d,'main-header':_0x540f0c,'main-content':_0x594eba}=domCache[_0x1e2617(0x1ad)];if(_0x3e8f9d)_0x3e8f9d[_0x1e2617(0x205)]['display']=_0x1e2617(0xbb);if(_0x540f0c)_0x540f0c[_0x1e2617(0x205)]['display']=_0x1e2617(0x211);if(_0x594eba)_0x594eba[_0x1e2617(0x205)][_0x1e2617(0x235)]=_0x1e2617(0x10a);document[_0x1e2617(0x13c)]('account-email')[_0x1e2617(0x112)]=currentUser[_0x1e2617(0x1a2)],document[_0x1e2617(0x13c)]('account-member-since')[_0x1e2617(0x112)]=new Date(currentUser[_0x1e2617(0x1c8)])[_0x1e2617(0x84)]();const _0x5c4e4a=document[_0x1e2617(0x13c)]('subscription-status-text');if(_0x5c4e4a){if(_0x4cfaec===_0x1e2617(0x127)||_0x4cfaec==='not_approved')_0x5c4e4a[_0x1e2617(0x112)]=_0x1e2617(0x194),_0x5c4e4a[_0x1e2617(0x11d)]='subscription-status\x20pending';else _0x4cfaec===_0x1e2617(0x1bb)&&(_0x5c4e4a[_0x1e2617(0x112)]=_0x1e2617(0x1f2),_0x5c4e4a['className']='subscription-status\x20expired');}if(_0x4cfaec==='not_found'||_0x4cfaec==='not_approved')showNotification(_0x1e2617(0xab),_0x1e2617(0x15e));else _0x4cfaec===_0x1e2617(0x1bb)&&showNotification('Your\x20subscription\x20has\x20expired.\x20Please\x20renew.',_0x1e2617(0x15e));document['querySelectorAll'](_0x1e2617(0x1ff))[_0x1e2617(0xea)](_0x297ab1=>{const _0x93fe43=_0x1e2617;_0x297ab1[_0x93fe43(0x205)][_0x93fe43(0x235)]='block';}),loadSectionContent(_0x1e2617(0x164));}function showAuthenticatedUI(){const _0x3c7b4d=_0x5663a1,{'auth-container':_0x3eefa5,'main-header':_0x5cadaa,'main-content':_0x5b0474}=domCache[_0x3c7b4d(0x1ad)];if(_0x3eefa5)_0x3eefa5[_0x3c7b4d(0x205)][_0x3c7b4d(0x235)]=_0x3c7b4d(0xbb);if(_0x5cadaa)_0x5cadaa['style']['display']=_0x3c7b4d(0x211);if(_0x5b0474)_0x5b0474[_0x3c7b4d(0x205)]['display']=_0x3c7b4d(0x10a);document[_0x3c7b4d(0x13c)](_0x3c7b4d(0xa0))[_0x3c7b4d(0x112)]=currentUser[_0x3c7b4d(0x1a2)],document['getElementById'](_0x3c7b4d(0x101))[_0x3c7b4d(0x112)]=new Date(currentUser[_0x3c7b4d(0x1c8)])['toLocaleDateString']();const _0x39a96c=document[_0x3c7b4d(0x13c)]('subscription-status-text');_0x39a96c&&(_0x39a96c[_0x3c7b4d(0x112)]=_0x3c7b4d(0x103),_0x39a96c[_0x3c7b4d(0x11d)]='subscription-status\x20active'),document[_0x3c7b4d(0x1be)](_0x3c7b4d(0x1ff))[_0x3c7b4d(0xea)](_0x19b3eb=>{const _0x426a36=_0x3c7b4d;_0x19b3eb[_0x426a36(0x205)][_0x426a36(0x235)]=_0x426a36(0x10a);}),loadSectionContent(_0x3c7b4d(0x164));}async function updateSubscriptionStatus(_0x5b62f0){const _0x9c3d55=_0x5663a1,_0x3217a6=document[_0x9c3d55(0x13c)](_0x9c3d55(0x217));if(!_0x3217a6||!_0x5b62f0)return;const _0x889df3=new Date(_0x5b62f0),_0x517d98=new Date(),_0x275f5b=Math[_0x9c3d55(0xce)]((_0x889df3-_0x517d98)/(0x3e8*0x3c*0x3c*0x18));_0x275f5b>0x0?(_0x3217a6[_0x9c3d55(0x112)]=_0x275f5b+_0x9c3d55(0x1d4)+(_0x275f5b!==0x1?'s':'')+'\x20remaining',_0x3217a6['className']=_0x9c3d55(0x83)):(_0x3217a6[_0x9c3d55(0x112)]='Subscription\x20expired',_0x3217a6[_0x9c3d55(0x11d)]=_0x9c3d55(0x173));}async function loadBookmarksFromSupabase(){const _0xe1e760=_0x5663a1;if(!currentUser)return;try{const {data:_0x153c89,error:_0x1ff0ac}=await supabase[_0xe1e760(0x21c)](_0xe1e760(0xca))[_0xe1e760(0x142)]('*')['eq'](_0xe1e760(0x134),currentUser['id'])[_0xe1e760(0x87)]('added_at',{'ascending':![]});if(_0x1ff0ac){if(_0x1ff0ac[_0xe1e760(0x21a)]===_0xe1e760(0x17d)||_0x1ff0ac[_0xe1e760(0x222)]['includes']('does\x20not\x20exist')){showNotification(_0xe1e760(0x1c2),'warning'),bookmarks=[];return;}throw _0x1ff0ac;}bookmarks=_0x153c89[_0xe1e760(0x215)](_0xa99048=>({'id':_0xa99048['media_id'],'media_type':_0xa99048[_0xe1e760(0xb9)],'title':_0xa99048[_0xe1e760(0x238)],'name':_0xa99048['title'],'poster_path':_0xa99048[_0xe1e760(0x145)],'vote_average':_0xa99048[_0xe1e760(0x232)]||0x0,'release_date':_0xa99048[_0xe1e760(0x190)]||'','first_air_date':_0xa99048['first_air_date']||''}));}catch(_0x332f96){console['error'](_0xe1e760(0x1a9),_0x332f96),showNotification(_0xe1e760(0x1c2),_0xe1e760(0x15e)),bookmarks=[];}}async function loadContinueWatching(){const _0x563b83=_0x5663a1;if(!currentUser)return;try{const {data:_0x148f7c,error:_0x1732a8}=await supabase[_0x563b83(0x21c)](_0x563b83(0x188))['select']('*')['eq'](_0x563b83(0x134),currentUser['id'])['eq']('completed',![])[_0x563b83(0x11b)](_0x563b83(0x1cc),0x3c)[_0x563b83(0x87)]('last_watched_at',{'ascending':![]})['limit'](0xc);if(_0x1732a8){if(_0x1732a8[_0x563b83(0x21a)]===_0x563b83(0x17d)||_0x1732a8[_0x563b83(0x222)][_0x563b83(0x227)](_0x563b83(0xe8))){console['log'](_0x563b83(0x1a0)),continueWatching=[];return;}throw _0x1732a8;}continueWatching=_0x148f7c[_0x563b83(0x215)](_0x38589e=>({'id':_0x38589e[_0x563b83(0x8b)],'media_type':_0x38589e['media_type'],'title':_0x38589e[_0x563b83(0x238)],'name':_0x38589e[_0x563b83(0x238)],'poster_path':_0x38589e[_0x563b83(0x145)],'watch_progress':_0x38589e['watch_progress'],'total_duration':_0x38589e[_0x563b83(0xd9)],'progress_percentage':_0x38589e[_0x563b83(0xd9)]>0x0?_0x38589e[_0x563b83(0x1cc)]/_0x38589e[_0x563b83(0xd9)]*0x64:0x0}));const _0x5b4171=document[_0x563b83(0x13c)]('continue-watching-row');_0x5b4171&&(_0x5b4171['style'][_0x563b83(0x235)]=continueWatching[_0x563b83(0xdd)]>0x0?_0x563b83(0x10a):_0x563b83(0xbb));}catch(_0xd5d0d7){console[_0x563b83(0x193)](_0x563b83(0x15b),_0xd5d0d7),continueWatching=[];}}function renderContinueWatching(){const _0x14ff85=_0x5663a1,_0x560f4b=domCache['elements'][_0x14ff85(0x1fb)];if(!_0x560f4b)return;while(_0x560f4b[_0x14ff85(0x81)]){_0x560f4b[_0x14ff85(0x1c6)](_0x560f4b[_0x14ff85(0x81)]);}if(continueWatching[_0x14ff85(0xdd)]===0x0){const _0x546436=document[_0x14ff85(0x13c)](_0x14ff85(0x17c));if(_0x546436)_0x546436['style'][_0x14ff85(0x235)]='none';return;}const _0x3abaca=document['createDocumentFragment']();continueWatching[_0x14ff85(0xea)]((_0x3b5a60,_0x263cb7)=>{const _0x516511=_0x14ff85,_0x5ac221=createContinueWatchingCard(_0x3b5a60,_0x263cb7);_0x3abaca[_0x516511(0xd3)](_0x5ac221);}),_0x560f4b[_0x14ff85(0xd3)](_0x3abaca),setupLazyLoadingForGrid(_0x560f4b);}function createContinueWatchingCard(_0x47b368,_0x42621f){const _0xda70f3=_0x5663a1,_0x38ab1d=_0x47b368['title']||_0x47b368[_0xda70f3(0x1c9)],_0x466548=Math[_0xda70f3(0x16b)](_0x47b368['progress_percentage']||0x0,0x64),_0x3cd429=document[_0xda70f3(0x239)](_0xda70f3(0x11e));_0x3cd429[_0xda70f3(0x11d)]=_0xda70f3(0xa2),_0x3cd429[_0xda70f3(0x205)][_0xda70f3(0xef)]=_0x42621f*0x32+'ms',_0x3cd429[_0xda70f3(0x23e)]=0x0;const _0x3b5152=isUserApproved?'fa-play':_0xda70f3(0xda),_0x2be7a8=isUserApproved?'Continue\x20watching':_0xda70f3(0x146);_0x3cd429[_0xda70f3(0x82)]=_0xda70f3(0x126)+_0x47b368['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22Remove\x20from\x20Continue\x20Watching\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22Remove\x20from\x20continue\x20watching\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20data-src=\x22https://image.tmdb.org/t/p/w500'+_0x47b368[_0xda70f3(0x145)]+_0xda70f3(0x8f)+_0x38ab1d+_0xda70f3(0x15f)+_0x2be7a8+_0xda70f3(0x1aa)+_0x3b5152+_0xda70f3(0x1de)+_0x466548+_0xda70f3(0x8c)+_0x38ab1d+_0xda70f3(0x107)+Math[_0xda70f3(0x218)](_0x466548)+_0xda70f3(0x202)+(_0x47b368[_0xda70f3(0xb9)]==='tv'?'TV':_0xda70f3(0x1bf))+_0xda70f3(0x10c);const _0x514b3b=_0x3cd429['querySelector']('.play-btn');_0x514b3b&&_0x514b3b[_0xda70f3(0xe1)](_0xda70f3(0x20d),_0x3134e2=>{const _0x47b2bd=_0xda70f3;_0x3134e2['stopPropagation'](),isUserApproved?openPlayer({..._0x47b368,'media_type':_0x47b368['media_type']}):(showNotification(_0x47b2bd(0xff),_0x47b2bd(0x193)),openPaymentModal());});_0x3cd429[_0xda70f3(0xe1)](_0xda70f3(0x20d),debounce(()=>{const _0x773c60=_0xda70f3;isUserApproved?openPlayer({..._0x47b368,'media_type':_0x47b368[_0x773c60(0xb9)]}):(showNotification('Premium\x20access\x20required\x20to\x20watch\x20content',_0x773c60(0x193)),openPaymentModal());},0x12c));const _0x11ef5f=_0x3cd429[_0xda70f3(0x132)](_0xda70f3(0xd7));return _0x11ef5f&&_0x11ef5f[_0xda70f3(0xe1)](_0xda70f3(0x20d),_0x2754f4=>{const _0x34a6ce=_0xda70f3;_0x2754f4[_0x34a6ce(0x1a5)](),removeContinueWatching(_0x47b368['id']);}),_0x3cd429;}async function removeContinueWatching(_0xa9e58d){const _0x478ab8=_0x5663a1;if(!currentUser)return;try{const {error:_0x581817}=await supabase[_0x478ab8(0x21c)]('continue_watching')[_0x478ab8(0xb4)]()['eq'](_0x478ab8(0x134),currentUser['id'])['eq'](_0x478ab8(0x8b),_0xa9e58d);if(_0x581817)throw _0x581817;continueWatching=continueWatching[_0x478ab8(0xd6)](_0x107b1d=>_0x107b1d['id']!==_0xa9e58d),renderContinueWatching(),showNotification('Removed\x20from\x20Continue\x20Watching','success');}catch(_0x2286ca){console[_0x478ab8(0x193)](_0x478ab8(0x1b6),_0x2286ca),showNotification('Failed\x20to\x20remove\x20item','error');}}async function updateWatchProgress(_0x579708,_0x54852f,_0x553da2){const _0x28c1c2=_0x5663a1;if(!currentUser||!_0x579708||_0x54852f<0x3c)return;try{const _0x508e89=_0x553da2>0x0?_0x54852f/_0x553da2*0x64:0x0,_0x45423a=_0x508e89>0x5a,{error:_0x3cf019}=await supabase['from'](_0x28c1c2(0x188))[_0x28c1c2(0xa5)]({'user_id':currentUser['id'],'media_id':_0x579708['id'],'media_type':_0x579708['media_type'],'title':_0x579708[_0x28c1c2(0x238)]||_0x579708[_0x28c1c2(0x1c9)],'poster_path':_0x579708[_0x28c1c2(0x145)],'watch_progress':Math[_0x28c1c2(0x121)](_0x54852f),'total_duration':Math['floor'](_0x553da2),'last_watched_at':new Date()[_0x28c1c2(0x12f)](),'completed':_0x45423a},{'onConflict':_0x28c1c2(0x1dd),'returning':_0x28c1c2(0xec)});if(_0x3cf019)throw _0x3cf019;}catch(_0xba53e6){console[_0x28c1c2(0x193)](_0x28c1c2(0x177),_0xba53e6);}}function showUnauthenticatedUI(){const _0x374ead=_0x5663a1,{'auth-container':_0xdb30dc,'main-header':_0x492414,'main-content':_0x2f69a2}=domCache[_0x374ead(0x1ad)];if(_0xdb30dc)_0xdb30dc['style'][_0x374ead(0x235)]=_0x374ead(0x211);if(_0x492414)_0x492414[_0x374ead(0x205)][_0x374ead(0x235)]=_0x374ead(0xbb);if(_0x2f69a2)_0x2f69a2[_0x374ead(0x205)][_0x374ead(0x235)]=_0x374ead(0xbb);}function showHomeSection(){const _0x51b7d9=_0x5663a1;document[_0x51b7d9(0x1be)](_0x51b7d9(0xc8))[_0x51b7d9(0xea)](_0x355148=>_0x355148[_0x51b7d9(0x18d)]['remove']('active')),document['getElementById'](_0x51b7d9(0x140))?.[_0x51b7d9(0x18d)]['add'](_0x51b7d9(0x122)),document[_0x51b7d9(0x1be)]('.nav-link')[_0x51b7d9(0xea)](_0x2b67bd=>_0x2b67bd[_0x51b7d9(0x18d)]['remove'](_0x51b7d9(0x122))),document['querySelector'](_0x51b7d9(0x19c))?.[_0x51b7d9(0x18d)][_0x51b7d9(0x13b)]('active');}function loadSectionContent(_0x302a0f){const _0x4de809=_0x5663a1;showLoadingForSection(_0x302a0f);switch(_0x302a0f){case _0x4de809(0x164):Promise[_0x4de809(0x21b)]([loadFeaturedContent(),loadTrending(),loadPopularMovies(),loadPopularTVShows()])[_0x4de809(0x221)](()=>{renderContinueWatching();})[_0x4de809(0xbc)](()=>{const _0x92a66=_0x4de809;hideLoadingForSection(_0x302a0f);const _0x58c1ee=document[_0x92a66(0x13c)](_0x92a66(0x140));_0x58c1ee&&_0x58c1ee[_0x92a66(0x18d)][_0x92a66(0x242)](_0x92a66(0x122))&&featuredQueue[_0x92a66(0xdd)]>0x0&&startRotation();});break;case _0x4de809(0x22e):loadMovies('all')[_0x4de809(0xbc)](()=>hideLoadingForSection(_0x302a0f));break;case'tv':loadTVShows(_0x4de809(0x21b))['finally'](()=>hideLoadingForSection(_0x302a0f));break;case _0x4de809(0x1d2):loadBollywoodMovies(_0x4de809(0x21b))[_0x4de809(0xbc)](()=>hideLoadingForSection(_0x302a0f));break;case'mylist':loadBookmarks(),hideLoadingForSection(_0x302a0f);break;}}async function loadBollywoodMovies(_0x556fbc){const _0x43ed8a=_0x5663a1;try{let _0x463cad='https://api.themoviedb.org/3/discover/movie?sort_by=vote_average.desc&vote_count.gte=100&with_original_language=hi';_0x556fbc!==_0x43ed8a(0x21b)&&(_0x463cad+=_0x43ed8a(0x9e)+_0x556fbc);const _0x5e0a5a=await fetchWithTimeout(_0x463cad,{'headers':{'Authorization':_0x43ed8a(0x9a)+TMDB_TOKEN,'Content-Type':_0x43ed8a(0x229)}});if(!_0x5e0a5a['ok'])throw new Error(_0x43ed8a(0x244)+_0x5e0a5a['status']);const _0x4fb417=await _0x5e0a5a[_0x43ed8a(0x203)](),_0x1bc65f=_0x4fb417['results']['filter'](_0xf7a3e6=>!_0xf7a3e6[_0x43ed8a(0x1d5)]&&_0xf7a3e6['original_language']==='hi'&&_0xf7a3e6[_0x43ed8a(0x117)]>=0x64);renderMediaCards(_0x1bc65f,_0x43ed8a(0x116));}catch(_0x16b076){console['error'](_0x43ed8a(0x15d),_0x16b076),showNotification('Error\x20loading\x20Bollywood\x20movies',_0x43ed8a(0x193));}}function showLoadingForSection(_0x44f7ed){const _0x1d4b0d=_0x5663a1,_0xd36e04=document[_0x1d4b0d(0x13c)](_0x44f7ed+'-section');if(_0xd36e04&&!_0xd36e04[_0x1d4b0d(0x132)](_0x1d4b0d(0x1e5))){const _0x4f0aa5=document[_0x1d4b0d(0x239)](_0x1d4b0d(0x11e));_0x4f0aa5[_0x1d4b0d(0x11d)]=_0x1d4b0d(0x10b),_0x4f0aa5[_0x1d4b0d(0x82)]=_0x1d4b0d(0x161),_0xd36e04['appendChild'](_0x4f0aa5);}}function hideLoadingForSection(_0x2b95a6){const _0x4e3a6b=_0x5663a1,_0x446cef=document[_0x4e3a6b(0x13c)](_0x2b95a6+_0x4e3a6b(0xcc)),_0x17f88a=_0x446cef?.[_0x4e3a6b(0x132)](_0x4e3a6b(0x1e5));_0x17f88a&&_0x17f88a[_0x4e3a6b(0xc1)]();}async function fetchWithTimeout(_0x53eaed,_0x5ad250={},_0x7ab3bf=0x2710){const _0x335120=_0x5663a1,_0x1e7c06=new AbortController(),_0x17a42f=setTimeout(()=>_0x1e7c06['abort'](),_0x7ab3bf);try{const _0x42f0eb=await fetch(_0x53eaed,{..._0x5ad250,'signal':_0x1e7c06[_0x335120(0x99)]});return clearTimeout(_0x17a42f),_0x42f0eb;}catch(_0xbf6fd3){clearTimeout(_0x17a42f);throw _0xbf6fd3;}}async function loadFeaturedContent(){const _0x17e5ac=_0x5663a1;try{const _0x554c60=await fetchWithTimeout('https://api.themoviedb.org/3/movie/popular?language=en-US&page=1',{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0x17e5ac(0x229)}});if(!_0x554c60['ok'])throw new Error(_0x17e5ac(0x244)+_0x554c60[_0x17e5ac(0xf1)]);const _0x58516b=await _0x554c60[_0x17e5ac(0x203)](),_0x3b658c=new Date()[_0x17e5ac(0x1db)](),_0x35436c=_0x58516b[_0x17e5ac(0x1c0)][_0x17e5ac(0xd6)](_0x214fd4=>{const _0x634ba2=_0x17e5ac,_0x48a044=_0x214fd4['release_date']?parseInt(_0x214fd4['release_date'][_0x634ba2(0xb7)]('-')[0x0]):0x0;return _0x214fd4['adult']===![]&&_0x214fd4[_0x634ba2(0x232)]>=0x7&&_0x48a044>=0x7e4;});featuredQueue=_0x35436c[_0x17e5ac(0x1cd)](0x0,0x5),featuredQueue[_0x17e5ac(0xdd)]>0x0&&(featuredIndex=Math[_0x17e5ac(0x121)](Math[_0x17e5ac(0xcf)]()*featuredQueue[_0x17e5ac(0xdd)]),featuredMedia=featuredQueue[featuredIndex],updateHeroSection(featuredMedia),featuredQueue[_0x17e5ac(0xdd)]>=0x2&&startRotation());}catch(_0x246f6f){console['error'](_0x17e5ac(0x11f),_0x246f6f);}}function startRotation(){const _0x352cdd=_0x5663a1;if(rotationInterval||featuredQueue[_0x352cdd(0xdd)]<0x2)return;rotationInterval=setInterval(()=>{rotateFeatured();},0x1388);}function rotateFeatured(){const _0x3229df=_0x5663a1;if(featuredQueue['length']<0x2)return;const _0x292a66=document[_0x3229df(0x132)]('.hero-content'),_0x459ef1=document[_0x3229df(0x132)](_0x3229df(0x220));if(_0x292a66)_0x292a66[_0x3229df(0x205)]['opacity']='0';if(_0x459ef1)_0x459ef1[_0x3229df(0x205)]['opacity']='0';setTimeout(()=>{const _0x59c712=_0x3229df;featuredIndex=(featuredIndex+0x1)%featuredQueue[_0x59c712(0xdd)],featuredMedia=featuredQueue[featuredIndex],updateHeroSection(featuredMedia);if(_0x292a66)_0x292a66['style']['opacity']='1';if(_0x459ef1)_0x459ef1['style']['opacity']=_0x59c712(0x1fd);},0x320);}function _0x5d56(_0x29b0eb,_0x133b65){const _0x558c8f=_0x558c();return _0x5d56=function(_0x5d56d9,_0x2f936f){_0x5d56d9=_0x5d56d9-0x7e;let _0x3b9b29=_0x558c8f[_0x5d56d9];return _0x3b9b29;},_0x5d56(_0x29b0eb,_0x133b65);}function updateHeroSection(_0x3ee6f1){const _0x337855=_0x5663a1,_0x3f7c60=document[_0x337855(0x132)]('.hero-backdrop'),_0x48a84c=document[_0x337855(0x13c)]('hero-title'),_0x5cd1ed=document['getElementById'](_0x337855(0x1d8)),_0x184bd0=document[_0x337855(0x13c)](_0x337855(0x14d)),_0x179053=document[_0x337855(0x13c)](_0x337855(0x209)),_0x50cc10=document[_0x337855(0x13c)](_0x337855(0x22c));_0x3f7c60&&_0x3ee6f1[_0x337855(0x197)]&&(_0x3f7c60[_0x337855(0x205)][_0x337855(0x21e)]=_0x337855(0x21f)+_0x3ee6f1[_0x337855(0x197)]+')',_0x3f7c60[_0x337855(0x205)][_0x337855(0x170)]=_0x337855(0x1fd));_0x48a84c&&(_0x48a84c[_0x337855(0x112)]=_0x3ee6f1[_0x337855(0x238)]||_0x3ee6f1[_0x337855(0x1c9)]);if(_0x5cd1ed){const _0x18d385=_0x3ee6f1[_0x337855(0x232)]?_0x3ee6f1[_0x337855(0x232)][_0x337855(0xa1)](0x1):_0x337855(0x231),_0x2c108a=(_0x3ee6f1[_0x337855(0x190)]||_0x3ee6f1['first_air_date']||'')[_0x337855(0xb7)]('-')[0x0],_0x27b9e7=_0x3ee6f1['media_type']==='tv'?_0x337855(0x1ca):'Movie',_0x5c40fc=_0x3ee6f1[_0x337855(0xb0)]?_0x3ee6f1['genre_ids']['slice'](0x0,0x2)['map'](_0x585af5=>getGenreName(_0x585af5))['filter'](Boolean)['join'](',\x20'):_0x337855(0x18f);_0x5cd1ed[_0x337855(0x82)]=_0x337855(0xe3)+_0x18d385+'</span>\x0a\x20\x20\x20\x20\x20\x20<span>'+(_0x2c108a||_0x337855(0x231))+_0x337855(0x1dc)+(_0x5c40fc||_0x27b9e7)+_0x337855(0x1a6);}if(_0x184bd0){const _0x2f3156=_0x3ee6f1['overview']||_0x337855(0x196);_0x184bd0[_0x337855(0x112)]=_0x2f3156[_0x337855(0xdd)]>0xfa?_0x2f3156[_0x337855(0x154)](0x0,0xfa)+_0x337855(0x119):_0x2f3156;}_0x179053&&(isUserApproved?(_0x179053[_0x337855(0x82)]=_0x337855(0xfa),_0x179053[_0x337855(0x13a)]=()=>{const _0x2cbe93=_0x337855;openPlayer({..._0x3ee6f1,'media_type':_0x3ee6f1[_0x2cbe93(0xb9)]||'movie'});}):(_0x179053[_0x337855(0x82)]=_0x337855(0x1b4),_0x179053[_0x337855(0x13a)]=()=>{showNotification('Subscribe\x20to\x20unlock\x20premium\x20content','error'),openPaymentModal();}));if(_0x50cc10&&currentUser){const _0x23d6d7=bookmarks[_0x337855(0x23d)](_0x528b13=>_0x528b13['id']===_0x3ee6f1['id']),_0x5ad24d=_0x50cc10[_0x337855(0x132)]('i'),_0x543084=_0x50cc10[_0x337855(0x132)](_0x337855(0x1a7));_0x50cc10['classList'][_0x337855(0x13b)](_0x337855(0x8a));if(_0x23d6d7){_0x5ad24d[_0x337855(0x11d)]='fas\x20fa-bookmark',_0x50cc10[_0x337855(0x18d)][_0x337855(0x13b)](_0x337855(0x136));if(_0x543084)_0x543084[_0x337855(0x112)]=_0x337855(0xa3);}else{_0x5ad24d[_0x337855(0x11d)]=_0x337855(0x20c),_0x50cc10['classList'][_0x337855(0xc1)](_0x337855(0x136));if(_0x543084)_0x543084['textContent']=_0x337855(0x153);}_0x50cc10[_0x337855(0x13a)]=()=>{const _0x35200e=_0x337855;isUserApproved?toggleBookmark(_0x3ee6f1,_0x3ee6f1[_0x35200e(0xb9)]||_0x35200e(0x223),_0x50cc10):(showNotification(_0x35200e(0xa4),_0x35200e(0x193)),openPaymentModal());};}else _0x50cc10&&_0x50cc10['classList']['remove'](_0x337855(0x8a));}function getGenreName(_0x5eb804){const _0x164e2a=_0x5663a1,_0x321666={0x1c:'Action',0xc:'Adventure',0x10:_0x164e2a(0x210),0x23:'Comedy',0x50:'Crime',0x63:_0x164e2a(0x148),0x12:'Drama',0x29ff:_0x164e2a(0x93),0xe:'Fantasy',0x24:_0x164e2a(0xa8),0x1b:_0x164e2a(0xf4),0x28a2:_0x164e2a(0xa6),0x25b0:_0x164e2a(0x1ec),0x29fd:_0x164e2a(0x1e1),0x36e:_0x164e2a(0xfe),0x2a12:_0x164e2a(0x95),0x35:_0x164e2a(0x1d7),0x2a00:'War',0x25:_0x164e2a(0x10f),0x2a07:'Action',0x2a0d:_0x164e2a(0xfe)};return _0x321666[_0x5eb804]||'';}async function loadTrending(){const _0x26c7b2=_0x5663a1;try{const _0x221b26=await fetchWithTimeout(_0x26c7b2(0x12d),{'headers':{'Authorization':_0x26c7b2(0x9a)+TMDB_TOKEN,'Content-Type':_0x26c7b2(0x229)}});if(!_0x221b26['ok'])throw new Error(_0x26c7b2(0x244)+_0x221b26[_0x26c7b2(0xf1)]);const _0x5657bb=await _0x221b26[_0x26c7b2(0x203)]();renderMediaCards(_0x5657bb[_0x26c7b2(0x1c0)]['slice'](0x0,0xc),_0x26c7b2(0x17f));}catch(_0x54d948){console[_0x26c7b2(0x193)](_0x26c7b2(0x184),_0x54d948),showNotification(_0x26c7b2(0xb2),_0x26c7b2(0x193));}}async function loadPopularMovies(){const _0x605487=_0x5663a1;try{const _0x3fe22c=await fetchWithTimeout(_0x605487(0x165),{'headers':{'Authorization':_0x605487(0x9a)+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x3fe22c['ok'])throw new Error(_0x605487(0x244)+_0x3fe22c[_0x605487(0xf1)]);const _0x29f5cc=await _0x3fe22c[_0x605487(0x203)]();renderMediaCards(_0x29f5cc[_0x605487(0x1c0)][_0x605487(0x1cd)](0x0,0xc),_0x605487(0x201));}catch(_0x125bb8){console[_0x605487(0x193)](_0x605487(0x118),_0x125bb8),showNotification(_0x605487(0xcb),_0x605487(0x193));}}async function loadPopularTVShows(){const _0x2423b9=_0x5663a1;try{const _0x4aed1f=await fetchWithTimeout(_0x2423b9(0x16d),{'headers':{'Authorization':_0x2423b9(0x9a)+TMDB_TOKEN,'Content-Type':_0x2423b9(0x229)}});if(!_0x4aed1f['ok'])throw new Error(_0x2423b9(0x244)+_0x4aed1f[_0x2423b9(0xf1)]);const _0xd52738=await _0x4aed1f[_0x2423b9(0x203)]();renderMediaCards(_0xd52738[_0x2423b9(0x1c0)][_0x2423b9(0x1cd)](0x0,0xc),'popular-tv-grid');}catch(_0x558888){console[_0x2423b9(0x193)](_0x2423b9(0x192),_0x558888),showNotification(_0x2423b9(0xb8),_0x2423b9(0x193));}}async function loadMovies(_0xb044eb){const _0x2c4dff=_0x5663a1;try{let _0x7e968f=_0x2c4dff(0x1fe);_0xb044eb!==_0x2c4dff(0x21b)&&(_0x7e968f+='&with_genres='+_0xb044eb);const _0x2ae1bf=await fetchWithTimeout(_0x7e968f,{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0x2c4dff(0x229)}});if(!_0x2ae1bf['ok'])throw new Error(_0x2c4dff(0x244)+_0x2ae1bf[_0x2c4dff(0xf1)]);const _0x8ba3bb=await _0x2ae1bf[_0x2c4dff(0x203)]();renderMediaCards(_0x8ba3bb[_0x2c4dff(0x1c0)],_0x2c4dff(0xc7));}catch(_0x22fc6c){console[_0x2c4dff(0x193)](_0x2c4dff(0x115),_0x22fc6c),showNotification(_0x2c4dff(0x225),'error');}}async function loadTVShows(_0x3d8429){const _0x4ee19c=_0x5663a1;try{let _0x2185db='https://api.themoviedb.org/3/discover/tv?sort_by=popularity.desc';_0x3d8429!=='all'&&(_0x2185db+=_0x4ee19c(0x9e)+_0x3d8429);const _0x45358e=await fetchWithTimeout(_0x2185db,{'headers':{'Authorization':_0x4ee19c(0x9a)+TMDB_TOKEN,'Content-Type':_0x4ee19c(0x229)}});if(!_0x45358e['ok'])throw new Error(_0x4ee19c(0x244)+_0x45358e[_0x4ee19c(0xf1)]);const _0x828873=await _0x45358e['json']();renderMediaCards(_0x828873[_0x4ee19c(0x1c0)],_0x4ee19c(0xee));}catch(_0x5721f0){console[_0x4ee19c(0x193)]('Error\x20loading\x20TV\x20shows:',_0x5721f0),showNotification('Error\x20loading\x20TV\x20shows',_0x4ee19c(0x193));}}function renderMediaCards(_0x51f665,_0x59a344){const _0x5e93e9=_0x5663a1,_0x622976=document[_0x5e93e9(0x13c)](_0x59a344);if(!_0x622976)return;while(_0x622976[_0x5e93e9(0x81)]){_0x622976[_0x5e93e9(0x1c6)](_0x622976[_0x5e93e9(0x81)]);}if(!_0x51f665||_0x51f665[_0x5e93e9(0xdd)]===0x0){_0x622976[_0x5e93e9(0x82)]='<p\x20class=\x27no-content\x27>No\x20content\x20available</p>';return;}const _0x3c73a0=document[_0x5e93e9(0xd2)]();_0x51f665['forEach']((_0x30b655,_0x44e8b4)=>{const _0x15fbf9=_0x5e93e9,_0x3ddb0e=_0x30b655[_0x15fbf9(0xb9)]||(_0x30b655[_0x15fbf9(0x12b)]?'tv':_0x15fbf9(0x223)),_0x5eb370=createMediaCard(_0x30b655,_0x3ddb0e,_0x44e8b4);_0x3c73a0['appendChild'](_0x5eb370);}),_0x622976[_0x5e93e9(0xd3)](_0x3c73a0),setupLazyLoadingForGrid(_0x622976);}function createMediaCard(_0x437643,_0x5ae2f2,_0x852aae){const _0x113da4=_0x5663a1,_0x4cad75=_0x437643[_0x113da4(0x238)]||_0x437643[_0x113da4(0x1c9)],_0x4b86ec=(_0x437643[_0x113da4(0x190)]||_0x437643['first_air_date']||'')[_0x113da4(0xb7)]('-')[0x0],_0x336830=_0x437643[_0x113da4(0x232)]?_0x437643[_0x113da4(0x232)][_0x113da4(0xa1)](0x1):'N/A',_0x36430c=bookmarks['some'](_0x223275=>_0x223275['id']===_0x437643['id']),_0x3082b4=isUserApproved?'fa-play':_0x113da4(0xda),_0x496cc9=isUserApproved?_0x113da4(0x155)+_0x4cad75:_0x113da4(0x146),_0x87bd8c=document[_0x113da4(0x239)](_0x113da4(0x11e));_0x87bd8c['className']='media-card\x20hover-glow',_0x87bd8c['style'][_0x113da4(0xef)]=_0x852aae*0x32+'ms',_0x87bd8c[_0x113da4(0x23e)]=0x0;const _0x221b5c=currentUser&&isUserApproved?_0x113da4(0x187)+(_0x36430c?_0x113da4(0x136):'')+_0x113da4(0xc6)+_0x437643['id']+_0x113da4(0x12a)+(_0x36430c?_0x113da4(0xa3):'Add\x20to\x20List')+_0x113da4(0xae)+(_0x36430c?_0x113da4(0x21d):_0x113da4(0x8d))+_0x113da4(0x1e4)+(_0x36430c?_0x113da4(0x14b):_0x113da4(0x1a3))+_0x113da4(0x80):'';_0x87bd8c[_0x113da4(0x82)]=_0x113da4(0x15a)+_0x221b5c+_0x113da4(0xde)+_0x437643[_0x113da4(0x145)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x4cad75+_0x113da4(0x15f)+_0x496cc9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3082b4+_0x113da4(0x85)+_0x4cad75+'</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22card-rating\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x336830+_0x113da4(0x1e8)+_0x4b86ec+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>'+(_0x5ae2f2==='tv'?'TV':'Movie')+_0x113da4(0x10c);const _0x2a8cc5=_0x87bd8c[_0x113da4(0x132)]('.play-btn');_0x2a8cc5&&_0x2a8cc5[_0x113da4(0xe1)]('click',_0x5ebe62=>{const _0x46eb45=_0x113da4;_0x5ebe62[_0x46eb45(0x1a5)](),isUserApproved?openPlayer({..._0x437643,'media_type':_0x5ae2f2}):(showNotification(_0x46eb45(0xff),_0x46eb45(0x193)),openPaymentModal());});_0x87bd8c[_0x113da4(0xe1)](_0x113da4(0x20d),debounce(()=>{const _0x48cd18=_0x113da4;isUserApproved?openPlayer({..._0x437643,'media_type':_0x5ae2f2}):(showNotification(_0x48cd18(0xff),_0x48cd18(0x193)),openPaymentModal());},0x12c)),_0x87bd8c[_0x113da4(0xe1)](_0x113da4(0x1d6),_0x459ed4=>{const _0x3c4a08=_0x113da4;(_0x459ed4[_0x3c4a08(0x102)]===_0x3c4a08(0x9d)||_0x459ed4[_0x3c4a08(0x102)]==='\x20')&&(_0x459ed4[_0x3c4a08(0x10d)](),isUserApproved?openPlayer({..._0x437643,'media_type':_0x5ae2f2}):(showNotification('Premium\x20access\x20required\x20to\x20watch\x20content',_0x3c4a08(0x193)),openPaymentModal()));});const _0x5c5f61=_0x87bd8c['querySelector'](_0x113da4(0x14c));return _0x5c5f61&&_0x5c5f61[_0x113da4(0xe1)](_0x113da4(0x20d),_0x517823=>{const _0x3aa025=_0x113da4;_0x517823[_0x3aa025(0x1a5)](),isUserApproved?(animateButton(_0x5c5f61),toggleBookmark(_0x437643,_0x5ae2f2,_0x5c5f61)):(showNotification(_0x3aa025(0xa4),_0x3aa025(0x193)),openPaymentModal());}),_0x87bd8c;}function setupLazyLoadingForGrid(_0x2a2701){const _0x42315e=_0x5663a1,_0x24d1ab=domCache[_0x42315e(0x18a)][_0x42315e(0x1f6)](_0x42315e(0x1e7));_0x24d1ab&&_0x2a2701[_0x42315e(0x1be)](_0x42315e(0xf7))['forEach'](_0x224c76=>{_0x24d1ab['observe'](_0x224c76);});}function animateButton(_0x815566){const _0x2aec6d=_0x5663a1;_0x815566[_0x2aec6d(0x205)][_0x2aec6d(0x17b)]=_0x2aec6d(0x1c5),setTimeout(()=>{const _0x468b81=_0x2aec6d;_0x815566[_0x468b81(0x205)][_0x468b81(0x17b)]=_0x468b81(0x1ef);},0x96);}function loadBookmarks(){const _0x1564f7=_0x5663a1,_0x5b6335=document[_0x1564f7(0x13c)](_0x1564f7(0x236));if(!_0x5b6335)return;if(bookmarks[_0x1564f7(0xdd)]===0x0){_0x5b6335[_0x1564f7(0x82)]=_0x1564f7(0xaa);return;}renderMediaCards(bookmarks,_0x1564f7(0x236));}function toggleBookmark(_0x3f69c5,_0x3fd412,_0x34221a){const _0x4ce236=_0x5663a1;if(!currentUser){showNotification(_0x4ce236(0x13e),_0x4ce236(0x193));return;}if(!isUserApproved){showNotification('Subscribe\x20to\x20use\x20bookmark\x20feature',_0x4ce236(0x193)),openPaymentModal();return;}const _0x501101=bookmarks[_0x4ce236(0x186)](_0xd8f992=>_0xd8f992['id']===_0x3f69c5['id']),_0x46bd91=_0x34221a[_0x4ce236(0x132)]('i');_0x501101>-0x1?(bookmarks['splice'](_0x501101,0x1),showNotification('Removed\x20from\x20your\x20list',_0x4ce236(0x206)),removeBookmarkFromSupabase(_0x3f69c5['id']),_0x46bd91&&(_0x46bd91[_0x4ce236(0x11d)]=_0x4ce236(0x20c)),_0x34221a[_0x4ce236(0x18d)][_0x4ce236(0xc1)](_0x4ce236(0x136)),_0x34221a['title']='Add\x20to\x20List'):(bookmarks[_0x4ce236(0xbf)]({..._0x3f69c5,'media_type':_0x3fd412}),showNotification(_0x4ce236(0x100),_0x4ce236(0x206)),addBookmarkToSupabase(_0x3f69c5,_0x3fd412),_0x46bd91&&(_0x46bd91[_0x4ce236(0x11d)]=_0x4ce236(0x149)),_0x34221a['classList']['add'](_0x4ce236(0x136)),_0x34221a['title']=_0x4ce236(0xa3)),document['getElementById'](_0x4ce236(0x213))?.[_0x4ce236(0x18d)][_0x4ce236(0x242)](_0x4ce236(0x122))&&loadBookmarks(),featuredMedia&&featuredMedia['id']===_0x3f69c5['id']&&updateHeroSection(featuredMedia);}async function addBookmarkToSupabase(_0x311919,_0x5f409d){const _0x36a073=_0x5663a1;try{const {error:_0x14a770}=await supabase[_0x36a073(0x21c)](_0x36a073(0xca))['insert']({'user_id':currentUser['id'],'media_id':_0x311919['id'],'media_type':_0x5f409d,'title':_0x311919[_0x36a073(0x238)]||_0x311919[_0x36a073(0x1c9)],'poster_path':_0x311919[_0x36a073(0x145)],'vote_average':_0x311919[_0x36a073(0x232)],'release_date':_0x311919[_0x36a073(0x190)]||null,'first_air_date':_0x311919[_0x36a073(0x12b)]||null,'added_at':new Date()[_0x36a073(0x12f)]()});if(_0x14a770)throw _0x14a770;}catch(_0x1018ea){console[_0x36a073(0x193)]('Error\x20adding\x20bookmark\x20to\x20Supabase:',_0x1018ea);}}async function removeBookmarkFromSupabase(_0x286c55){const _0x3fa892=_0x5663a1;try{const {error:_0xdc9af8}=await supabase[_0x3fa892(0x21c)](_0x3fa892(0xca))[_0x3fa892(0xb4)]()['eq'](_0x3fa892(0x134),currentUser['id'])['eq'](_0x3fa892(0x8b),_0x286c55);if(_0xdc9af8)throw _0xdc9af8;}catch(_0x29cf5c){console['error'](_0x3fa892(0xed),_0x29cf5c);}}async function performSearch(_0x46be17){const _0x3a712e=_0x5663a1;if(!_0x46be17['trim']()){showHomeSection();return;}try{showLoadingForSection(_0x3a712e(0x1e2));const _0x3751de=await fetchWithTimeout(_0x3a712e(0x1cb)+encodeURIComponent(_0x46be17),{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0x3a712e(0x229)}});if(!_0x3751de['ok'])throw new Error('HTTP\x20'+_0x3751de[_0x3a712e(0xf1)]);const _0x13774f=await _0x3751de['json'](),_0x3f147d=_0x13774f[_0x3a712e(0x1c0)][_0x3a712e(0xd6)](_0x2d12f9=>!_0x2d12f9[_0x3a712e(0x1d5)]&&(_0x2d12f9[_0x3a712e(0xb9)]===_0x3a712e(0x223)||_0x2d12f9[_0x3a712e(0xb9)]==='tv')&&_0x2d12f9[_0x3a712e(0x145)]);currentUser&&recordSearchHistory(_0x46be17),document[_0x3a712e(0x1be)](_0x3a712e(0xc8))[_0x3a712e(0xea)](_0x4e56b9=>_0x4e56b9[_0x3a712e(0x18d)][_0x3a712e(0xc1)](_0x3a712e(0x122))),document['getElementById']('search-section')?.['classList'][_0x3a712e(0x13b)](_0x3a712e(0x122)),renderMediaCards(_0x3f147d,_0x3a712e(0x1a8)),setTimeout(()=>{const _0x39d04b=_0x3a712e,_0x49e704=document[_0x39d04b(0x13c)]('search-section');if(_0x49e704){const _0xcb4d70=document[_0x39d04b(0x132)](_0x39d04b(0xf3))?.[_0x39d04b(0x10e)]||0x50,_0x24b898=_0x49e704[_0x39d04b(0xf2)]-_0xcb4d70-0x14;window[_0x39d04b(0x1bc)]({'top':_0x24b898,'behavior':'smooth'});}},0x64);}catch(_0xf6abd8){console[_0x3a712e(0x193)](_0x3a712e(0x11c),_0xf6abd8),showNotification(_0x3a712e(0x130),_0x3a712e(0x193));}finally{hideLoadingForSection(_0x3a712e(0x1e2));}}async function recordSearchHistory(_0x2e8e22){const _0x321c56=_0x5663a1;try{const {error:_0x582f0f}=await supabase[_0x321c56(0x21c)](_0x321c56(0x163))[_0x321c56(0x1e9)]({'user_id':currentUser['id'],'query':_0x2e8e22,'searched_at':new Date()[_0x321c56(0x12f)]()});if(_0x582f0f)throw _0x582f0f;}catch(_0x125b83){console[_0x321c56(0x193)](_0x321c56(0xd4),_0x125b83);}}async function recordWatchHistory(_0x1482bd,_0x17a42c=null,_0x3f3e52=null,_0x38a14b=0x0){const _0x4d3572=_0x5663a1;try{const {error:_0x4b5a44}=await supabase[_0x4d3572(0x21c)](_0x4d3572(0x1ba))[_0x4d3572(0x1e9)]({'user_id':currentUser['id'],'media_id':_0x1482bd['id'],'media_type':_0x1482bd[_0x4d3572(0xb9)],'title':_0x1482bd['title']||_0x1482bd[_0x4d3572(0x1c9)],'season':_0x17a42c,'episode':_0x3f3e52,'duration':_0x38a14b,'watched_at':new Date()['toISOString']()});if(_0x4b5a44)throw _0x4b5a44;}catch(_0x11ad72){console[_0x4d3572(0x193)](_0x4d3572(0x1c4),_0x11ad72);}}function openPlayer(_0x495862){const _0x5ef088=_0x5663a1;if(!currentUser){showNotification('Please\x20log\x20in\x20to\x20stream\x20content','error');return;}if(!isUserApproved){showNotification(_0x5ef088(0x1f7),'error'),openPaymentModal();return;}currentMediaType=_0x495862['media_type'],currentMediaId=_0x495862['id'],currentMediaTitle=_0x495862[_0x5ef088(0x238)]||_0x495862['name'],currentMediaData=_0x495862,document[_0x5ef088(0x13c)](_0x5ef088(0x109))['textContent']=currentMediaTitle,document[_0x5ef088(0x13c)](_0x5ef088(0x240))[_0x5ef088(0x112)]=_0x495862[_0x5ef088(0x189)]||'No\x20description\x20available';const _0x22d529=document['getElementById'](_0x5ef088(0x138)),_0x6c7d9f=document[_0x5ef088(0x13c)](_0x5ef088(0x20b)),_0x2fe773=document[_0x5ef088(0x13c)](_0x5ef088(0xd8));_0x22d529&&(_0x22d529['textContent']=_0x495862[_0x5ef088(0x232)]?_0x495862[_0x5ef088(0x232)]['toFixed'](0x1):_0x5ef088(0x231));if(_0x6c7d9f){const _0x4ff162=(_0x495862[_0x5ef088(0x190)]||_0x495862['first_air_date']||'')[_0x5ef088(0xb7)]('-')[0x0];_0x6c7d9f['textContent']=_0x4ff162||_0x5ef088(0x231);}_0x2fe773&&(_0x2fe773[_0x5ef088(0x112)]=currentMediaType==='tv'?_0x5ef088(0x1ca):_0x5ef088(0x1bf));const _0x5afa08=document['getElementById'](_0x5ef088(0x18b));_0x5afa08&&(_0x5afa08[_0x5ef088(0x205)][_0x5ef088(0x235)]=currentMediaType==='tv'?'flex':'none');currentMediaType==='tv'&&(currentSeason=0x1,currentEpisode=0x1,loadSeasons(currentMediaId));buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date();if(playerInterval)clearInterval(playerInterval);playerInterval=setInterval(()=>{trackPlayerProgress();},0x7530);const _0x57b974=domCache[_0x5ef088(0x1ad)][_0x5ef088(0xd0)];_0x57b974&&(_0x57b974[_0x5ef088(0x18d)][_0x5ef088(0x13b)](_0x5ef088(0x122)),setTimeout(()=>{const _0x512594=_0x5ef088;_0x57b974[_0x512594(0x18d)][_0x512594(0x13b)]('opened');},0x32));}function trackPlayerProgress(){const _0x410c5d=_0x5663a1;if(!currentUser||!currentMediaData)return;const _0x408f81=domCache['elements'][_0x410c5d(0x135)];if(!_0x408f81||!_0x408f81[_0x410c5d(0xc0)])return;const _0x5deaa4=watchStartTime?(new Date()-watchStartTime)/0x3e8:0x0,_0x55a56b=currentMediaType===_0x410c5d(0x223)?0x1c20:0xa8c;_0x5deaa4>0x3c&&updateWatchProgress(currentMediaData,_0x5deaa4,_0x55a56b);}function closePlayer(){const _0x304323=_0x5663a1;if(watchStartTime&&currentUser&&currentMediaData){const _0x23d56a=new Date(),_0x448cab=(_0x23d56a-watchStartTime)/0x3e8;if(_0x448cab>0x1e){const _0x3ad9e8={'id':currentMediaId,'media_type':currentMediaType,'title':currentMediaTitle};recordWatchHistory(_0x3ad9e8,currentMediaType==='tv'?currentSeason:null,currentMediaType==='tv'?currentEpisode:null,_0x448cab);const _0x264321=currentMediaType===_0x304323(0x223)?0x1c20:0xa8c;updateWatchProgress(currentMediaData,_0x448cab,_0x264321);}}cleanupPlayer();const _0x43f632=domCache[_0x304323(0x1ad)][_0x304323(0xd0)];_0x43f632&&(_0x43f632['classList'][_0x304323(0xc1)](_0x304323(0x133)),setTimeout(()=>{const _0x4e6b68=_0x304323;_0x43f632['classList']['remove']('active'),document[_0x4e6b68(0x15c)][_0x4e6b68(0x205)][_0x4e6b68(0x172)]='';},0x12c)),document[_0x304323(0x13c)](_0x304323(0x140))?.[_0x304323(0x18d)][_0x304323(0x242)](_0x304323(0x122))&&loadContinueWatching()['then'](()=>renderContinueWatching());}function cleanupPlayer(){const _0xb235da=_0x5663a1;playerInterval&&(clearInterval(playerInterval),playerInterval=null);const _0x4d6389=domCache[_0xb235da(0x1ad)]['video-frame'];_0x4d6389&&(_0x4d6389[_0xb235da(0xc0)]='about:blank'),currentMediaType==='tv'&&(currentSeason=0x1,currentEpisode=0x1),watchStartTime=null;}function buildEmbedSources(){const _0xbcc3de=_0x5663a1;if(currentMediaType===_0xbcc3de(0x223))embedSources=[{'name':'Source\x201','url':_0xbcc3de(0x17e)+currentMediaId},{'name':_0xbcc3de(0x233),'url':_0xbcc3de(0x180)+currentMediaId},{'name':'Source\x203','url':_0xbcc3de(0x1fa)+currentMediaId}];else currentMediaType==='tv'&&(embedSources=[{'name':_0xbcc3de(0x1f0),'url':_0xbcc3de(0x1f4)+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':_0xbcc3de(0x233),'url':_0xbcc3de(0x237)+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':_0xbcc3de(0x157),'url':'https://player.videasy.net/tv/'+currentMediaId+'/'+currentSeason+'/'+currentEpisode}]);}function populateSourceButtons(){const _0xddc62a=_0x5663a1,_0x5a025f=document[_0xddc62a(0x13c)](_0xddc62a(0x234));if(!_0x5a025f)return;_0x5a025f['innerHTML']='',embedSources[_0xddc62a(0xea)]((_0xce8b6b,_0x4d9021)=>{const _0x4bf8cf=_0xddc62a,_0x5aceb8=document[_0x4bf8cf(0x239)](_0x4bf8cf(0x1f9));_0x5aceb8['className']=_0x4bf8cf(0x141);if(_0x4d9021===0x0)_0x5aceb8[_0x4bf8cf(0x18d)][_0x4bf8cf(0x13b)](_0x4bf8cf(0x122));_0x5aceb8[_0x4bf8cf(0x112)]=_0xce8b6b['name'],_0x5aceb8[_0x4bf8cf(0x205)][_0x4bf8cf(0xef)]=_0x4d9021*0x64+'ms',_0x5aceb8[_0x4bf8cf(0xe1)]('click',debounce(()=>{const _0x1a50ab=_0x4bf8cf;document[_0x1a50ab(0x1be)](_0x1a50ab(0xe4))[_0x1a50ab(0xea)](_0x39c57f=>_0x39c57f[_0x1a50ab(0x18d)][_0x1a50ab(0xc1)](_0x1a50ab(0x122))),_0x5aceb8[_0x1a50ab(0x18d)][_0x1a50ab(0x13b)](_0x1a50ab(0x122)),loadSource(_0x4d9021);},0xc8)),_0x5a025f[_0x4bf8cf(0xd3)](_0x5aceb8);});}function loadSource(_0x3a4938){const _0x24b859=_0x5663a1;if(_0x3a4938<0x0||_0x3a4938>=embedSources['length'])return;const _0x517e0b=embedSources[_0x3a4938],_0x5634ff=domCache[_0x24b859(0x1ad)]['video-frame'];if(!_0x5634ff)return;_0x5634ff['setAttribute']('allow','autoplay;\x20fullscreen;\x20encrypted-media;\x20picture-in-picture'),_0x5634ff[_0x24b859(0x92)]('referrerpolicy',_0x24b859(0xc4)),showVideoLoadingState();let _0x1c5c59=0x0;const _0x53ed8a=0x2;function _0x36abd3(){const _0x961510=_0x24b859;_0x5634ff['onerror']=()=>{const _0x4b0ee5=_0x5d56;_0x1c5c59++,_0x1c5c59<=_0x53ed8a?(showNotification(_0x4b0ee5(0x20f)+_0x517e0b['name']+_0x4b0ee5(0x20a)+_0x1c5c59+'/'+_0x53ed8a+')','warning'),setTimeout(_0x36abd3,0x3e8*_0x1c5c59)):handleSourceFailure(_0x3a4938);},_0x5634ff[_0x961510(0x207)]=()=>{hideVideoLoadingState();},_0x5634ff['src']=_0x517e0b['url']+(_0x517e0b['url'][_0x961510(0x227)]('?')?'&':'?')+'t='+Date[_0x961510(0x159)]();}const _0x13658d=setTimeout(()=>{const _0x5bc218=_0x24b859;_0x5634ff['src']&&!_0x5634ff[_0x5bc218(0x17a)]?.['length']&&handleSourceFailure(_0x3a4938);},0x2710);_0x5634ff[_0x24b859(0xe1)](_0x24b859(0x226),()=>clearTimeout(_0x13658d),{'once':!![]}),_0x36abd3();}function handleSourceFailure(_0x226cff){const _0x1c25f4=_0x5663a1;hideVideoLoadingState();const _0x2bd720=(_0x226cff+0x1)%embedSources[_0x1c25f4(0xdd)];_0x2bd720!==_0x226cff?(showNotification(_0x1c25f4(0x1c1)+embedSources[_0x2bd720]['name']+_0x1c25f4(0x119),_0x1c25f4(0x15e)),setTimeout(()=>loadSource(_0x2bd720),0x3e8)):showNotification(_0x1c25f4(0x1f5),'error');}function showVideoLoadingState(){const _0x23db24=_0x5663a1,_0x57a842=document[_0x23db24(0x132)]('.player-video-section');if(_0x57a842&&!_0x57a842[_0x23db24(0x132)](_0x23db24(0x1ae))){const _0x162998=document[_0x23db24(0x239)](_0x23db24(0x11e));_0x162998['className']=_0x23db24(0xcd),_0x162998[_0x23db24(0x82)]=_0x23db24(0x168),_0x57a842[_0x23db24(0xd3)](_0x162998);}}function hideVideoLoadingState(){const _0x4098bb=_0x5663a1,_0x30cb28=document[_0x4098bb(0x132)](_0x4098bb(0x1ae));_0x30cb28&&_0x30cb28[_0x4098bb(0xc1)]();}async function loadSeasons(_0x9cf95f){const _0x5e3698=_0x5663a1;try{const _0x112d96=await fetchWithTimeout('https://api.themoviedb.org/3/tv/'+_0x9cf95f,{'headers':{'Authorization':_0x5e3698(0x9a)+TMDB_TOKEN,'Content-Type':_0x5e3698(0x229)}});if(!_0x112d96['ok'])throw new Error(_0x5e3698(0x244)+_0x112d96[_0x5e3698(0xf1)]);const _0xd7c3fa=await _0x112d96['json'](),_0x10483a=_0xd7c3fa[_0x5e3698(0x1df)]['filter'](_0x5c0b9e=>_0x5c0b9e[_0x5e3698(0x22b)]>0x0),_0x304d13=document['getElementById'](_0x5e3698(0x12e));if(!_0x304d13)return;_0x304d13['innerHTML']='',_0x10483a[_0x5e3698(0xea)](_0x33a73d=>{const _0x1879e3=_0x5e3698,_0x121e35=document[_0x1879e3(0x239)](_0x1879e3(0xc9));_0x121e35[_0x1879e3(0x200)]=_0x33a73d[_0x1879e3(0x22b)],_0x121e35[_0x1879e3(0x112)]='Season\x20'+_0x33a73d[_0x1879e3(0x22b)],_0x33a73d['season_number']===currentSeason&&(_0x121e35['selected']=!![]),_0x304d13[_0x1879e3(0xd3)](_0x121e35);}),_0x304d13[_0x5e3698(0xe1)]('change',debounce(_0x326c75=>{const _0x54e836=_0x5e3698;currentSeason=parseInt(_0x326c75[_0x54e836(0x137)][_0x54e836(0x200)]),currentEpisode=0x1,reloadTVContent();},0x12c)),await loadEpisodes(_0x9cf95f,currentSeason);}catch(_0x491216){console['error']('Error\x20loading\x20seasons:',_0x491216),showNotification(_0x5e3698(0x1b8),_0x5e3698(0x193));}}async function loadEpisodes(_0x27e8de,_0x494b90){const _0x30d182=_0x5663a1;try{const _0x4f9c8c=await fetchWithTimeout(_0x30d182(0x97)+_0x27e8de+'/season/'+_0x494b90,{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0x30d182(0x229)}});if(!_0x4f9c8c['ok'])throw new Error(_0x30d182(0x244)+_0x4f9c8c['status']);const _0x5c4541=await _0x4f9c8c[_0x30d182(0x203)]();renderEpisodeCards(_0x5c4541[_0x30d182(0x16f)]);}catch(_0x5c5933){console[_0x30d182(0x193)](_0x30d182(0xf6),_0x5c5933),showNotification(_0x30d182(0x120),_0x30d182(0x193));}}function renderEpisodeCards(_0x4b9441){const _0x3778df=_0x5663a1,_0x5ef80f=document['getElementById'](_0x3778df(0x158));if(!_0x5ef80f)return;_0x5ef80f[_0x3778df(0x82)]='';if(!_0x4b9441||_0x4b9441[_0x3778df(0xdd)]===0x0){_0x5ef80f[_0x3778df(0x82)]='<p\x20class=\x27no-episodes\x27>No\x20episodes\x20available</p>';return;}const _0x24bda1=document[_0x3778df(0xd2)]();_0x4b9441['forEach']((_0x348b82,_0xe00d32)=>{const _0x375083=_0x3778df,_0xf6453a=document[_0x375083(0x239)](_0x375083(0x11e));_0xf6453a[_0x375083(0x11d)]=_0x375083(0x1da)+(_0x348b82[_0x375083(0x243)]===currentEpisode?_0x375083(0x122):''),_0xf6453a[_0x375083(0x205)]['animationDelay']=_0xe00d32*0x32+'ms',_0xf6453a[_0x375083(0x82)]='\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-number\x22>'+_0x348b82[_0x375083(0x243)]+_0x375083(0x1ab)+(_0x348b82[_0x375083(0x1c9)]||'Episode\x20'+_0x348b82[_0x375083(0x243)])+_0x375083(0x18c)+(_0x348b82[_0x375083(0x185)]?_0x348b82[_0x375083(0x185)]+'m\x20•\x20':'')+_0x375083(0x208)+(_0x348b82[_0x375083(0x160)]?new Date(_0x348b82['air_date'])[_0x375083(0x1db)]():_0x375083(0x1d1))+_0x375083(0x19d),_0xf6453a[_0x375083(0xe1)](_0x375083(0x20d),debounce(()=>{const _0x77460f=_0x375083;document[_0x77460f(0x1be)](_0x77460f(0x20e))[_0x77460f(0xea)](_0x39c8f8=>_0x39c8f8[_0x77460f(0x18d)][_0x77460f(0xc1)](_0x77460f(0x122))),_0xf6453a[_0x77460f(0x18d)][_0x77460f(0x13b)]('active'),currentEpisode=_0x348b82[_0x77460f(0x243)],reloadTVContent();},0x12c)),_0x24bda1[_0x375083(0xd3)](_0xf6453a);}),_0x5ef80f[_0x3778df(0xd3)](_0x24bda1);}function reloadTVContent(){showVideoLoadingState(),buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date();}function showNotification(_0x3d0dd9,_0x4be926='success'){const _0xd944dd=_0x5663a1,_0x5719bd=document[_0xd944dd(0x13c)](_0xd944dd(0x113));if(!_0x5719bd)return;const _0x55c03d=document['createElement'](_0xd944dd(0x11e));_0x55c03d[_0xd944dd(0x11d)]=_0xd944dd(0x1ed)+_0x4be926+_0xd944dd(0x16c),_0x55c03d[_0xd944dd(0x92)](_0xd944dd(0x1a4),_0xd944dd(0x11a)),_0x55c03d['innerHTML']='\x0a\x20\x20\x20\x20<i\x20class=\x22notification-icon\x20fas\x20'+(_0x4be926===_0xd944dd(0x206)?'fa-check-circle':_0x4be926===_0xd944dd(0x193)?_0xd944dd(0x131):'fa-exclamation-triangle')+_0xd944dd(0x128)+_0x3d0dd9+_0xd944dd(0x9f),_0x5719bd[_0xd944dd(0xd3)](_0x55c03d),setTimeout(()=>_0x55c03d['classList']['add'](_0xd944dd(0x8a)),0x64);const _0x5a95ca=setTimeout(()=>{removeNotification(_0x55c03d);},0x1388),_0x552461=_0x55c03d[_0xd944dd(0x132)]('.notification-close');_0x552461[_0xd944dd(0xe1)](_0xd944dd(0x20d),()=>{clearTimeout(_0x5a95ca),removeNotification(_0x55c03d);}),_0x55c03d['addEventListener'](_0xd944dd(0x20d),_0x47913a=>{const _0x5f5177=_0xd944dd;(_0x47913a[_0x5f5177(0x137)]===_0x55c03d||_0x47913a[_0x5f5177(0x137)]['closest'](_0x5f5177(0xac)))&&(clearTimeout(_0x5a95ca),removeNotification(_0x55c03d));});}function removeNotification(_0x5373a6){const _0x2c7095=_0x5663a1;_0x5373a6[_0x2c7095(0x18d)][_0x2c7095(0x13b)](_0x2c7095(0xaf)),setTimeout(()=>{const _0x2b923c=_0x2c7095;_0x5373a6[_0x2b923c(0x7f)]&&_0x5373a6[_0x2b923c(0xc1)]();},0x12c);}document['addEventListener'](_0x5663a1(0x1e6),_0x43d920=>{const _0x9040b3=_0x5663a1;if(!isPlayerOpen)return;switch(_0x43d920['key']){case _0x9040b3(0x156):closePlayer();break;}});let scrollTimeout;window[_0x5663a1(0xe1)]('scroll',()=>{!scrollTimeout&&(scrollTimeout=setTimeout(()=>{const _0x482ea7=_0x5d56,_0x4d76d9=domCache[_0x482ea7(0x1ad)]['main-header'];_0x4d76d9&&_0x4d76d9['classList']['toggle'](_0x482ea7(0x1b0),window[_0x482ea7(0x105)]>0x32),scrollTimeout=null;},0xa));}),window[_0x5663a1(0xe1)](_0x5663a1(0x23c),()=>{const _0x7bc0a4=_0x5663a1;if(playerInterval)clearInterval(playerInterval);if(scrollTimeout)clearTimeout(scrollTimeout);if(searchDebounce)clearTimeout(searchDebounce);domCache[_0x7bc0a4(0x18a)][_0x7bc0a4(0xea)](_0x432db7=>_0x432db7['disconnect']());}),window[_0x5663a1(0x171)]={'closePlayer':closePlayer,'showNotification':showNotification,'toggleBookmark':(_0x479a03,_0x392cb2)=>{const _0x805467=_0x5663a1,_0x195f30=document['createElement'](_0x805467(0x1f9));toggleBookmark(_0x479a03,_0x392cb2,_0x195f30);}};