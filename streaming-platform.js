const _0x57e3c7=_0x31d1;(function(_0x111382,_0x141c17){const _0xb5d606=_0x31d1,_0x1db26f=_0x111382();while(!![]){try{const _0x55474b=parseInt(_0xb5d606(0x11d))/0x1*(-parseInt(_0xb5d606(0x189))/0x2)+parseInt(_0xb5d606(0x22f))/0x3*(parseInt(_0xb5d606(0x126))/0x4)+-parseInt(_0xb5d606(0x232))/0x5+parseInt(_0xb5d606(0x122))/0x6+-parseInt(_0xb5d606(0x23b))/0x7*(-parseInt(_0xb5d606(0xff))/0x8)+parseInt(_0xb5d606(0x1c5))/0x9+-parseInt(_0xb5d606(0xf1))/0xa*(parseInt(_0xb5d606(0x253))/0xb);if(_0x55474b===_0x141c17)break;else _0x1db26f['push'](_0x1db26f['shift']());}catch(_0x1d976f){_0x1db26f['push'](_0x1db26f['shift']());}}}(_0x1044,0x2cf31));const SUPABASE_URL=_0x57e3c7(0x134),SUPABASE_ANON_KEY='__SUPABASE_ANON_KEY__',TMDB_TOKEN=_0x57e3c7(0xc1),supabase=window[_0x57e3c7(0x27d)][_0x57e3c7(0x1a6)](SUPABASE_URL,SUPABASE_ANON_KEY);let currentUser=null,currentMediaType=null,currentMediaId=null,currentMediaTitle=null,currentMediaData=null,embedSources=[],currentSeason=0x1,currentEpisode=0x1,bookmarks=[],continueWatching=[],searchDebounce=null,watchStartTime=null,playerInterval=null,isPlayerOpen=![],featuredMedia=null,featuredQueue=[],featuredIndex=0x0,rotationInterval=null,rotationPaused=![],isUserApproved=![];const domCache={'elements':{},'observers':new Map()};document[_0x57e3c7(0x247)](_0x57e3c7(0xc5),function(){const _0x278cf7=_0x57e3c7;try{initApp(),cacheCommonElements(),setupIntersectionObservers(),preventBodyScrollWhenNeeded();}catch(_0x4ba8d0){console['error']('App\x20initialization\x20failed:',_0x4ba8d0),showNotification(_0x278cf7(0x244),'error');}});function cacheCommonElements(){const _0x5e05b9=_0x57e3c7,_0x508006=[_0x5e05b9(0x1c1),_0x5e05b9(0xf0),_0x5e05b9(0x26f),_0x5e05b9(0x1d4),_0x5e05b9(0x17b),_0x5e05b9(0x1b6),_0x5e05b9(0x24d),_0x5e05b9(0x1a2),'tv-grid',_0x5e05b9(0x161),_0x5e05b9(0x206),_0x5e05b9(0x236),'player-overlay','extension-popup',_0x5e05b9(0xa3),'continue-watching-grid','continue-watching-row'];_0x508006['forEach'](_0x2831e0=>{const _0x56dd53=_0x5e05b9;domCache[_0x56dd53(0xa8)][_0x2831e0]=document['getElementById'](_0x2831e0);});}function setupIntersectionObservers(){const _0x3cbbb5=_0x57e3c7;if(_0x3cbbb5(0x105)in window){const _0x249ca3=new IntersectionObserver(_0x3aaf2f=>{_0x3aaf2f['forEach'](_0x49732c=>{const _0x562863=_0x31d1;if(_0x49732c[_0x562863(0xe3)]){const _0x46115b=_0x49732c[_0x562863(0x17c)];_0x46115b[_0x562863(0x279)][_0x562863(0x196)]&&(_0x46115b[_0x562863(0x196)]=_0x46115b[_0x562863(0x279)][_0x562863(0x196)],_0x46115b[_0x562863(0x181)][_0x562863(0x1b3)](_0x562863(0xa1)),_0x249ca3[_0x562863(0x149)](_0x46115b));}});},{'rootMargin':'100px\x200px','threshold':0.01});domCache[_0x3cbbb5(0xe9)][_0x3cbbb5(0x18f)](_0x3cbbb5(0xcb),_0x249ca3);}}function preventBodyScrollWhenNeeded(){const _0x5a633c=_0x57e3c7,_0x3ced96=new MutationObserver(_0x9309ce=>{const _0x243027=_0x31d1;_0x9309ce[_0x243027(0x10f)](_0x49009a=>{const _0x3bacdc=_0x243027;if(_0x49009a['type']===_0x3bacdc(0xc9)&&_0x49009a[_0x3bacdc(0x114)]===_0x3bacdc(0x20f)){const _0x2f6877=domCache['elements'][_0x3bacdc(0x1d4)],_0x41629f=domCache[_0x3bacdc(0xa8)]['payment-modal'];_0x2f6877&&_0x2f6877[_0x3bacdc(0x181)][_0x3bacdc(0x19f)](_0x3bacdc(0x21b))||_0x41629f&&_0x41629f['classList']['contains'](_0x3bacdc(0x21b))?(document['body']['style'][_0x3bacdc(0x212)]=_0x3bacdc(0x271),isPlayerOpen=!![]):(document[_0x3bacdc(0x1c8)]['style'][_0x3bacdc(0x212)]='',isPlayerOpen=![]);}});});domCache[_0x5a633c(0xa8)][_0x5a633c(0x1d4)]&&_0x3ced96[_0x5a633c(0x223)](domCache[_0x5a633c(0xa8)][_0x5a633c(0x1d4)],{'attributes':!![],'attributeFilter':['class']}),domCache[_0x5a633c(0xa8)]['payment-modal']&&_0x3ced96[_0x5a633c(0x223)](domCache[_0x5a633c(0xa8)][_0x5a633c(0xa3)],{'attributes':!![],'attributeFilter':[_0x5a633c(0x20f)]});}async function isAllowedUser(_0x5b0b4c){const _0x3710a7=_0x57e3c7;try{const {data:_0x10d886,error:_0x3a694f}=await supabase['from']('allowed_users')[_0x3710a7(0x183)]('email,\x20approved,\x20expiry_date')['eq'](_0x3710a7(0x156),_0x5b0b4c)[_0x3710a7(0x121)]();if(_0x3a694f&&_0x3a694f[_0x3710a7(0x194)]!=='PGRST116')return console[_0x3710a7(0xfc)](_0x3710a7(0x256),_0x3a694f),{'allowed':![],'reason':_0x3710a7(0xfc)};if(!_0x10d886)return{'allowed':![],'reason':'not_found'};if(_0x10d886[_0x3710a7(0x207)]!==!![])return{'allowed':![],'reason':'not_approved'};if(_0x10d886['expiry_date']){const _0x4ec554=new Date(_0x10d886[_0x3710a7(0x23e)]),_0x2a9580=new Date();if(_0x4ec554<_0x2a9580)return{'allowed':![],'reason':_0x3710a7(0x27c)};}return{'allowed':!![],'expiryDate':_0x10d886[_0x3710a7(0x23e)]};}catch(_0x4413ac){return console['error']('Unexpected\x20error\x20checking\x20allowed\x20users:',_0x4413ac),{'allowed':![],'reason':'error'};}}function initApp(){const _0x26a4c4=_0x57e3c7;try{setupAuthForms(),setupNavigation(),setupGenreFilters(),setupSearch(),setupPlayerControls(),setupAccountModal(),setupPaymentModal(),setupLogout(),setupHeroRotation(),setupExtensionPopup(),loadUser();}catch(_0x1b4a61){console[_0x26a4c4(0xfc)](_0x26a4c4(0xee),_0x1b4a61),showNotification(_0x26a4c4(0x125),_0x26a4c4(0xfc));}}function setupPaymentModal(){const _0x1e1ef1=_0x57e3c7,_0x149e97=document[_0x1e1ef1(0x24a)]('payment-modal'),_0x273a06=document[_0x1e1ef1(0x210)](_0x1e1ef1(0x1a8)),_0x1c7c40=document[_0x1e1ef1(0x24a)](_0x1e1ef1(0x208)),_0x572310=_0x149e97?.['querySelector'](_0x1e1ef1(0x117)),_0x1406d7=document[_0x1e1ef1(0x24a)]('submit-transaction-btn'),_0x108435=document[_0x1e1ef1(0x24a)](_0x1e1ef1(0xfb));_0x273a06['forEach'](_0x1e2e2a=>{const _0x5ca0c9=_0x1e1ef1;_0x1e2e2a?.[_0x5ca0c9(0x247)](_0x5ca0c9(0xb0),_0x8d4615=>{_0x8d4615['preventDefault'](),openPaymentModal();});}),_0x1c7c40?.[_0x1e1ef1(0x247)](_0x1e1ef1(0xb0),closePaymentModal),_0x572310?.['addEventListener'](_0x1e1ef1(0xb0),closePaymentModal),_0x1406d7&&_0x108435&&_0x1406d7[_0x1e1ef1(0x247)]('click',async()=>{const _0xce3485=_0x1e1ef1,_0x5e8366=_0x108435[_0xce3485(0x150)][_0xce3485(0xe1)]();if(!_0x5e8366){showNotification('Please\x20enter\x20a\x20transaction\x20ID','error');return;}if(!currentUser){showNotification(_0xce3485(0x1e7),_0xce3485(0xfc));return;}_0x1406d7[_0xce3485(0xdf)]=!![],_0x1406d7['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Submitting...';try{const {error:_0x2e146c}=await supabase[_0xce3485(0x27b)](_0xce3485(0xae))[_0xce3485(0x260)]({'user_email':currentUser['email'],'transaction_id':_0x5e8366,'status':_0xce3485(0xe5),'created_at':new Date()['toISOString']()});if(_0x2e146c)throw _0x2e146c;showNotification(_0xce3485(0x1da),_0xce3485(0x180)),_0x108435[_0xce3485(0x150)]='',closePaymentModal();}catch(_0x4491dd){console[_0xce3485(0xfc)]('Error\x20submitting\x20transaction:',_0x4491dd),showNotification(_0xce3485(0xb5),'error');}finally{_0x1406d7[_0xce3485(0xdf)]=![],_0x1406d7[_0xce3485(0x103)]=_0xce3485(0xa5);}}),document[_0x1e1ef1(0x247)](_0x1e1ef1(0xab),_0x3b719d=>{const _0x5581d5=_0x1e1ef1;_0x3b719d[_0x5581d5(0x120)]===_0x5581d5(0x1d1)&&_0x149e97&&_0x149e97[_0x5581d5(0x181)][_0x5581d5(0x19f)](_0x5581d5(0x21b))&&closePaymentModal();});}function openPaymentModal(){const _0x2ff22d=_0x57e3c7,_0x2a491c=document[_0x2ff22d(0x24a)](_0x2ff22d(0xa3));_0x2a491c&&(_0x2a491c[_0x2ff22d(0x181)][_0x2ff22d(0x165)](_0x2ff22d(0x21b)),setTimeout(()=>{const _0x296896=_0x2ff22d;_0x2a491c[_0x296896(0x181)][_0x296896(0x165)](_0x296896(0x1e6));},0x32));}function closePaymentModal(){const _0x61d9d6=_0x57e3c7,_0x12e6cc=document[_0x61d9d6(0x24a)](_0x61d9d6(0xa3));_0x12e6cc&&(_0x12e6cc[_0x61d9d6(0x181)][_0x61d9d6(0x1b3)](_0x61d9d6(0x1e6)),setTimeout(()=>{const _0x1431d0=_0x61d9d6;_0x12e6cc[_0x1431d0(0x181)][_0x1431d0(0x1b3)]('active');},0x12c));}function setupExtensionPopup(){const _0x10a112=_0x57e3c7,_0x558d78=document[_0x10a112(0x24a)](_0x10a112(0x17a)),_0x363ce8=document[_0x10a112(0x24a)](_0x10a112(0x1bf)),_0x7c893c=document[_0x10a112(0x24a)](_0x10a112(0x13c));_0x363ce8&&_0x363ce8['addEventListener']('click',()=>{const _0x5527d2=_0x10a112;window[_0x5527d2(0x158)](_0x5527d2(0x1c4),'_blank');}),_0x7c893c&&_0x7c893c[_0x10a112(0x247)]('click',()=>{closeExtensionPopup();}),document['addEventListener']('keydown',_0x5ea6ee=>{const _0x3bda38=_0x10a112;_0x5ea6ee['key']==='Escape'&&_0x558d78&&_0x558d78[_0x3bda38(0x181)]['contains'](_0x3bda38(0x21b))&&closeExtensionPopup();});}function showExtensionPopup(){const _0x53bdc7=_0x57e3c7,_0xc80afa=document['getElementById'](_0x53bdc7(0x17a));_0xc80afa&&(_0xc80afa[_0x53bdc7(0x181)][_0x53bdc7(0x165)]('active'),setTimeout(()=>{const _0x5b9af6=_0x53bdc7;_0xc80afa[_0x5b9af6(0x181)][_0x5b9af6(0x165)](_0x5b9af6(0x1e6));},0x32));}function closeExtensionPopup(){const _0x58fc40=_0x57e3c7,_0x7e3ce7=document[_0x58fc40(0x24a)]('extension-popup');_0x7e3ce7&&(_0x7e3ce7['classList'][_0x58fc40(0x1b3)](_0x58fc40(0x1e6)),setTimeout(()=>{const _0x248bdf=_0x58fc40;_0x7e3ce7[_0x248bdf(0x181)][_0x248bdf(0x1b3)](_0x248bdf(0x21b));},0x12c));}function _0x1044(){const _0x21f79a=['results','none','block','filter','<p\x20class=\x27no-episodes\x27>No\x20episodes\x20available</p>','signin-form','active','round','Movie','</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22continue-progress\x22>','Subscribe\x20to\x20unlock\x20premium\x20content','Subscription\x20expired','last_watched_at','Reset\x20link\x20sent\x20to\x20your\x20email!','observe','https://api.themoviedb.org/3/search/multi?query=','get','user_id=eq.','Password\x20must\x20be\x20at\x20least\x206\x20characters','origin','title','closest','toUpperCase','\x20slide-in-right','disconnect','display','883458JQlxck','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22card-info\x22>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22card-title\x22>','.episode-card','779220YlfsXQ','Added\x20to\x20your\x20list','&with_genres=','home-section','hero-section','Account\x20already\x20active\x20on\x20another\x20device.\x20Please\x20sign\x20out\x20there\x20first.','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22no-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20items\x20in\x20your\x20list\x20yet.\x20Add\x20some\x20movies\x20or\x20TV\x20shows!</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','length','Play\x20','21ZeFibF','episode_number','https://vidjoy.pro/embed/movie/','expiry_date','createDocumentFragment','some','User\x20loaded:','allow','randomUUID','Application\x20failed\x20to\x20load.\x20Please\x20refresh.','scrollTo','signInWithPassword','addEventListener','signup-email','.loading-indicator','getElementById','%\x20watched</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','scale(1)','notification-container','Add\x20to\x20bookmarks','Add\x20to\x20List','N/A','poster_path','Action','66gWERlM','genre_ids','location','Error\x20checking\x20allowed\x20users:','reset-form','minimal','Error\x20loading\x20movies:','Your\x20session\x20was\x20disabled\x20by\x20admin\x20–\x20you\x20have\x20been\x20signed\x20out.','fas\x20fa-bookmark','</span>\x0a\x20\x20\x20\x20<button\x20class=\x22notification-close\x22\x20aria-label=\x22Close\x20notification\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20','signOut','Error\x20performing\x20search','https://api.themoviedb.org/3/discover/movie?sort_by=vote_average.desc&vote_count.gte=100&with_original_language=hi','insert','backgroundImage','loading-indicator','application/json;charset=utf-8','keypress','registerSessionForUser\x20error','opened','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22Remove\x20from\x20Continue\x20Watching\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22Remove\x20from\x20continue\x20watching\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20data-src=\x22https://image.tmdb.org/t/p/w500','Season\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.main-header','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22','opacity','Error\x20loading\x20trending\x20content','movie','main-content','Error\x20loading\x20episodes:','hidden','vote_average','Error\x20loading\x20trending:','fa-exclamation-triangle','transform','first_air_date','.content-section','backdrop_path','dataset','logout-link','from','expired','supabase','mobile-nav-overlay','old','lazy','Error\x20loading\x20TV\x20shows','payment-modal','Error\x20loading\x20popular\x20TV\x20shows:','<i\x20class=\x22fas\x20fa-check\x22></i>\x20Submit','media_id','https://player.videasy.net/tv/','elements','Payment\x20Required','user_id','keydown','subscribe','mylist-section','pending_payments','hero-meta','click','channel','Your\x20account\x20was\x20used\x20on\x20another\x20device\x20–\x20signed\x20out\x20here.','resetPasswordForEmail','status','Failed\x20to\x20submit\x20transaction\x20ID.\x20Please\x20try\x20again.','all','Error\x20loading\x20seasons:','subscription-status\x20active','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','watch_progress','maybeSingle','popular-tv-grid','mobile-menu-toggle','\x20day','War','submit','__TMDB_TOKEN__','fa-play','change','show-signin','DOMContentLoaded','Error\x20checking\x20active_sessions:','signup-confirm','fa-exclamation-circle','attributes','source-btn\x20hover-glow','images','fade-out','textContent','option','</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','Animation','https://111movies.com/movie/','join','querySelector','not_found','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22card-info\x22>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22card-title\x22>','Source\x202','removeChannel','.video-loading','seasons','media-card\x20hover-glow','player-type','Enter','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22','heartbeat\x20error','disabled','firstChild','trim','referrerpolicy','isIntersecting','account-member-since','pending','No\x20description\x20available','continue_watching','...','observers','stopPropagation','scale(0.9)','selected','reason','App\x20initialization\x20error:','input','main-header','694910eXqrVT','player-year','upsert','Error\x20recording\x20search\x20history:','push','https://api.themoviedb.org/3/movie/popular?language=en-US&page=1','far\x20fa-bookmark','toFixed','ceil','no-referrer-when-downgrade','transaction-id-input','error','auth','signup-form','681336daJDkD','account-email','is_active','tabIndex','innerHTML','Continue\x20watching\x20table\x20doesn\x27t\x20exist\x20yet','IntersectionObserver','continue-watching-row','\x0a\x20\x20\x20\x20<i\x20class=\x22notification-icon\x20fas\x20','floor','movies','HTTP\x20','getUser','Error\x20loading\x20continue\x20watching:','removeChild','mouseenter','forEach','media-card\x20continue-watching-card\x20hover-glow','TV\x20Movie','getFullYear','scroll','attributeName','section','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-title\x22>','.payment-overlay','Premium\x20access\x20required\x20to\x20watch\x20content','.player-video-section','hero-watch-btn','-section','subscription-status-text','133wABsrP','episodes','mylist','key','single','1205646TRkwTh','Bearer\x20','finally','Error\x20initializing\x20application','4ZLXqUk','getItem','account-modal','animationDelay','fa-lock','subscription-status\x20','random','source-buttons','substring','release_date','abort','smooth','role','.genre-btn','__SUPABASE_URL__','hero-description','.main-nav','Error\x20loading\x20Bollywood\x20movies','splice','Source\x203','tv-section','player-close','close-extension-popup','season_number','</span>\x0a\x20\x20\x20\x20\x20\x20<span>','episodes-list','runtime','toISOString','parentNode','user_bookmarks','style','device_id','\x0a\x20\x20\x20\x20<div\x20class=\x22card-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-continue-btn\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22','...\x20(','Error\x20removing\x20from\x20continue\x20watching:','unobserve','order','bollywood-grid','bollywood-section','fas\x20fa-bars','Family','player-rating-value','value','0.3','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20class=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20loading=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27https://via.placeholder.com/500x750?text=No+Image\x27\x22\x0a\x20\x20\x20\x20\x20\x20>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-overlay\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22play-btn\x20hover-glow\x22\x20title=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Removed\x20from\x20Continue\x20Watching','form','email','user','open','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22video-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20<p>Loading\x20video\x20source...</p>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','<i\x20class=\x22fas\x20fa-lock\x22></i>\x20Premium\x20Required','https://api.themoviedb.org/3/tv/','https://111movies.com/tv/','<div\x20class=\x22spinner\x22></div><p>Loading\x20content...</p>','</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22card-rating\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','total_duration','mylist-grid','toggle','Fantasy','Documentary','add','home','Trying\x20','https://api.themoviedb.org/3/trending/all/week','Failed\x20to\x20load\x20bookmarks.\x20Table\x20may\x20need\x20to\x20be\x20created.','.bookmark-btn','user_watch_history','Error\x20loading\x20episodes','json','adult','Source\x201','session_flag','subscription-status\x20expired','DELETE','https://api.themoviedb.org/3/tv/popular','alert','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22','endSessionForUser\x20error','\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20','Action,\x20Adventure','button','extension-popup','video-frame','target','Drama','\x20remaining','scrollY','success','classList','fas','select','beforeunload','Horror','Subscribe\x20to\x20use\x20bookmark\x20feature','.notification-close','Signed\x20in\x20successfully!','4256wbtIzy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','air_date','postgres_changes','\x0a\x20\x20\x20\x20<div\x20class=\x22card-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20','Mystery','set','split','name','mouseleave','search-section','code','includes','src','added_at','.hero-content','onload','</span>\x0a\x20\x20\x20\x20','account-close','toLocaleDateString','message','Error\x20loading\x20bookmarks:','contains','url','load','movies-grid','map','contentWindow','Premium\x20access\x20required\x20to\x20watch\x20content.\x20Please\x20subscribe\x20to\x20continue.','createClient','button[type=\x22submit\x22]','#open-payment-modal,\x20#subscribe-link,\x20#pay-now-btn','media_type','flex','\x0a\x20\x20\x20\x20<button\x20class=\x22bookmark-btn\x20','fas\x20fa-times','original_language','.nav-link','innerWidth','created_at','https://api.themoviedb.org/3/discover/tv?sort_by=popularity.desc','Signed\x20out\x20successfully!','remove','warn','span','loading-screen','vote_count','Active','div','signin-email','slide-in-right','Crime','tv-controls','m\x20•\x20','install-extension-btn','fa-check-circle','auth-container','Please\x20complete\x20payment\x20to\x20access\x20all\x20content','toString','https://chromewebstore.google.com/detail/bkkbcggnhapdmkeljlodobbkopceiche?utm_source=item-share-cb','2600991cpLjbz','now','genre','body','Unexpected\x20error\x20during\x20signup','setAttribute','user_id,media_id','createElement','slice','limit','\x22></i>\x0a\x20\x20\x20\x20<span>','Remove\x20from\x20bookmarks','Escape','bookmarked','Error\x20loading\x20popular\x20TV\x20shows','player-modal','appendChild','.main-nav\x20.nav-link','show-signup','completed','className','Transaction\x20ID\x20submitted!\x20We\x27ll\x20verify\x20your\x20payment\x20soon.','Remove\x20from\x20List','Signing\x20In...','Error\x20loading\x20user.\x20Please\x20refresh.','/index.html','min','does\x20not\x20exist','expiryDate','Error\x20searching:','Sci-Fi','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','show-reset','show','Please\x20log\x20in\x20first','onclick','not_approved','Error\x20loading\x20popular\x20movies','signal','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-number\x22>','log','search','subscription-status\x20pending','Romance','signup-password','active_sessions','back-signin','hero-bookmark-btn-new','player-description','Error\x20recording\x20watch\x20history:','Episode\x20','All\x20sources\x20failed.\x20Please\x20try\x20again\x20later.','eventType','preventDefault','event','scrolled','nf_device_id','new','img.lazy','force\x20signout\x20supabase.auth.signOut\x20failed','warning','public','Error\x20adding\x20bookmark\x20to\x20Supabase:','bollywood','signUp','search-grid','approved','payment-close','TV\x20Show','Please\x20log\x20in\x20to\x20stream\x20content','reset-email','delete','42P01','then','class','querySelectorAll','\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22','overflow','overview','Sign-in\x20did\x20not\x20return\x20a\x20user\x20object.'];_0x1044=function(){return _0x21f79a;};return _0x1044();}function setupHeroRotation(){const _0x5dd8e3=_0x57e3c7,_0x3c62c3=document[_0x5dd8e3(0x24a)](_0x5dd8e3(0x236));_0x3c62c3&&(_0x3c62c3[_0x5dd8e3(0x247)](_0x5dd8e3(0x10e),()=>{rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null,rotationPaused=!![]);}),_0x3c62c3['addEventListener'](_0x5dd8e3(0x192),()=>{rotationPaused&&featuredQueue['length']>=0x2&&(startRotation(),rotationPaused=![]);}));}function setupAuthForms(){const _0x562dd7=_0x57e3c7;document[_0x562dd7(0x24a)](_0x562dd7(0x1d7))?.[_0x562dd7(0x247)](_0x562dd7(0xb0),_0xf469ac=>{const _0x5ad8c0=_0x562dd7;_0xf469ac['preventDefault'](),smoothTransition(_0x5ad8c0(0x21a),_0x5ad8c0(0xfe));}),document[_0x562dd7(0x24a)](_0x562dd7(0xc4))?.[_0x562dd7(0x247)](_0x562dd7(0xb0),_0x367c1e=>{const _0xe31ede=_0x562dd7;_0x367c1e[_0xe31ede(0x1fa)](),smoothTransition(_0xe31ede(0xfe),_0xe31ede(0x21a));}),document[_0x562dd7(0x24a)](_0x562dd7(0x1e5))?.['addEventListener']('click',_0x1392c9=>{const _0x2e389c=_0x562dd7;_0x1392c9[_0x2e389c(0x1fa)](),smoothTransition('signin-form',_0x2e389c(0x257));}),document['getElementById'](_0x562dd7(0x1f3))?.[_0x562dd7(0x247)]('click',_0x1b6556=>{const _0x248177=_0x562dd7;_0x1b6556[_0x248177(0x1fa)](),smoothTransition('reset-form',_0x248177(0x21a));}),setupFormSubmission(_0x562dd7(0xfe),handleSignup),setupFormSubmission(_0x562dd7(0x21a),handleSignin),setupFormSubmission('reset-form',handleReset);}function setupFormSubmission(_0x1c5369,_0x1a3879){const _0x4ec60a=_0x57e3c7,_0x37eef2=document[_0x4ec60a(0x24a)](_0x1c5369)?.[_0x4ec60a(0xd3)](_0x4ec60a(0x155));_0x37eef2&&_0x37eef2[_0x4ec60a(0x247)](_0x4ec60a(0xc0),_0x1a3879);}async function handleSignup(_0xe9096a){const _0x39a4b8=_0x57e3c7;_0xe9096a[_0x39a4b8(0x1fa)]();const _0x3fb8b7=_0xe9096a[_0x39a4b8(0x17c)][_0x39a4b8(0xd3)](_0x39a4b8(0x1a7)),_0x4457f1=_0x3fb8b7[_0x39a4b8(0xcd)];_0x3fb8b7['textContent']='Creating\x20Account...',_0x3fb8b7[_0x39a4b8(0xdf)]=!![];try{const _0x3225f8=document[_0x39a4b8(0x24a)](_0x39a4b8(0x248))['value'],_0x5cf405=document['getElementById'](_0x39a4b8(0x1f1))['value'],_0x183e8e=document[_0x39a4b8(0x24a)](_0x39a4b8(0xc7))[_0x39a4b8(0x150)];if(_0x5cf405!==_0x183e8e){showNotification('Passwords\x20do\x20not\x20match',_0x39a4b8(0xfc));return;}if(_0x5cf405[_0x39a4b8(0x239)]<0x6){showNotification(_0x39a4b8(0x227),_0x39a4b8(0xfc));return;}const {data:_0x44948b,error:_0x5da08d}=await supabase[_0x39a4b8(0xfd)][_0x39a4b8(0x205)]({'email':_0x3225f8,'password':_0x5cf405,'options':{'emailRedirectTo':window[_0x39a4b8(0x255)][_0x39a4b8(0x228)]+_0x39a4b8(0x1de)}});_0x5da08d?showNotification(_0x5da08d[_0x39a4b8(0x19d)],'error'):(showNotification('Sign\x20up\x20successful!\x20Please\x20check\x20your\x20email\x20to\x20confirm\x20your\x20account.',_0x39a4b8(0x180)),smoothTransition(_0x39a4b8(0xfe),'signin-form'));}catch(_0x4a75d9){showNotification(_0x39a4b8(0x1c9),_0x39a4b8(0xfc));}finally{_0x3fb8b7[_0x39a4b8(0xcd)]=_0x4457f1,_0x3fb8b7[_0x39a4b8(0xdf)]=![];}}async function handleSignin(_0x1b479c){const _0x240b0e=_0x57e3c7;_0x1b479c['preventDefault']();const _0xed638c=_0x1b479c[_0x240b0e(0x17c)]['querySelector'](_0x240b0e(0x1a7)),_0x5b9b1f=_0xed638c[_0x240b0e(0xcd)];_0xed638c['textContent']=_0x240b0e(0x1dc),_0xed638c['disabled']=!![];try{const _0x10786d=document[_0x240b0e(0x24a)](_0x240b0e(0x1ba))[_0x240b0e(0x150)],_0x1d6086=document[_0x240b0e(0x24a)]('signin-password')['value'],{data:_0x18cbee,error:_0x123b9f}=await supabase[_0x240b0e(0xfd)][_0x240b0e(0x246)]({'email':_0x10786d,'password':_0x1d6086});if(_0x123b9f){showNotification(_0x123b9f['message'],_0x240b0e(0xfc));return;}const _0x2dc35c=_0x18cbee?.[_0x240b0e(0x157)];if(!_0x2dc35c){showNotification(_0x240b0e(0x214),'error');return;}const _0x504ad2=await registerSessionForUser(_0x2dc35c);if(!_0x504ad2)return;showNotification(_0x240b0e(0x188),'success'),await loadUser();}catch(_0x25bd21){console[_0x240b0e(0xfc)](_0x25bd21),showNotification('Unexpected\x20error\x20during\x20signin',_0x240b0e(0xfc));}finally{_0xed638c['textContent']=_0x5b9b1f,_0xed638c[_0x240b0e(0xdf)]=![];}}async function handleReset(_0x4cb0e7){const _0xa77bf9=_0x57e3c7;_0x4cb0e7['preventDefault']();const _0x233a58=_0x4cb0e7[_0xa77bf9(0x17c)][_0xa77bf9(0xd3)](_0xa77bf9(0x1a7)),_0xa095bc=_0x233a58['textContent'];_0x233a58[_0xa77bf9(0xcd)]='Sending\x20Reset\x20Link...',_0x233a58[_0xa77bf9(0xdf)]=!![];try{const _0x515dd3=document['getElementById'](_0xa77bf9(0x20b))[_0xa77bf9(0x150)],{error:_0x4dbd9d}=await supabase[_0xa77bf9(0xfd)][_0xa77bf9(0xb3)](_0x515dd3);_0x4dbd9d?showNotification(_0x4dbd9d[_0xa77bf9(0x19d)],_0xa77bf9(0xfc)):showNotification(_0xa77bf9(0x222),_0xa77bf9(0x180));}catch(_0x36583b){showNotification('Unexpected\x20error\x20during\x20password\x20reset',_0xa77bf9(0xfc));}finally{_0x233a58[_0xa77bf9(0xcd)]=_0xa095bc,_0x233a58[_0xa77bf9(0xdf)]=![];}}let _sessionChannel=null,_heartbeatIntervalId=null;function getDeviceId(){const _0x48e60e=_0x57e3c7,_0x2e8d00=_0x48e60e(0x1fd);let _0x939434=localStorage[_0x48e60e(0x127)](_0x2e8d00);if(!_0x939434){try{_0x939434=crypto[_0x48e60e(0x243)]();}catch(_0x166e49){_0x939434=Date['now']()[_0x48e60e(0x1c3)](0x24)+Math[_0x48e60e(0x12c)]()['toString'](0x24)[_0x48e60e(0x1cd)](0x2);}localStorage['setItem'](_0x2e8d00,_0x939434);}return _0x939434;}async function registerSessionForUser(_0x5bb4b4){const _0x33c960=_0x57e3c7,_0x1e9016=getDeviceId();try{const {data:_0x4b6f62,error:_0x5e8452}=await supabase['from'](_0x33c960(0x1f2))[_0x33c960(0x183)]('*')['eq']('user_id',_0x5bb4b4['id'])[_0x33c960(0xbb)]();_0x5e8452&&console[_0x33c960(0xfc)](_0x33c960(0xc6),_0x5e8452);if(_0x4b6f62&&_0x4b6f62[_0x33c960(0x101)]&&_0x4b6f62[_0x33c960(0x145)]&&_0x4b6f62[_0x33c960(0x145)]!==_0x1e9016)return await supabase[_0x33c960(0xfd)]['signOut'](),showNotification(_0x33c960(0x237),_0x33c960(0xfc)),![];return await supabase[_0x33c960(0x27b)](_0x33c960(0x1f2))[_0x33c960(0xf3)]({'user_id':_0x5bb4b4['id'],'device_id':_0x1e9016,'is_active':!![],'session_flag':'S','last_heartbeat':new Date()[_0x33c960(0x141)]()},{'returning':'minimal'}),startSessionRealtimeSubscription(_0x5bb4b4['id'],_0x1e9016),startHeartbeat(_0x5bb4b4['id'],_0x1e9016),!![];}catch(_0x326d6f){return console[_0x33c960(0xfc)](_0x33c960(0x265),_0x326d6f),![];}}function startHeartbeat(_0x2d99cb,_0x4a9461){stopHeartbeat(),_heartbeatIntervalId=setInterval(async()=>{const _0x4732be=_0x31d1;try{await supabase['from'](_0x4732be(0x1f2))[_0x4732be(0xf3)]({'user_id':_0x2d99cb,'device_id':_0x4a9461,'last_heartbeat':new Date()['toISOString']()},{'returning':_0x4732be(0x258)});}catch(_0x3f821e){console[_0x4732be(0xfc)](_0x4732be(0xde),_0x3f821e);}},0xea60);}function stopHeartbeat(){_heartbeatIntervalId&&(clearInterval(_heartbeatIntervalId),_heartbeatIntervalId=null);}function startSessionRealtimeSubscription(_0x2812c1,_0x154252){const _0x578d9f=_0x57e3c7;if(_sessionChannel){try{supabase['removeChannel'](_sessionChannel);}catch(_0x3b1772){}_sessionChannel=null;}const _0x41fad6='session-channel-'+_0x2812c1;_sessionChannel=supabase[_0x578d9f(0xb1)](_0x41fad6)['on'](_0x578d9f(0x18c),{'event':'*','schema':_0x578d9f(0x202),'table':_0x578d9f(0x1f2),'filter':_0x578d9f(0x226)+_0x2812c1},_0x33c024=>{handleSessionChange(_0x33c024,_0x154252);})[_0x578d9f(0xac)](_0xa152c1=>{});}function stopSessionRealtimeSubscription(){const _0x1e57b3=_0x57e3c7;if(!_sessionChannel)return;try{supabase[_0x1e57b3(0xd7)](_sessionChannel);}catch(_0x585af6){try{_sessionChannel['unsubscribe']();}catch(_0x13eb6f){}}_sessionChannel=null;}async function handleSessionChange(_0x465203,_0x29776a){const _0x122712=_0x57e3c7;try{const _0x1e7b06=_0x465203[_0x122712(0x1f9)]||_0x465203[_0x122712(0x1fb)],_0x4e3509=_0x465203[_0x122712(0x1fe)],_0x1449d4=_0x465203[_0x122712(0x27f)],_0x41f53f=_0x4e3509||_0x1449d4;if(!_0x41f53f)return;if(_0x1e7b06===_0x122712(0x172)){_0x1449d4[_0x122712(0x145)]===_0x29776a&&await forceLocalSignOut('Your\x20session\x20was\x20ended\x20(deleted)\x20–\x20you\x20have\x20been\x20signed\x20out.');return;}if(_0x41f53f[_0x122712(0x101)]===![]||_0x41f53f[_0x122712(0x170)]&&_0x41f53f['session_flag'][_0x122712(0x22b)]()==='N'){await forceLocalSignOut(_0x122712(0x25a));return;}if(_0x41f53f[_0x122712(0x145)]&&_0x41f53f['device_id']!==_0x29776a){await forceLocalSignOut(_0x122712(0xb2));return;}}catch(_0x463946){console[_0x122712(0xfc)]('handleSessionChange\x20error',_0x463946);}}async function forceLocalSignOut(_0x148088){const _0x8c0a8a=_0x57e3c7;stopHeartbeat(),stopSessionRealtimeSubscription();try{await supabase[_0x8c0a8a(0xfd)][_0x8c0a8a(0x25d)]();}catch(_0x5aa155){console[_0x8c0a8a(0x1b4)](_0x8c0a8a(0x200),_0x5aa155);}showNotification(_0x148088,_0x8c0a8a(0x201)),showUnauthenticatedUI();}async function endSessionForUser(_0x4b9283){const _0x2bca90=_0x57e3c7;try{const _0x2d2109=getDeviceId();await supabase['from'](_0x2bca90(0x1f2))[_0x2bca90(0xf3)]({'user_id':_0x4b9283['id'],'device_id':_0x2d2109,'is_active':![],'session_flag':'N','last_heartbeat':new Date()[_0x2bca90(0x141)]()},{'returning':_0x2bca90(0x258)});}catch(_0x3608ea){console['error'](_0x2bca90(0x176),_0x3608ea);}finally{stopHeartbeat(),stopSessionRealtimeSubscription();}}function setupLogout(){const _0x4a5b81=_0x57e3c7;document[_0x4a5b81(0x24a)](_0x4a5b81(0x27a))?.[_0x4a5b81(0x247)]('click',async _0x1e7c22=>{const _0x1a187a=_0x4a5b81;_0x1e7c22[_0x1a187a(0x1fa)]();try{rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null);const _0x1603fc=currentUser;_0x1603fc&&await endSessionForUser(_0x1603fc),await supabase[_0x1a187a(0xfd)]['signOut'](),currentUser=null,bookmarks=[],continueWatching=[],featuredQueue=[],featuredIndex=0x0,isUserApproved=![],showNotification(_0x1a187a(0x1b2),_0x1a187a(0x180)),showUnauthenticatedUI();}catch(_0x2f8054){console[_0x1a187a(0xfc)](_0x2f8054),showNotification('Error\x20signing\x20out',_0x1a187a(0xfc));}});}function setupNavigation(){const _0x1ccc95=_0x57e3c7;document[_0x1ccc95(0x210)](_0x1ccc95(0x1ae))[_0x1ccc95(0x10f)](_0xf7f1e3=>{const _0x59d1aa=_0x1ccc95;_0xf7f1e3[_0x59d1aa(0x247)](_0x59d1aa(0xb0),debounce(_0x204d84=>{const _0x27ae5b=_0x59d1aa;_0x204d84[_0x27ae5b(0x1fa)](),document[_0x27ae5b(0x210)](_0x27ae5b(0x1ae))['forEach'](_0x4cab6f=>_0x4cab6f['classList'][_0x27ae5b(0x1b3)]('active')),_0xf7f1e3[_0x27ae5b(0x181)][_0x27ae5b(0x165)](_0x27ae5b(0x21b)),document[_0x27ae5b(0x210)](_0x27ae5b(0x277))[_0x27ae5b(0x10f)](_0x10d470=>_0x10d470[_0x27ae5b(0x181)][_0x27ae5b(0x1b3)](_0x27ae5b(0x21b)));const _0x35054c=document['getElementById'](_0xf7f1e3[_0x27ae5b(0x279)][_0x27ae5b(0x115)]+'-section');_0x35054c&&(_0x35054c[_0x27ae5b(0x181)][_0x27ae5b(0x165)](_0x27ae5b(0x21b)),_0xf7f1e3[_0x27ae5b(0x279)]['section']!==_0x27ae5b(0x166)&&rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null),loadSectionContent(_0xf7f1e3['dataset'][_0x27ae5b(0x115)]));},0x96));});}function setupGenreFilters(){const _0x70a4e5=_0x57e3c7;document[_0x70a4e5(0x210)](_0x70a4e5(0x133))[_0x70a4e5(0x10f)](_0xf98225=>{_0xf98225['addEventListener']('click',debounce(()=>{const _0x1bd475=_0x31d1,_0x456774=document[_0x1bd475(0xd3)]('.content-section.active');if(!_0x456774)return;const _0x13c16d=_0x456774['id'],_0x59157d=_0xf98225[_0x1bd475(0x279)][_0x1bd475(0x1c7)];document[_0x1bd475(0x210)](_0x1bd475(0x133))[_0x1bd475(0x10f)](_0x220d57=>_0x220d57[_0x1bd475(0x181)][_0x1bd475(0x1b3)](_0x1bd475(0x21b))),_0xf98225[_0x1bd475(0x181)]['add'](_0x1bd475(0x21b));if(_0x13c16d==='movies-section')loadMovies(_0x59157d);else{if(_0x13c16d===_0x1bd475(0x13a))loadTVShows(_0x59157d);else _0x13c16d===_0x1bd475(0x14c)&&loadBollywoodMovies(_0x59157d);}},0xc8));});}function setupSearch(){const _0x3f7093=_0x57e3c7,_0x40e832=document[_0x3f7093(0x24a)]('main-search-input');if(!_0x40e832)return;_0x40e832['addEventListener'](_0x3f7093(0xef),_0x56c7e6=>{clearTimeout(searchDebounce),searchDebounce=setTimeout(()=>{const _0x4a96a2=_0x31d1;performSearch(_0x56c7e6[_0x4a96a2(0x17c)][_0x4a96a2(0x150)][_0x4a96a2(0xe1)]());},0x320);}),document[_0x3f7093(0x24a)]('clear-search')?.[_0x3f7093(0x247)](_0x3f7093(0xb0),()=>{const _0x3b97ce=_0x3f7093;_0x40e832[_0x3b97ce(0x150)]='',showHomeSection();});}function setupPlayerControls(){const _0x5758cb=_0x57e3c7;document[_0x5758cb(0x24a)](_0x5758cb(0x13b))?.[_0x5758cb(0x247)](_0x5758cb(0xb0),closePlayer);}function setupAccountModal(){const _0x1b8534=_0x57e3c7;document['getElementById']('account-link')?.['addEventListener'](_0x1b8534(0xb0),_0x101708=>{const _0x5e7dd5=_0x1b8534;_0x101708[_0x5e7dd5(0x1fa)](),document[_0x5e7dd5(0x24a)](_0x5e7dd5(0x128))?.[_0x5e7dd5(0x181)][_0x5e7dd5(0x165)](_0x5e7dd5(0x21b)),updateAccountModal();}),document['getElementById'](_0x1b8534(0x19b))?.['addEventListener'](_0x1b8534(0xb0),()=>{const _0x1291bf=_0x1b8534;document[_0x1291bf(0x24a)](_0x1291bf(0x128))?.[_0x1291bf(0x181)]['remove'](_0x1291bf(0x21b));});}function smoothTransition(_0x190cdb,_0x12f9a7){const _0x1ec086=_0x57e3c7,_0x545954=document[_0x1ec086(0x24a)](_0x190cdb),_0x10ec6e=document[_0x1ec086(0x24a)](_0x12f9a7);if(!_0x545954||!_0x10ec6e)return;_0x545954[_0x1ec086(0x181)][_0x1ec086(0x165)](_0x1ec086(0xcc)),setTimeout(()=>{const _0x4ad28b=_0x1ec086;_0x545954['classList'][_0x4ad28b(0x1b3)](_0x4ad28b(0x21b),_0x4ad28b(0xcc)),_0x10ec6e[_0x4ad28b(0x181)][_0x4ad28b(0x165)](_0x4ad28b(0x21b),_0x4ad28b(0x1bb)),setTimeout(()=>{const _0x45682d=_0x4ad28b;_0x10ec6e['classList'][_0x45682d(0x1b3)](_0x45682d(0x1bb));},0x190);},0x96);}function debounce(_0x4b4824,_0x194b48){let _0x3f1d62;return function _0x4dcaf1(..._0x3c0f7c){const _0x5dcc6e=()=>{clearTimeout(_0x3f1d62),_0x4b4824(..._0x3c0f7c);};clearTimeout(_0x3f1d62),_0x3f1d62=setTimeout(_0x5dcc6e,_0x194b48);};}async function loadUser(){const _0x42623f=_0x57e3c7;try{const {data:_0x5ee1fd,error:_0x295a1e}=await supabase['auth'][_0x42623f(0x10b)](),_0x415be1=_0x5ee1fd?.[_0x42623f(0x157)],_0xe6e2eb=domCache[_0x42623f(0xa8)][_0x42623f(0x1b6)];_0xe6e2eb&&(_0xe6e2eb[_0x42623f(0x181)][_0x42623f(0x165)](_0x42623f(0xcc)),setTimeout(()=>{const _0x20a268=_0x42623f;_0xe6e2eb[_0x20a268(0x144)][_0x20a268(0x22e)]=_0x20a268(0x216);},0x1f4));if(_0x415be1){currentUser=_0x415be1;const _0x2e1aee=await isAllowedUser(_0x415be1[_0x42623f(0x156)]);isUserApproved=_0x2e1aee['allowed'],console['log'](_0x42623f(0x241),{'email':_0x415be1['email'],'isUserApproved':isUserApproved,'reason':_0x2e1aee[_0x42623f(0xed)]});if(!_0x2e1aee['allowed']){await registerSessionForUser(_0x415be1),await loadBookmarksFromSupabase(),await loadContinueWatching(),showAuthenticatedUIWithPaymentPrompt(_0x2e1aee['reason']);return;}await registerSessionForUser(_0x415be1),await loadBookmarksFromSupabase(),await loadContinueWatching(),await updateSubscriptionStatus(_0x2e1aee[_0x42623f(0x1e1)]),showAuthenticatedUI(),setTimeout(()=>{showExtensionPopup();},0x3e8);}else currentUser=null,isUserApproved=![],showUnauthenticatedUI();}catch(_0x5c3d94){console[_0x42623f(0xfc)]('Error\x20loading\x20user:',_0x5c3d94),showUnauthenticatedUI(),showNotification(_0x42623f(0x1dd),_0x42623f(0xfc));}}function updateAccountModal(){const _0x469567=_0x57e3c7,_0x2081b9=document[_0x469567(0x24a)]('account-email'),_0x599c6e=document[_0x469567(0x24a)](_0x469567(0xe4)),_0x4335d6=document['getElementById'](_0x469567(0x11c));if(!currentUser)return;_0x2081b9&&(_0x2081b9[_0x469567(0xcd)]=currentUser['email']);_0x599c6e&&(_0x599c6e[_0x469567(0xcd)]=new Date(currentUser[_0x469567(0x1b0)])[_0x469567(0x19c)]());if(_0x4335d6){const _0x2cefd8=isUserApproved?_0x469567(0x1b8):_0x469567(0xa9),_0x395614=isUserApproved?'active':_0x469567(0xe5);_0x4335d6['textContent']=_0x2cefd8,_0x4335d6['className']=_0x469567(0x12b)+_0x395614;}}function showAuthenticatedUIWithPaymentPrompt(_0x42a872){const _0x2d6da6=_0x57e3c7,{'auth-container':_0x25f963,'main-header':_0x400a4a,'main-content':_0x56b2b9}=domCache[_0x2d6da6(0xa8)];if(_0x25f963)_0x25f963['style'][_0x2d6da6(0x22e)]=_0x2d6da6(0x216);if(_0x400a4a)_0x400a4a[_0x2d6da6(0x144)][_0x2d6da6(0x22e)]='flex';if(_0x56b2b9)_0x56b2b9[_0x2d6da6(0x144)][_0x2d6da6(0x22e)]=_0x2d6da6(0x217);document[_0x2d6da6(0x24a)](_0x2d6da6(0x100))['textContent']=currentUser[_0x2d6da6(0x156)],document[_0x2d6da6(0x24a)](_0x2d6da6(0xe4))[_0x2d6da6(0xcd)]=new Date(currentUser['created_at'])['toLocaleDateString']();const _0x5efe29=document[_0x2d6da6(0x24a)](_0x2d6da6(0x11c));if(_0x5efe29){if(_0x42a872===_0x2d6da6(0xd4)||_0x42a872==='not_approved')_0x5efe29['textContent']=_0x2d6da6(0xa9),_0x5efe29[_0x2d6da6(0x1d9)]=_0x2d6da6(0x1ef);else _0x42a872===_0x2d6da6(0x27c)&&(_0x5efe29[_0x2d6da6(0xcd)]=_0x2d6da6(0x220),_0x5efe29[_0x2d6da6(0x1d9)]='subscription-status\x20expired');}if(_0x42a872===_0x2d6da6(0xd4)||_0x42a872===_0x2d6da6(0x1e9))showNotification(_0x2d6da6(0x1c2),_0x2d6da6(0x201));else _0x42a872===_0x2d6da6(0x27c)&&showNotification('Your\x20subscription\x20has\x20expired.\x20Please\x20renew.',_0x2d6da6(0x201));document[_0x2d6da6(0x210)](_0x2d6da6(0x1ae))[_0x2d6da6(0x10f)](_0x16c7d6=>{const _0x5a1871=_0x2d6da6;_0x16c7d6[_0x5a1871(0x144)]['display']=_0x5a1871(0x217);}),loadSectionContent(_0x2d6da6(0x166));}function showAuthenticatedUI(){const _0xf810c7=_0x57e3c7,{'auth-container':_0x2dc0d9,'main-header':_0x1a3747,'main-content':_0x1674b9}=domCache[_0xf810c7(0xa8)];if(_0x2dc0d9)_0x2dc0d9['style'][_0xf810c7(0x22e)]=_0xf810c7(0x216);if(_0x1a3747)_0x1a3747[_0xf810c7(0x144)]['display']=_0xf810c7(0x1aa);if(_0x1674b9)_0x1674b9[_0xf810c7(0x144)][_0xf810c7(0x22e)]=_0xf810c7(0x217);document['getElementById']('account-email')['textContent']=currentUser[_0xf810c7(0x156)],document[_0xf810c7(0x24a)](_0xf810c7(0xe4))[_0xf810c7(0xcd)]=new Date(currentUser[_0xf810c7(0x1b0)])['toLocaleDateString']();const _0x8ead8=document[_0xf810c7(0x24a)](_0xf810c7(0x11c));_0x8ead8&&(_0x8ead8[_0xf810c7(0xcd)]=_0xf810c7(0x1b8),_0x8ead8['className']='subscription-status\x20active'),document[_0xf810c7(0x210)]('.nav-link')[_0xf810c7(0x10f)](_0x35d811=>{const _0x29e148=_0xf810c7;_0x35d811['style'][_0x29e148(0x22e)]=_0x29e148(0x217);}),loadSectionContent('home');}async function updateSubscriptionStatus(_0x452ee1){const _0x5ea3f2=_0x57e3c7,_0x3bf73=document[_0x5ea3f2(0x24a)]('subscription-status-text');if(!_0x3bf73||!_0x452ee1)return;const _0x35a398=new Date(_0x452ee1),_0x216492=new Date(),_0x2382a5=Math[_0x5ea3f2(0xf9)]((_0x35a398-_0x216492)/(0x3e8*0x3c*0x3c*0x18));_0x2382a5>0x0?(_0x3bf73['textContent']=_0x2382a5+_0x5ea3f2(0xbe)+(_0x2382a5!==0x1?'s':'')+_0x5ea3f2(0x17e),_0x3bf73[_0x5ea3f2(0x1d9)]=_0x5ea3f2(0xb8)):(_0x3bf73[_0x5ea3f2(0xcd)]=_0x5ea3f2(0x220),_0x3bf73[_0x5ea3f2(0x1d9)]=_0x5ea3f2(0x171));}async function loadBookmarksFromSupabase(){const _0x4a3c65=_0x57e3c7;if(!currentUser)return;try{const {data:_0x560ec7,error:_0x6f55b7}=await supabase[_0x4a3c65(0x27b)]('user_bookmarks')[_0x4a3c65(0x183)]('*')['eq'](_0x4a3c65(0xaa),currentUser['id'])[_0x4a3c65(0x14a)](_0x4a3c65(0x197),{'ascending':![]});if(_0x6f55b7){if(_0x6f55b7[_0x4a3c65(0x194)]===_0x4a3c65(0x20d)||_0x6f55b7[_0x4a3c65(0x19d)][_0x4a3c65(0x195)]('does\x20not\x20exist')){showNotification(_0x4a3c65(0x169),_0x4a3c65(0x201)),bookmarks=[];return;}throw _0x6f55b7;}bookmarks=_0x560ec7['map'](_0x586510=>({'id':_0x586510[_0x4a3c65(0xa6)],'media_type':_0x586510['media_type'],'title':_0x586510[_0x4a3c65(0x229)],'name':_0x586510[_0x4a3c65(0x229)],'poster_path':_0x586510[_0x4a3c65(0x251)],'vote_average':_0x586510['vote_average']||0x0,'release_date':_0x586510[_0x4a3c65(0x12f)]||'','first_air_date':_0x586510['first_air_date']||''}));}catch(_0x19ef92){console[_0x4a3c65(0xfc)](_0x4a3c65(0x19e),_0x19ef92),showNotification(_0x4a3c65(0x169),_0x4a3c65(0x201)),bookmarks=[];}}async function loadContinueWatching(){const _0x4acfe3=_0x57e3c7;if(!currentUser)return;try{const {data:_0x356833,error:_0x52ee9f}=await supabase[_0x4acfe3(0x27b)](_0x4acfe3(0xe7))['select']('*')['eq'](_0x4acfe3(0xaa),currentUser['id'])['eq'](_0x4acfe3(0x1d8),![])['gte']('watch_progress',0x3c)[_0x4acfe3(0x14a)](_0x4acfe3(0x221),{'ascending':![]})[_0x4acfe3(0x1ce)](0xc);if(_0x52ee9f){if(_0x52ee9f['code']===_0x4acfe3(0x20d)||_0x52ee9f[_0x4acfe3(0x19d)][_0x4acfe3(0x195)](_0x4acfe3(0x1e0))){console[_0x4acfe3(0x1ed)](_0x4acfe3(0x104)),continueWatching=[];return;}throw _0x52ee9f;}continueWatching=_0x356833[_0x4acfe3(0x1a3)](_0xc6b6e6=>({'id':_0xc6b6e6['media_id'],'media_type':_0xc6b6e6['media_type'],'title':_0xc6b6e6[_0x4acfe3(0x229)],'name':_0xc6b6e6[_0x4acfe3(0x229)],'poster_path':_0xc6b6e6[_0x4acfe3(0x251)],'watch_progress':_0xc6b6e6[_0x4acfe3(0xba)],'total_duration':_0xc6b6e6[_0x4acfe3(0x160)],'progress_percentage':_0xc6b6e6['total_duration']>0x0?_0xc6b6e6['watch_progress']/_0xc6b6e6[_0x4acfe3(0x160)]*0x64:0x0}));const _0x7b70ed=document[_0x4acfe3(0x24a)](_0x4acfe3(0x106));_0x7b70ed&&(_0x7b70ed[_0x4acfe3(0x144)]['display']=continueWatching[_0x4acfe3(0x239)]>0x0?_0x4acfe3(0x217):_0x4acfe3(0x216));}catch(_0x55d1a9){console[_0x4acfe3(0xfc)](_0x4acfe3(0x10c),_0x55d1a9),continueWatching=[];}}function renderContinueWatching(){const _0x463c3f=_0x57e3c7,_0x5346bb=domCache[_0x463c3f(0xa8)]['continue-watching-grid'];if(!_0x5346bb)return;while(_0x5346bb[_0x463c3f(0xe0)]){_0x5346bb[_0x463c3f(0x10d)](_0x5346bb[_0x463c3f(0xe0)]);}if(continueWatching['length']===0x0){const _0x540345=document[_0x463c3f(0x24a)]('continue-watching-row');if(_0x540345)_0x540345[_0x463c3f(0x144)][_0x463c3f(0x22e)]=_0x463c3f(0x216);return;}const _0x591aa7=document[_0x463c3f(0x23f)]();continueWatching[_0x463c3f(0x10f)]((_0x422f5d,_0x58c48b)=>{const _0x3ee49c=_0x463c3f,_0x5c2ffd=createContinueWatchingCard(_0x422f5d,_0x58c48b);_0x591aa7[_0x3ee49c(0x1d5)](_0x5c2ffd);}),_0x5346bb['appendChild'](_0x591aa7),setupLazyLoadingForGrid(_0x5346bb);}function createContinueWatchingCard(_0x353cb5,_0x25f329){const _0x445114=_0x57e3c7,_0x10e95a=_0x353cb5['title']||_0x353cb5[_0x445114(0x191)],_0x3ba177=Math[_0x445114(0x1df)](_0x353cb5['progress_percentage']||0x0,0x64),_0x596603=document['createElement'](_0x445114(0x1b9));_0x596603[_0x445114(0x1d9)]=_0x445114(0x110),_0x596603['style'][_0x445114(0x129)]=_0x25f329*0x32+'ms',_0x596603['tabIndex']=0x0;const _0x16012b=isUserApproved?_0x445114(0xc2):_0x445114(0x12a),_0x4cfbe9=isUserApproved?'Continue\x20watching':'Premium\x20access\x20required';_0x596603['innerHTML']=_0x445114(0x146)+_0x353cb5['id']+_0x445114(0x267)+_0x353cb5[_0x445114(0x251)]+_0x445114(0xb9)+_0x10e95a+_0x445114(0x152)+_0x4cfbe9+_0x445114(0x1e4)+_0x16012b+'\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x3ba177+_0x445114(0xd5)+_0x10e95a+_0x445114(0x21e)+Math[_0x445114(0x21c)](_0x3ba177)+_0x445114(0x24b)+(_0x353cb5[_0x445114(0x1a9)]==='tv'?'TV':'Movie')+_0x445114(0xcf);const _0x3edd01=_0x596603[_0x445114(0xd3)]('.play-btn');_0x3edd01&&_0x3edd01[_0x445114(0x247)](_0x445114(0xb0),_0x4b4b0e=>{const _0x441e1f=_0x445114;_0x4b4b0e[_0x441e1f(0xea)](),isUserApproved?openPlayer({..._0x353cb5,'media_type':_0x353cb5[_0x441e1f(0x1a9)]}):(showNotification(_0x441e1f(0x118),_0x441e1f(0xfc)),openPaymentModal());});_0x596603['addEventListener'](_0x445114(0xb0),debounce(()=>{const _0x184dc8=_0x445114;isUserApproved?openPlayer({..._0x353cb5,'media_type':_0x353cb5[_0x184dc8(0x1a9)]}):(showNotification(_0x184dc8(0x118),_0x184dc8(0xfc)),openPaymentModal());},0x12c));const _0x4b5387=_0x596603[_0x445114(0xd3)]('.remove-continue-btn');return _0x4b5387&&_0x4b5387[_0x445114(0x247)](_0x445114(0xb0),_0x58f81d=>{const _0x294907=_0x445114;_0x58f81d[_0x294907(0xea)](),removeContinueWatching(_0x353cb5['id']);}),_0x596603;}async function removeContinueWatching(_0xec2948){const _0x2ee0d5=_0x57e3c7;if(!currentUser)return;try{const {error:_0x46bae0}=await supabase['from']('continue_watching')[_0x2ee0d5(0x20c)]()['eq'](_0x2ee0d5(0xaa),currentUser['id'])['eq'](_0x2ee0d5(0xa6),_0xec2948);if(_0x46bae0)throw _0x46bae0;continueWatching=continueWatching[_0x2ee0d5(0x218)](_0x8d6167=>_0x8d6167['id']!==_0xec2948),renderContinueWatching(),showNotification(_0x2ee0d5(0x154),_0x2ee0d5(0x180));}catch(_0x28be9e){console[_0x2ee0d5(0xfc)](_0x2ee0d5(0x148),_0x28be9e),showNotification('Failed\x20to\x20remove\x20item',_0x2ee0d5(0xfc));}}async function updateWatchProgress(_0x269569,_0x4c7fca,_0x2ceb3d){const _0x5363d7=_0x57e3c7;if(!currentUser||!_0x269569||_0x4c7fca<0x3c)return;try{const _0x565661=_0x2ceb3d>0x0?_0x4c7fca/_0x2ceb3d*0x64:0x0,_0x245428=_0x565661>0x5a,{error:_0x541c39}=await supabase[_0x5363d7(0x27b)](_0x5363d7(0xe7))['upsert']({'user_id':currentUser['id'],'media_id':_0x269569['id'],'media_type':_0x269569[_0x5363d7(0x1a9)],'title':_0x269569['title']||_0x269569[_0x5363d7(0x191)],'poster_path':_0x269569[_0x5363d7(0x251)],'watch_progress':Math[_0x5363d7(0x108)](_0x4c7fca),'total_duration':Math[_0x5363d7(0x108)](_0x2ceb3d),'last_watched_at':new Date()[_0x5363d7(0x141)](),'completed':_0x245428},{'onConflict':_0x5363d7(0x1cb),'returning':_0x5363d7(0x258)});if(_0x541c39)throw _0x541c39;}catch(_0x1fe874){console[_0x5363d7(0xfc)]('Error\x20updating\x20watch\x20progress:',_0x1fe874);}}function showUnauthenticatedUI(){const _0x1f62a8=_0x57e3c7,{'auth-container':_0x356aa8,'main-header':_0x4b6c6a,'main-content':_0xbfdebb}=domCache[_0x1f62a8(0xa8)];if(_0x356aa8)_0x356aa8[_0x1f62a8(0x144)][_0x1f62a8(0x22e)]=_0x1f62a8(0x1aa);if(_0x4b6c6a)_0x4b6c6a[_0x1f62a8(0x144)]['display']=_0x1f62a8(0x216);if(_0xbfdebb)_0xbfdebb['style'][_0x1f62a8(0x22e)]=_0x1f62a8(0x216);}function showHomeSection(){const _0x4e568e=_0x57e3c7;document[_0x4e568e(0x210)](_0x4e568e(0x277))[_0x4e568e(0x10f)](_0xf87960=>_0xf87960[_0x4e568e(0x181)]['remove'](_0x4e568e(0x21b))),document[_0x4e568e(0x24a)](_0x4e568e(0x235))?.[_0x4e568e(0x181)][_0x4e568e(0x165)](_0x4e568e(0x21b)),document[_0x4e568e(0x210)]('.nav-link')[_0x4e568e(0x10f)](_0x446352=>_0x446352[_0x4e568e(0x181)][_0x4e568e(0x1b3)](_0x4e568e(0x21b))),document[_0x4e568e(0xd3)]('[data-section=\x22home\x22]')?.[_0x4e568e(0x181)]['add'](_0x4e568e(0x21b));}function loadSectionContent(_0x5ec912){const _0x114c93=_0x57e3c7;showLoadingForSection(_0x5ec912);switch(_0x5ec912){case _0x114c93(0x166):Promise[_0x114c93(0xb6)]([loadFeaturedContent(),loadTrending(),loadPopularMovies(),loadPopularTVShows()])[_0x114c93(0x20e)](()=>{renderContinueWatching();})[_0x114c93(0x124)](()=>{const _0x335059=_0x114c93;hideLoadingForSection(_0x5ec912);const _0x41c699=document['getElementById'](_0x335059(0x235));_0x41c699&&_0x41c699[_0x335059(0x181)]['contains']('active')&&featuredQueue['length']>0x0&&startRotation();});break;case _0x114c93(0x109):loadMovies(_0x114c93(0xb6))['finally'](()=>hideLoadingForSection(_0x5ec912));break;case'tv':loadTVShows(_0x114c93(0xb6))[_0x114c93(0x124)](()=>hideLoadingForSection(_0x5ec912));break;case _0x114c93(0x204):loadBollywoodMovies(_0x114c93(0xb6))['finally'](()=>hideLoadingForSection(_0x5ec912));break;case _0x114c93(0x11f):loadBookmarks(),hideLoadingForSection(_0x5ec912);break;}}async function loadBollywoodMovies(_0x258fc1){const _0x1365b5=_0x57e3c7;try{let _0x356ac2=_0x1365b5(0x25f);_0x258fc1!=='all'&&(_0x356ac2+=_0x1365b5(0x234)+_0x258fc1);const _0x3e263d=await fetchWithTimeout(_0x356ac2,{'headers':{'Authorization':_0x1365b5(0x123)+TMDB_TOKEN,'Content-Type':_0x1365b5(0x263)}});if(!_0x3e263d['ok'])throw new Error(_0x1365b5(0x10a)+_0x3e263d[_0x1365b5(0xb4)]);const _0x4e299a=await _0x3e263d[_0x1365b5(0x16d)](),_0x1c7222=_0x4e299a[_0x1365b5(0x215)]['filter'](_0x1cfb9e=>!_0x1cfb9e[_0x1365b5(0x16e)]&&_0x1cfb9e[_0x1365b5(0x1ad)]==='hi'&&_0x1cfb9e[_0x1365b5(0x1b7)]>=0x64);renderMediaCards(_0x1c7222,_0x1365b5(0x14b));}catch(_0x162ef4){console[_0x1365b5(0xfc)]('Error\x20loading\x20Bollywood\x20movies:',_0x162ef4),showNotification(_0x1365b5(0x137),_0x1365b5(0xfc));}}function showLoadingForSection(_0xf807c){const _0x4f08fe=_0x57e3c7,_0x362084=document[_0x4f08fe(0x24a)](_0xf807c+'-section');if(_0x362084&&!_0x362084[_0x4f08fe(0xd3)](_0x4f08fe(0x249))){const _0x193e1a=document[_0x4f08fe(0x1cc)](_0x4f08fe(0x1b9));_0x193e1a['className']=_0x4f08fe(0x262),_0x193e1a[_0x4f08fe(0x103)]=_0x4f08fe(0x15e),_0x362084[_0x4f08fe(0x1d5)](_0x193e1a);}}function hideLoadingForSection(_0x39025f){const _0x46312f=_0x57e3c7,_0x5acc26=document[_0x46312f(0x24a)](_0x39025f+_0x46312f(0x11b)),_0x4e47fb=_0x5acc26?.['querySelector'](_0x46312f(0x249));_0x4e47fb&&_0x4e47fb[_0x46312f(0x1b3)]();}async function fetchWithTimeout(_0x3601a7,_0x4fb672={},_0x3e0a64=0x2710){const _0x164149=_0x57e3c7,_0x5aebc5=new AbortController(),_0x42eb5e=setTimeout(()=>_0x5aebc5[_0x164149(0x130)](),_0x3e0a64);try{const _0x326325=await fetch(_0x3601a7,{..._0x4fb672,'signal':_0x5aebc5[_0x164149(0x1eb)]});return clearTimeout(_0x42eb5e),_0x326325;}catch(_0x20a427){clearTimeout(_0x42eb5e);throw _0x20a427;}}async function loadFeaturedContent(){const _0x5bab08=_0x57e3c7;try{const _0x43667b=await fetchWithTimeout(_0x5bab08(0xf6),{'headers':{'Authorization':_0x5bab08(0x123)+TMDB_TOKEN,'Content-Type':_0x5bab08(0x263)}});if(!_0x43667b['ok'])throw new Error(_0x5bab08(0x10a)+_0x43667b[_0x5bab08(0xb4)]);const _0x555b15=await _0x43667b[_0x5bab08(0x16d)](),_0x2707cd=new Date()['getFullYear'](),_0x11fbbb=_0x555b15[_0x5bab08(0x215)][_0x5bab08(0x218)](_0x511fb0=>{const _0x4fec03=_0x5bab08,_0x1ec19a=_0x511fb0['release_date']?parseInt(_0x511fb0[_0x4fec03(0x12f)]['split']('-')[0x0]):0x0;return _0x511fb0[_0x4fec03(0x16e)]===![]&&_0x511fb0[_0x4fec03(0x272)]>=0x7&&_0x1ec19a>=0x7e4;});featuredQueue=_0x11fbbb[_0x5bab08(0x1cd)](0x0,0x5),featuredQueue[_0x5bab08(0x239)]>0x0&&(featuredIndex=Math[_0x5bab08(0x108)](Math[_0x5bab08(0x12c)]()*featuredQueue[_0x5bab08(0x239)]),featuredMedia=featuredQueue[featuredIndex],updateHeroSection(featuredMedia),featuredQueue['length']>=0x2&&startRotation());}catch(_0x74a9d7){console[_0x5bab08(0xfc)]('Error\x20loading\x20featured\x20content:',_0x74a9d7);}}function startRotation(){const _0x3a2107=_0x57e3c7;if(rotationInterval||featuredQueue[_0x3a2107(0x239)]<0x2)return;rotationInterval=setInterval(()=>{rotateFeatured();},0x1388);}function rotateFeatured(){const _0x1ff78c=_0x57e3c7;if(featuredQueue[_0x1ff78c(0x239)]<0x2)return;const _0x14bc2b=document[_0x1ff78c(0xd3)](_0x1ff78c(0x198)),_0x111240=document[_0x1ff78c(0xd3)]('.hero-backdrop');if(_0x14bc2b)_0x14bc2b[_0x1ff78c(0x144)][_0x1ff78c(0x26c)]='0';if(_0x111240)_0x111240[_0x1ff78c(0x144)][_0x1ff78c(0x26c)]='0';setTimeout(()=>{const _0x98da8c=_0x1ff78c;featuredIndex=(featuredIndex+0x1)%featuredQueue[_0x98da8c(0x239)],featuredMedia=featuredQueue[featuredIndex],updateHeroSection(featuredMedia);if(_0x14bc2b)_0x14bc2b[_0x98da8c(0x144)][_0x98da8c(0x26c)]='1';if(_0x111240)_0x111240[_0x98da8c(0x144)][_0x98da8c(0x26c)]=_0x98da8c(0x151);},0x320);}function updateHeroSection(_0x1675c3){const _0x2a9bc1=_0x57e3c7,_0x479f2d=document[_0x2a9bc1(0xd3)]('.hero-backdrop'),_0x123d8c=document[_0x2a9bc1(0x24a)]('hero-title'),_0x176a08=document['getElementById'](_0x2a9bc1(0xaf)),_0x5d86bd=document[_0x2a9bc1(0x24a)](_0x2a9bc1(0x135)),_0x17f0eb=document[_0x2a9bc1(0x24a)](_0x2a9bc1(0x11a)),_0x5172e1=document['getElementById'](_0x2a9bc1(0x1f4));_0x479f2d&&_0x1675c3[_0x2a9bc1(0x278)]&&(_0x479f2d[_0x2a9bc1(0x144)][_0x2a9bc1(0x261)]='url(https://image.tmdb.org/t/p/original'+_0x1675c3['backdrop_path']+')',_0x479f2d['style'][_0x2a9bc1(0x26c)]=_0x2a9bc1(0x151));_0x123d8c&&(_0x123d8c['textContent']=_0x1675c3[_0x2a9bc1(0x229)]||_0x1675c3['name']);if(_0x176a08){const _0x2f0102=_0x1675c3[_0x2a9bc1(0x272)]?_0x1675c3['vote_average'][_0x2a9bc1(0xf8)](0x1):_0x2a9bc1(0x250),_0x2b9b02=(_0x1675c3[_0x2a9bc1(0x12f)]||_0x1675c3['first_air_date']||'')[_0x2a9bc1(0x190)]('-')[0x0],_0x49c27c=_0x1675c3[_0x2a9bc1(0x1a9)]==='tv'?_0x2a9bc1(0x209):_0x2a9bc1(0x21d),_0x48d3ed=_0x1675c3[_0x2a9bc1(0x254)]?_0x1675c3['genre_ids'][_0x2a9bc1(0x1cd)](0x0,0x2)[_0x2a9bc1(0x1a3)](_0x270571=>getGenreName(_0x270571))[_0x2a9bc1(0x218)](Boolean)[_0x2a9bc1(0xd2)](',\x20'):_0x2a9bc1(0x178);_0x176a08[_0x2a9bc1(0x103)]='\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22hero-rating\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20'+_0x2f0102+_0x2a9bc1(0x13e)+(_0x2b9b02||_0x2a9bc1(0x250))+_0x2a9bc1(0x13e)+(_0x48d3ed||_0x49c27c)+_0x2a9bc1(0x19a);}if(_0x5d86bd){const _0x490dfa=_0x1675c3[_0x2a9bc1(0x213)]||'No\x20description\x20available';_0x5d86bd['textContent']=_0x490dfa[_0x2a9bc1(0x239)]>0xfa?_0x490dfa[_0x2a9bc1(0x12e)](0x0,0xfa)+_0x2a9bc1(0xe8):_0x490dfa;}_0x17f0eb&&(isUserApproved?(_0x17f0eb[_0x2a9bc1(0x103)]='<i\x20class=\x22fas\x20fa-play\x22></i>\x20Watch\x20Now',_0x17f0eb[_0x2a9bc1(0x1e8)]=()=>{const _0x84e14=_0x2a9bc1;openPlayer({..._0x1675c3,'media_type':_0x1675c3[_0x84e14(0x1a9)]||_0x84e14(0x26e)});}):(_0x17f0eb[_0x2a9bc1(0x103)]=_0x2a9bc1(0x15b),_0x17f0eb[_0x2a9bc1(0x1e8)]=()=>{const _0x5443ed=_0x2a9bc1;showNotification(_0x5443ed(0x21f),'error'),openPaymentModal();}));if(_0x5172e1&&currentUser){const _0x5ee0d1=bookmarks[_0x2a9bc1(0x240)](_0x17ed64=>_0x17ed64['id']===_0x1675c3['id']),_0x398a26=_0x5172e1[_0x2a9bc1(0xd3)]('i'),_0x1791ba=_0x5172e1[_0x2a9bc1(0xd3)](_0x2a9bc1(0x1b5));_0x5172e1['classList']['add']('show');if(_0x5ee0d1){_0x398a26[_0x2a9bc1(0x1d9)]=_0x2a9bc1(0x25b),_0x5172e1[_0x2a9bc1(0x181)][_0x2a9bc1(0x165)](_0x2a9bc1(0x1d2));if(_0x1791ba)_0x1791ba[_0x2a9bc1(0xcd)]=_0x2a9bc1(0x1db);}else{_0x398a26[_0x2a9bc1(0x1d9)]='far\x20fa-bookmark',_0x5172e1[_0x2a9bc1(0x181)][_0x2a9bc1(0x1b3)](_0x2a9bc1(0x1d2));if(_0x1791ba)_0x1791ba['textContent']='Add\x20to\x20List';}_0x5172e1['onclick']=()=>{const _0x2ed244=_0x2a9bc1;isUserApproved?toggleBookmark(_0x1675c3,_0x1675c3[_0x2ed244(0x1a9)]||_0x2ed244(0x26e),_0x5172e1):(showNotification(_0x2ed244(0x186),_0x2ed244(0xfc)),openPaymentModal());};}else _0x5172e1&&_0x5172e1[_0x2a9bc1(0x181)][_0x2a9bc1(0x1b3)](_0x2a9bc1(0x1e6));}function getGenreName(_0x403893){const _0x5887a9=_0x57e3c7,_0x2c06ce={0x1c:'Action',0xc:'Adventure',0x10:_0x5887a9(0xd0),0x23:'Comedy',0x50:_0x5887a9(0x1bc),0x63:_0x5887a9(0x164),0x12:_0x5887a9(0x17d),0x29ff:_0x5887a9(0x14e),0xe:_0x5887a9(0x163),0x24:'History',0x1b:_0x5887a9(0x185),0x28a2:'Music',0x25b0:_0x5887a9(0x18e),0x29fd:_0x5887a9(0x1f0),0x36e:'Sci-Fi',0x2a12:_0x5887a9(0x111),0x35:'Thriller',0x2a00:_0x5887a9(0xbf),0x25:'Western',0x2a07:_0x5887a9(0x252),0x2a0d:_0x5887a9(0x1e3)};return _0x2c06ce[_0x403893]||'';}async function loadTrending(){const _0x5b4397=_0x57e3c7;try{const _0x3eb018=await fetchWithTimeout(_0x5b4397(0x168),{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0x5b4397(0x263)}});if(!_0x3eb018['ok'])throw new Error('HTTP\x20'+_0x3eb018[_0x5b4397(0xb4)]);const _0x44fb41=await _0x3eb018[_0x5b4397(0x16d)]();renderMediaCards(_0x44fb41[_0x5b4397(0x215)][_0x5b4397(0x1cd)](0x0,0xc),'trending-grid');}catch(_0x322218){console[_0x5b4397(0xfc)](_0x5b4397(0x273),_0x322218),showNotification(_0x5b4397(0x26d),'error');}}function _0x31d1(_0x1891cf,_0x1bb66a){const _0x104493=_0x1044();return _0x31d1=function(_0x31d150,_0x38248e){_0x31d150=_0x31d150-0xa1;let _0x3ff81b=_0x104493[_0x31d150];return _0x3ff81b;},_0x31d1(_0x1891cf,_0x1bb66a);}async function loadPopularMovies(){const _0x596d0=_0x57e3c7;try{const _0x2fd709=await fetchWithTimeout('https://api.themoviedb.org/3/movie/popular',{'headers':{'Authorization':_0x596d0(0x123)+TMDB_TOKEN,'Content-Type':_0x596d0(0x263)}});if(!_0x2fd709['ok'])throw new Error(_0x596d0(0x10a)+_0x2fd709[_0x596d0(0xb4)]);const _0x4226a6=await _0x2fd709[_0x596d0(0x16d)]();renderMediaCards(_0x4226a6['results'][_0x596d0(0x1cd)](0x0,0xc),'popular-movies-grid');}catch(_0x1186bb){console[_0x596d0(0xfc)]('Error\x20loading\x20popular\x20movies:',_0x1186bb),showNotification(_0x596d0(0x1ea),_0x596d0(0xfc));}}async function loadPopularTVShows(){const _0xcceb3b=_0x57e3c7;try{const _0x5ba327=await fetchWithTimeout(_0xcceb3b(0x173),{'headers':{'Authorization':_0xcceb3b(0x123)+TMDB_TOKEN,'Content-Type':_0xcceb3b(0x263)}});if(!_0x5ba327['ok'])throw new Error(_0xcceb3b(0x10a)+_0x5ba327['status']);const _0x40a8dc=await _0x5ba327[_0xcceb3b(0x16d)]();renderMediaCards(_0x40a8dc[_0xcceb3b(0x215)][_0xcceb3b(0x1cd)](0x0,0xc),_0xcceb3b(0xbc));}catch(_0x3a1705){console['error'](_0xcceb3b(0xa4),_0x3a1705),showNotification(_0xcceb3b(0x1d3),'error');}}async function loadMovies(_0x5b94bb){const _0x717829=_0x57e3c7;try{let _0x1924fa='https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc';_0x5b94bb!==_0x717829(0xb6)&&(_0x1924fa+=_0x717829(0x234)+_0x5b94bb);const _0x1fdf1a=await fetchWithTimeout(_0x1924fa,{'headers':{'Authorization':_0x717829(0x123)+TMDB_TOKEN,'Content-Type':_0x717829(0x263)}});if(!_0x1fdf1a['ok'])throw new Error(_0x717829(0x10a)+_0x1fdf1a[_0x717829(0xb4)]);const _0x47ee64=await _0x1fdf1a[_0x717829(0x16d)]();renderMediaCards(_0x47ee64[_0x717829(0x215)],'movies-grid');}catch(_0xec1e6b){console['error'](_0x717829(0x259),_0xec1e6b),showNotification('Error\x20loading\x20movies','error');}}async function loadTVShows(_0x584ad3){const _0x187f2a=_0x57e3c7;try{let _0x2bc9b0=_0x187f2a(0x1b1);_0x584ad3!==_0x187f2a(0xb6)&&(_0x2bc9b0+=_0x187f2a(0x234)+_0x584ad3);const _0x249224=await fetchWithTimeout(_0x2bc9b0,{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0x187f2a(0x263)}});if(!_0x249224['ok'])throw new Error('HTTP\x20'+_0x249224['status']);const _0x59a924=await _0x249224[_0x187f2a(0x16d)]();renderMediaCards(_0x59a924['results'],'tv-grid');}catch(_0x1a68f9){console[_0x187f2a(0xfc)]('Error\x20loading\x20TV\x20shows:',_0x1a68f9),showNotification(_0x187f2a(0xa2),'error');}}function renderMediaCards(_0x3def15,_0x9814d6){const _0x1004cc=_0x57e3c7,_0x2c06c3=document['getElementById'](_0x9814d6);if(!_0x2c06c3)return;while(_0x2c06c3[_0x1004cc(0xe0)]){_0x2c06c3[_0x1004cc(0x10d)](_0x2c06c3[_0x1004cc(0xe0)]);}if(!_0x3def15||_0x3def15['length']===0x0){_0x2c06c3[_0x1004cc(0x103)]='<p\x20class=\x27no-content\x27>No\x20content\x20available</p>';return;}const _0x5a7de2=document[_0x1004cc(0x23f)]();_0x3def15[_0x1004cc(0x10f)]((_0x515a48,_0x470c5d)=>{const _0x2ad982=_0x1004cc,_0x35d91e=_0x515a48[_0x2ad982(0x1a9)]||(_0x515a48[_0x2ad982(0x276)]?'tv':_0x2ad982(0x26e)),_0x5b9d54=createMediaCard(_0x515a48,_0x35d91e,_0x470c5d);_0x5a7de2['appendChild'](_0x5b9d54);}),_0x2c06c3[_0x1004cc(0x1d5)](_0x5a7de2),setupLazyLoadingForGrid(_0x2c06c3);}function createMediaCard(_0xc3746f,_0x497f75,_0x2dad28){const _0x5221a0=_0x57e3c7,_0x574b97=_0xc3746f['title']||_0xc3746f[_0x5221a0(0x191)],_0x18e3ce=(_0xc3746f['release_date']||_0xc3746f[_0x5221a0(0x276)]||'')['split']('-')[0x0],_0x1fc3b1=_0xc3746f[_0x5221a0(0x272)]?_0xc3746f[_0x5221a0(0x272)][_0x5221a0(0xf8)](0x1):_0x5221a0(0x250),_0x1fe357=bookmarks['some'](_0x4e9538=>_0x4e9538['id']===_0xc3746f['id']),_0x68f4d4=isUserApproved?_0x5221a0(0xc2):_0x5221a0(0x12a),_0x1b393a=isUserApproved?_0x5221a0(0x23a)+_0x574b97:'Premium\x20access\x20required',_0x48f52c=document[_0x5221a0(0x1cc)]('div');_0x48f52c[_0x5221a0(0x1d9)]=_0x5221a0(0xda),_0x48f52c[_0x5221a0(0x144)][_0x5221a0(0x129)]=_0x2dad28*0x32+'ms',_0x48f52c[_0x5221a0(0x102)]=0x0;const _0x2fb02e=currentUser&&isUserApproved?_0x5221a0(0x1ab)+(_0x1fe357?_0x5221a0(0x1d2):'')+_0x5221a0(0xdd)+_0xc3746f['id']+_0x5221a0(0x175)+(_0x1fe357?'Remove\x20from\x20List':_0x5221a0(0x24f))+_0x5221a0(0x26b)+(_0x1fe357?_0x5221a0(0x1d0):_0x5221a0(0x24e))+_0x5221a0(0x211)+(_0x1fe357?_0x5221a0(0x182):'far')+_0x5221a0(0x177):'';_0x48f52c[_0x5221a0(0x103)]=_0x5221a0(0x18d)+_0x2fb02e+'\x0a\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20data-src=\x22https://image.tmdb.org/t/p/w500'+_0xc3746f[_0x5221a0(0x251)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x574b97+_0x5221a0(0x152)+_0x1b393a+_0x5221a0(0x1e4)+_0x68f4d4+_0x5221a0(0x230)+_0x574b97+_0x5221a0(0x15f)+_0x1fc3b1+_0x5221a0(0x15a)+_0x18e3ce+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>'+(_0x497f75==='tv'?'TV':_0x5221a0(0x21d))+_0x5221a0(0xcf);const _0x183017=_0x48f52c[_0x5221a0(0xd3)]('.play-btn');_0x183017&&_0x183017[_0x5221a0(0x247)](_0x5221a0(0xb0),_0x3bd844=>{const _0x2b59d6=_0x5221a0;_0x3bd844['stopPropagation'](),isUserApproved?openPlayer({..._0xc3746f,'media_type':_0x497f75}):(showNotification(_0x2b59d6(0x118),_0x2b59d6(0xfc)),openPaymentModal());});_0x48f52c['addEventListener'](_0x5221a0(0xb0),debounce(()=>{const _0x375255=_0x5221a0;isUserApproved?openPlayer({..._0xc3746f,'media_type':_0x497f75}):(showNotification(_0x375255(0x118),_0x375255(0xfc)),openPaymentModal());},0x12c)),_0x48f52c[_0x5221a0(0x247)](_0x5221a0(0x264),_0xac34f8=>{const _0xd46222=_0x5221a0;(_0xac34f8['key']===_0xd46222(0xdc)||_0xac34f8[_0xd46222(0x120)]==='\x20')&&(_0xac34f8['preventDefault'](),isUserApproved?openPlayer({..._0xc3746f,'media_type':_0x497f75}):(showNotification(_0xd46222(0x118),_0xd46222(0xfc)),openPaymentModal()));});const _0x5d3783=_0x48f52c[_0x5221a0(0xd3)](_0x5221a0(0x16a));return _0x5d3783&&_0x5d3783[_0x5221a0(0x247)](_0x5221a0(0xb0),_0xc20f40=>{const _0x5cec57=_0x5221a0;_0xc20f40['stopPropagation'](),isUserApproved?(animateButton(_0x5d3783),toggleBookmark(_0xc3746f,_0x497f75,_0x5d3783)):(showNotification(_0x5cec57(0x186),_0x5cec57(0xfc)),openPaymentModal());}),_0x48f52c;}function setupLazyLoadingForGrid(_0x11afc2){const _0x40bc7a=_0x57e3c7,_0x1a2c5a=domCache[_0x40bc7a(0xe9)][_0x40bc7a(0x225)](_0x40bc7a(0xcb));_0x1a2c5a&&_0x11afc2[_0x40bc7a(0x210)](_0x40bc7a(0x1ff))['forEach'](_0x36c536=>{const _0x150885=_0x40bc7a;_0x1a2c5a[_0x150885(0x223)](_0x36c536);});}function animateButton(_0x341792){const _0xe620ef=_0x57e3c7;_0x341792[_0xe620ef(0x144)][_0xe620ef(0x275)]=_0xe620ef(0xeb),setTimeout(()=>{const _0x57b570=_0xe620ef;_0x341792[_0x57b570(0x144)][_0x57b570(0x275)]=_0x57b570(0x24c);},0x96);}function loadBookmarks(){const _0x2a7621=_0x57e3c7,_0x519c94=document[_0x2a7621(0x24a)](_0x2a7621(0x161));if(!_0x519c94)return;if(bookmarks[_0x2a7621(0x239)]===0x0){_0x519c94[_0x2a7621(0x103)]=_0x2a7621(0x238);return;}renderMediaCards(bookmarks,_0x2a7621(0x161));}function toggleBookmark(_0x5e94f6,_0x91f9ed,_0x4d82c0){const _0xc5929c=_0x57e3c7;if(!currentUser){showNotification('Please\x20log\x20in\x20to\x20manage\x20your\x20list',_0xc5929c(0xfc));return;}if(!isUserApproved){showNotification(_0xc5929c(0x186),'error'),openPaymentModal();return;}const _0x5782fa=bookmarks['findIndex'](_0x3ea214=>_0x3ea214['id']===_0x5e94f6['id']),_0x2b682c=_0x4d82c0[_0xc5929c(0xd3)]('i');_0x5782fa>-0x1?(bookmarks[_0xc5929c(0x138)](_0x5782fa,0x1),showNotification('Removed\x20from\x20your\x20list',_0xc5929c(0x180)),removeBookmarkFromSupabase(_0x5e94f6['id']),_0x2b682c&&(_0x2b682c[_0xc5929c(0x1d9)]=_0xc5929c(0xf7)),_0x4d82c0[_0xc5929c(0x181)]['remove'](_0xc5929c(0x1d2)),_0x4d82c0[_0xc5929c(0x229)]='Add\x20to\x20List'):(bookmarks[_0xc5929c(0xf5)]({..._0x5e94f6,'media_type':_0x91f9ed}),showNotification(_0xc5929c(0x233),_0xc5929c(0x180)),addBookmarkToSupabase(_0x5e94f6,_0x91f9ed),_0x2b682c&&(_0x2b682c[_0xc5929c(0x1d9)]='fas\x20fa-bookmark'),_0x4d82c0[_0xc5929c(0x181)][_0xc5929c(0x165)](_0xc5929c(0x1d2)),_0x4d82c0[_0xc5929c(0x229)]=_0xc5929c(0x1db)),document[_0xc5929c(0x24a)](_0xc5929c(0xad))?.[_0xc5929c(0x181)]['contains'](_0xc5929c(0x21b))&&loadBookmarks(),featuredMedia&&featuredMedia['id']===_0x5e94f6['id']&&updateHeroSection(featuredMedia);}async function addBookmarkToSupabase(_0x1a5d5d,_0x46373b){const _0x3c420a=_0x57e3c7;try{const {error:_0x16fee4}=await supabase['from'](_0x3c420a(0x143))[_0x3c420a(0x260)]({'user_id':currentUser['id'],'media_id':_0x1a5d5d['id'],'media_type':_0x46373b,'title':_0x1a5d5d[_0x3c420a(0x229)]||_0x1a5d5d[_0x3c420a(0x191)],'poster_path':_0x1a5d5d[_0x3c420a(0x251)],'vote_average':_0x1a5d5d[_0x3c420a(0x272)],'release_date':_0x1a5d5d['release_date']||null,'first_air_date':_0x1a5d5d[_0x3c420a(0x276)]||null,'added_at':new Date()[_0x3c420a(0x141)]()});if(_0x16fee4)throw _0x16fee4;}catch(_0x1b0b82){console['error'](_0x3c420a(0x203),_0x1b0b82);}}async function removeBookmarkFromSupabase(_0x25d620){const _0x1a2e54=_0x57e3c7;try{const {error:_0x2a5262}=await supabase[_0x1a2e54(0x27b)](_0x1a2e54(0x143))[_0x1a2e54(0x20c)]()['eq']('user_id',currentUser['id'])['eq'](_0x1a2e54(0xa6),_0x25d620);if(_0x2a5262)throw _0x2a5262;}catch(_0x2cd84c){console[_0x1a2e54(0xfc)]('Error\x20removing\x20bookmark\x20from\x20Supabase:',_0x2cd84c);}}async function performSearch(_0x4ea896){const _0x4c48bc=_0x57e3c7;if(!_0x4ea896[_0x4c48bc(0xe1)]()){showHomeSection();return;}try{showLoadingForSection(_0x4c48bc(0x1ee));const _0x5e8a7c=await fetchWithTimeout(_0x4c48bc(0x224)+encodeURIComponent(_0x4ea896),{'headers':{'Authorization':_0x4c48bc(0x123)+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x5e8a7c['ok'])throw new Error(_0x4c48bc(0x10a)+_0x5e8a7c[_0x4c48bc(0xb4)]);const _0x4cf14d=await _0x5e8a7c['json'](),_0x29cc86=_0x4cf14d[_0x4c48bc(0x215)][_0x4c48bc(0x218)](_0x4411b4=>!_0x4411b4[_0x4c48bc(0x16e)]&&(_0x4411b4[_0x4c48bc(0x1a9)]==='movie'||_0x4411b4[_0x4c48bc(0x1a9)]==='tv')&&_0x4411b4[_0x4c48bc(0x251)]);currentUser&&recordSearchHistory(_0x4ea896),document['querySelectorAll'](_0x4c48bc(0x277))['forEach'](_0x160534=>_0x160534['classList']['remove']('active')),document['getElementById'](_0x4c48bc(0x193))?.[_0x4c48bc(0x181)][_0x4c48bc(0x165)](_0x4c48bc(0x21b)),renderMediaCards(_0x29cc86,_0x4c48bc(0x206)),setTimeout(()=>{const _0x38b145=_0x4c48bc,_0x47e021=document[_0x38b145(0x24a)](_0x38b145(0x193));if(_0x47e021){const _0x54e19d=document[_0x38b145(0xd3)](_0x38b145(0x26a))?.['offsetHeight']||0x50,_0x19d0a6=_0x47e021['offsetTop']-_0x54e19d-0x14;window[_0x38b145(0x245)]({'top':_0x19d0a6,'behavior':_0x38b145(0x131)});}},0x64);}catch(_0x2bf85a){console['error'](_0x4c48bc(0x1e2),_0x2bf85a),showNotification(_0x4c48bc(0x25e),_0x4c48bc(0xfc));}finally{hideLoadingForSection('search');}}async function recordSearchHistory(_0x4ff40f){const _0xb8f7a3=_0x57e3c7;try{const {error:_0x1c0b3e}=await supabase[_0xb8f7a3(0x27b)]('user_search_history')['insert']({'user_id':currentUser['id'],'query':_0x4ff40f,'searched_at':new Date()[_0xb8f7a3(0x141)]()});if(_0x1c0b3e)throw _0x1c0b3e;}catch(_0xc216e0){console[_0xb8f7a3(0xfc)](_0xb8f7a3(0xf4),_0xc216e0);}}async function recordWatchHistory(_0x14d510,_0x2054e2=null,_0x460699=null,_0x2aab9a=0x0){const _0x5bcc47=_0x57e3c7;try{const {error:_0x534819}=await supabase['from'](_0x5bcc47(0x16b))['insert']({'user_id':currentUser['id'],'media_id':_0x14d510['id'],'media_type':_0x14d510[_0x5bcc47(0x1a9)],'title':_0x14d510['title']||_0x14d510['name'],'season':_0x2054e2,'episode':_0x460699,'duration':_0x2aab9a,'watched_at':new Date()[_0x5bcc47(0x141)]()});if(_0x534819)throw _0x534819;}catch(_0x3ca3d3){console['error'](_0x5bcc47(0x1f6),_0x3ca3d3);}}function openPlayer(_0x508a14){const _0x4f7432=_0x57e3c7;if(!currentUser){showNotification(_0x4f7432(0x20a),_0x4f7432(0xfc));return;}if(!isUserApproved){showNotification(_0x4f7432(0x1a5),_0x4f7432(0xfc)),openPaymentModal();return;}currentMediaType=_0x508a14['media_type'],currentMediaId=_0x508a14['id'],currentMediaTitle=_0x508a14[_0x4f7432(0x229)]||_0x508a14[_0x4f7432(0x191)],currentMediaData=_0x508a14,document['getElementById']('player-title')[_0x4f7432(0xcd)]=currentMediaTitle,document[_0x4f7432(0x24a)](_0x4f7432(0x1f5))[_0x4f7432(0xcd)]=_0x508a14['overview']||_0x4f7432(0xe6);const _0x92a243=document[_0x4f7432(0x24a)](_0x4f7432(0x14f)),_0x4ffdda=document['getElementById'](_0x4f7432(0xf2)),_0x5b5f30=document[_0x4f7432(0x24a)](_0x4f7432(0xdb));_0x92a243&&(_0x92a243[_0x4f7432(0xcd)]=_0x508a14[_0x4f7432(0x272)]?_0x508a14[_0x4f7432(0x272)]['toFixed'](0x1):_0x4f7432(0x250));if(_0x4ffdda){const _0x17bafd=(_0x508a14['release_date']||_0x508a14['first_air_date']||'')[_0x4f7432(0x190)]('-')[0x0];_0x4ffdda['textContent']=_0x17bafd||_0x4f7432(0x250);}_0x5b5f30&&(_0x5b5f30[_0x4f7432(0xcd)]=currentMediaType==='tv'?_0x4f7432(0x209):'Movie');const _0x4ff666=document['getElementById'](_0x4f7432(0x1bd));_0x4ff666&&(_0x4ff666['style'][_0x4f7432(0x22e)]=currentMediaType==='tv'?_0x4f7432(0x1aa):'none');currentMediaType==='tv'&&(currentSeason=0x1,currentEpisode=0x1,loadSeasons(currentMediaId));buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date();if(playerInterval)clearInterval(playerInterval);playerInterval=setInterval(()=>{trackPlayerProgress();},0x7530);const _0x354f11=domCache['elements'][_0x4f7432(0x1d4)];_0x354f11&&(_0x354f11['classList']['add']('active'),setTimeout(()=>{const _0x55cb29=_0x4f7432;_0x354f11[_0x55cb29(0x181)]['add'](_0x55cb29(0x266));},0x32));}function trackPlayerProgress(){const _0x1c8ad3=_0x57e3c7;if(!currentUser||!currentMediaData)return;const _0x5c7434=domCache[_0x1c8ad3(0xa8)]['video-frame'];if(!_0x5c7434||!_0x5c7434[_0x1c8ad3(0x196)])return;const _0x175d7a=watchStartTime?(new Date()-watchStartTime)/0x3e8:0x0,_0x1e72a0=currentMediaType===_0x1c8ad3(0x26e)?0x1c20:0xa8c;_0x175d7a>0x3c&&updateWatchProgress(currentMediaData,_0x175d7a,_0x1e72a0);}function closePlayer(){const _0x5a470a=_0x57e3c7;if(watchStartTime&&currentUser&&currentMediaData){const _0x144792=new Date(),_0x8e03f8=(_0x144792-watchStartTime)/0x3e8;if(_0x8e03f8>0x1e){const _0x6121bf={'id':currentMediaId,'media_type':currentMediaType,'title':currentMediaTitle};recordWatchHistory(_0x6121bf,currentMediaType==='tv'?currentSeason:null,currentMediaType==='tv'?currentEpisode:null,_0x8e03f8);const _0x1b0649=currentMediaType===_0x5a470a(0x26e)?0x1c20:0xa8c;updateWatchProgress(currentMediaData,_0x8e03f8,_0x1b0649);}}cleanupPlayer();const _0x58eb35=domCache[_0x5a470a(0xa8)]['player-modal'];_0x58eb35&&(_0x58eb35['classList'][_0x5a470a(0x1b3)](_0x5a470a(0x266)),setTimeout(()=>{const _0x59962e=_0x5a470a;_0x58eb35['classList'][_0x59962e(0x1b3)](_0x59962e(0x21b)),document[_0x59962e(0x1c8)][_0x59962e(0x144)]['overflow']='';},0x12c)),document[_0x5a470a(0x24a)](_0x5a470a(0x235))?.[_0x5a470a(0x181)][_0x5a470a(0x19f)](_0x5a470a(0x21b))&&loadContinueWatching()[_0x5a470a(0x20e)](()=>renderContinueWatching());}function cleanupPlayer(){const _0x523288=_0x57e3c7;playerInterval&&(clearInterval(playerInterval),playerInterval=null);const _0x437a93=domCache[_0x523288(0xa8)][_0x523288(0x17b)];_0x437a93&&(_0x437a93[_0x523288(0x196)]='about:blank'),currentMediaType==='tv'&&(currentSeason=0x1,currentEpisode=0x1),watchStartTime=null;}function buildEmbedSources(){const _0x263208=_0x57e3c7;if(currentMediaType===_0x263208(0x26e))embedSources=[{'name':_0x263208(0x16f),'url':_0x263208(0xd1)+currentMediaId},{'name':_0x263208(0xd6),'url':_0x263208(0x23d)+currentMediaId},{'name':_0x263208(0x139),'url':'https://player.videasy.net/movie/'+currentMediaId}];else currentMediaType==='tv'&&(embedSources=[{'name':_0x263208(0x16f),'url':_0x263208(0x15d)+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':_0x263208(0xd6),'url':'https://vidjoy.pro/embed/tv/'+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':_0x263208(0x139),'url':_0x263208(0xa7)+currentMediaId+'/'+currentSeason+'/'+currentEpisode}]);}function populateSourceButtons(){const _0x4c6faf=_0x57e3c7,_0xb8c39a=document[_0x4c6faf(0x24a)](_0x4c6faf(0x12d));if(!_0xb8c39a)return;_0xb8c39a[_0x4c6faf(0x103)]='',embedSources['forEach']((_0x56666f,_0x17d52a)=>{const _0x45b63f=_0x4c6faf,_0x52503b=document[_0x45b63f(0x1cc)](_0x45b63f(0x179));_0x52503b[_0x45b63f(0x1d9)]=_0x45b63f(0xca);if(_0x17d52a===0x0)_0x52503b[_0x45b63f(0x181)][_0x45b63f(0x165)](_0x45b63f(0x21b));_0x52503b[_0x45b63f(0xcd)]=_0x56666f[_0x45b63f(0x191)],_0x52503b[_0x45b63f(0x144)][_0x45b63f(0x129)]=_0x17d52a*0x64+'ms',_0x52503b[_0x45b63f(0x247)](_0x45b63f(0xb0),debounce(()=>{const _0x2a5aeb=_0x45b63f;document[_0x2a5aeb(0x210)]('.source-btn')[_0x2a5aeb(0x10f)](_0x30c382=>_0x30c382[_0x2a5aeb(0x181)]['remove'](_0x2a5aeb(0x21b))),_0x52503b[_0x2a5aeb(0x181)][_0x2a5aeb(0x165)](_0x2a5aeb(0x21b)),loadSource(_0x17d52a);},0xc8)),_0xb8c39a['appendChild'](_0x52503b);});}function loadSource(_0x770308){const _0x598002=_0x57e3c7;if(_0x770308<0x0||_0x770308>=embedSources[_0x598002(0x239)])return;const _0x490fb0=embedSources[_0x770308],_0x545bdd=domCache[_0x598002(0xa8)]['video-frame'];if(!_0x545bdd)return;_0x545bdd[_0x598002(0x1ca)](_0x598002(0x242),'autoplay;\x20fullscreen;\x20encrypted-media;\x20picture-in-picture'),_0x545bdd[_0x598002(0x1ca)](_0x598002(0xe2),_0x598002(0xfa)),showVideoLoadingState();let _0x4d32f8=0x0;const _0x6bd1da=0x2;function _0x1a76c5(){const _0x27d30d=_0x598002;_0x545bdd['onerror']=()=>{const _0x2c81c9=_0x31d1;_0x4d32f8++,_0x4d32f8<=_0x6bd1da?(showNotification('Retrying\x20'+_0x490fb0[_0x2c81c9(0x191)]+_0x2c81c9(0x147)+_0x4d32f8+'/'+_0x6bd1da+')','warning'),setTimeout(_0x1a76c5,0x3e8*_0x4d32f8)):handleSourceFailure(_0x770308);},_0x545bdd[_0x27d30d(0x199)]=()=>{hideVideoLoadingState();},_0x545bdd[_0x27d30d(0x196)]=_0x490fb0[_0x27d30d(0x1a0)]+(_0x490fb0[_0x27d30d(0x1a0)]['includes']('?')?'&':'?')+'t='+Date[_0x27d30d(0x1c6)]();}const _0x52b807=setTimeout(()=>{const _0x61b8ad=_0x598002;_0x545bdd[_0x61b8ad(0x196)]&&!_0x545bdd[_0x61b8ad(0x1a4)]?.['length']&&handleSourceFailure(_0x770308);},0x2710);_0x545bdd[_0x598002(0x247)](_0x598002(0x1a1),()=>clearTimeout(_0x52b807),{'once':!![]}),_0x1a76c5();}function handleSourceFailure(_0x3127f0){const _0x3c763c=_0x57e3c7;hideVideoLoadingState();const _0x13ff38=(_0x3127f0+0x1)%embedSources[_0x3c763c(0x239)];_0x13ff38!==_0x3127f0?(showNotification(_0x3c763c(0x167)+embedSources[_0x13ff38][_0x3c763c(0x191)]+_0x3c763c(0xe8),_0x3c763c(0x201)),setTimeout(()=>loadSource(_0x13ff38),0x3e8)):showNotification(_0x3c763c(0x1f8),_0x3c763c(0xfc));}function showVideoLoadingState(){const _0x1fc747=_0x57e3c7,_0x17d983=document[_0x1fc747(0xd3)](_0x1fc747(0x119));if(_0x17d983&&!_0x17d983[_0x1fc747(0xd3)](_0x1fc747(0xd8))){const _0x22a8c3=document[_0x1fc747(0x1cc)]('div');_0x22a8c3[_0x1fc747(0x1d9)]='video-loading',_0x22a8c3[_0x1fc747(0x103)]=_0x1fc747(0x159),_0x17d983[_0x1fc747(0x1d5)](_0x22a8c3);}}function hideVideoLoadingState(){const _0x1dcf3e=_0x57e3c7,_0x4c0b5c=document['querySelector'](_0x1dcf3e(0xd8));_0x4c0b5c&&_0x4c0b5c[_0x1dcf3e(0x1b3)]();}async function loadSeasons(_0x3aea5d){const _0x5d0b69=_0x57e3c7;try{const _0x5c91f7=await fetchWithTimeout(_0x5d0b69(0x15c)+_0x3aea5d,{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x5c91f7['ok'])throw new Error(_0x5d0b69(0x10a)+_0x5c91f7[_0x5d0b69(0xb4)]);const _0x203094=await _0x5c91f7[_0x5d0b69(0x16d)](),_0x3bcc7a=_0x203094[_0x5d0b69(0xd9)]['filter'](_0x1baee6=>_0x1baee6[_0x5d0b69(0x13d)]>0x0),_0x38fc6a=document[_0x5d0b69(0x24a)]('season-select');if(!_0x38fc6a)return;_0x38fc6a['innerHTML']='',_0x3bcc7a[_0x5d0b69(0x10f)](_0x13d232=>{const _0x585410=_0x5d0b69,_0x5cb7d8=document[_0x585410(0x1cc)](_0x585410(0xce));_0x5cb7d8[_0x585410(0x150)]=_0x13d232[_0x585410(0x13d)],_0x5cb7d8[_0x585410(0xcd)]=_0x585410(0x268)+_0x13d232[_0x585410(0x13d)],_0x13d232[_0x585410(0x13d)]===currentSeason&&(_0x5cb7d8[_0x585410(0xec)]=!![]),_0x38fc6a[_0x585410(0x1d5)](_0x5cb7d8);}),_0x38fc6a[_0x5d0b69(0x247)](_0x5d0b69(0xc3),debounce(_0x8f7715=>{const _0x5e78ae=_0x5d0b69;currentSeason=parseInt(_0x8f7715[_0x5e78ae(0x17c)][_0x5e78ae(0x150)]),currentEpisode=0x1,reloadTVContent();},0x12c)),await loadEpisodes(_0x3aea5d,currentSeason);}catch(_0x536070){console[_0x5d0b69(0xfc)](_0x5d0b69(0xb7),_0x536070),showNotification('Error\x20loading\x20seasons',_0x5d0b69(0xfc));}}async function loadEpisodes(_0x313454,_0x3b3a6d){const _0x5c6ecf=_0x57e3c7;try{const _0x4f4a4a=await fetchWithTimeout('https://api.themoviedb.org/3/tv/'+_0x313454+'/season/'+_0x3b3a6d,{'headers':{'Authorization':_0x5c6ecf(0x123)+TMDB_TOKEN,'Content-Type':_0x5c6ecf(0x263)}});if(!_0x4f4a4a['ok'])throw new Error(_0x5c6ecf(0x10a)+_0x4f4a4a['status']);const _0x160648=await _0x4f4a4a[_0x5c6ecf(0x16d)]();renderEpisodeCards(_0x160648[_0x5c6ecf(0x11e)]);}catch(_0x45489d){console[_0x5c6ecf(0xfc)](_0x5c6ecf(0x270),_0x45489d),showNotification(_0x5c6ecf(0x16c),_0x5c6ecf(0xfc));}}function renderEpisodeCards(_0x452965){const _0x2d0b93=_0x57e3c7,_0x44b4c2=document[_0x2d0b93(0x24a)](_0x2d0b93(0x13f));if(!_0x44b4c2)return;_0x44b4c2[_0x2d0b93(0x103)]='';if(!_0x452965||_0x452965['length']===0x0){_0x44b4c2[_0x2d0b93(0x103)]=_0x2d0b93(0x219);return;}const _0x4438f6=document[_0x2d0b93(0x23f)]();_0x452965[_0x2d0b93(0x10f)]((_0x62b4f8,_0x44b4f9)=>{const _0x45b764=_0x2d0b93,_0x500ded=document[_0x45b764(0x1cc)]('div');_0x500ded[_0x45b764(0x1d9)]='episode-card\x20hover-glow\x20'+(_0x62b4f8[_0x45b764(0x23c)]===currentEpisode?_0x45b764(0x21b):''),_0x500ded[_0x45b764(0x144)][_0x45b764(0x129)]=_0x44b4f9*0x32+'ms',_0x500ded['innerHTML']=_0x45b764(0x1ec)+_0x62b4f8[_0x45b764(0x23c)]+_0x45b764(0x116)+(_0x62b4f8[_0x45b764(0x191)]||_0x45b764(0x1f7)+_0x62b4f8['episode_number'])+_0x45b764(0x153)+(_0x62b4f8[_0x45b764(0x140)]?_0x62b4f8[_0x45b764(0x140)]+_0x45b764(0x1be):'')+_0x45b764(0x18a)+(_0x62b4f8[_0x45b764(0x18b)]?new Date(_0x62b4f8[_0x45b764(0x18b)])[_0x45b764(0x112)]():'TBA')+_0x45b764(0x269),_0x500ded[_0x45b764(0x247)]('click',debounce(()=>{const _0x49ba70=_0x45b764;document[_0x49ba70(0x210)](_0x49ba70(0x231))[_0x49ba70(0x10f)](_0x1b3200=>_0x1b3200['classList'][_0x49ba70(0x1b3)](_0x49ba70(0x21b))),_0x500ded['classList'][_0x49ba70(0x165)](_0x49ba70(0x21b)),currentEpisode=_0x62b4f8[_0x49ba70(0x23c)],reloadTVContent();},0x12c)),_0x4438f6[_0x45b764(0x1d5)](_0x500ded);}),_0x44b4c2[_0x2d0b93(0x1d5)](_0x4438f6);}function reloadTVContent(){showVideoLoadingState(),buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date();}function showNotification(_0x298433,_0x1b635b=_0x57e3c7(0x180)){const _0x1e14b5=_0x57e3c7,_0x40abaa=document[_0x1e14b5(0x24a)](_0x1e14b5(0x24d));if(!_0x40abaa)return;const _0x39b1dd=document[_0x1e14b5(0x1cc)](_0x1e14b5(0x1b9));_0x39b1dd[_0x1e14b5(0x1d9)]='notification\x20'+_0x1b635b+_0x1e14b5(0x22c),_0x39b1dd[_0x1e14b5(0x1ca)](_0x1e14b5(0x132),_0x1e14b5(0x174)),_0x39b1dd[_0x1e14b5(0x103)]=_0x1e14b5(0x107)+(_0x1b635b===_0x1e14b5(0x180)?_0x1e14b5(0x1c0):_0x1b635b===_0x1e14b5(0xfc)?_0x1e14b5(0xc8):_0x1e14b5(0x274))+_0x1e14b5(0x1cf)+_0x298433+_0x1e14b5(0x25c),_0x40abaa[_0x1e14b5(0x1d5)](_0x39b1dd),setTimeout(()=>_0x39b1dd[_0x1e14b5(0x181)][_0x1e14b5(0x165)](_0x1e14b5(0x1e6)),0x64);const _0x4fc7e3=setTimeout(()=>{removeNotification(_0x39b1dd);},0x1388),_0x306bca=_0x39b1dd[_0x1e14b5(0xd3)]('.notification-close');_0x306bca[_0x1e14b5(0x247)](_0x1e14b5(0xb0),()=>{clearTimeout(_0x4fc7e3),removeNotification(_0x39b1dd);}),_0x39b1dd[_0x1e14b5(0x247)](_0x1e14b5(0xb0),_0x17753f=>{const _0x4cda84=_0x1e14b5;(_0x17753f['target']===_0x39b1dd||_0x17753f[_0x4cda84(0x17c)][_0x4cda84(0x22a)](_0x4cda84(0x187)))&&(clearTimeout(_0x4fc7e3),removeNotification(_0x39b1dd));});}function removeNotification(_0x4c528b){const _0x155c61=_0x57e3c7;_0x4c528b['classList'][_0x155c61(0x165)]('fade-out'),setTimeout(()=>{const _0x12a62a=_0x155c61;_0x4c528b[_0x12a62a(0x142)]&&_0x4c528b[_0x12a62a(0x1b3)]();},0x12c);}document[_0x57e3c7(0x247)](_0x57e3c7(0xab),_0x61d26d=>{const _0x10d33a=_0x57e3c7;if(!isPlayerOpen)return;switch(_0x61d26d[_0x10d33a(0x120)]){case _0x10d33a(0x1d1):closePlayer();break;}});let scrollTimeout;window[_0x57e3c7(0x247)](_0x57e3c7(0x113),()=>{!scrollTimeout&&(scrollTimeout=setTimeout(()=>{const _0x465464=_0x31d1,_0x390e51=domCache[_0x465464(0xa8)][_0x465464(0xf0)];_0x390e51&&_0x390e51[_0x465464(0x181)]['toggle'](_0x465464(0x1fc),window[_0x465464(0x17f)]>0x32),scrollTimeout=null;},0xa));}),window[_0x57e3c7(0x247)](_0x57e3c7(0x184),()=>{const _0x611faa=_0x57e3c7;if(playerInterval)clearInterval(playerInterval);if(scrollTimeout)clearTimeout(scrollTimeout);if(searchDebounce)clearTimeout(searchDebounce);domCache[_0x611faa(0xe9)][_0x611faa(0x10f)](_0x1b5a8d=>_0x1b5a8d[_0x611faa(0x22d)]());}),window['NekoFlix']={'closePlayer':closePlayer,'showNotification':showNotification,'toggleBookmark':(_0x45e825,_0x1ae54a)=>{const _0x4c3ed5=_0x57e3c7,_0x5a2fe8=document[_0x4c3ed5(0x1cc)](_0x4c3ed5(0x179));toggleBookmark(_0x45e825,_0x1ae54a,_0x5a2fe8);}};const mobileMenuToggle=document[_0x57e3c7(0x24a)](_0x57e3c7(0xbd)),mobileNavOverlay=document[_0x57e3c7(0x24a)](_0x57e3c7(0x27e)),mainNav=document[_0x57e3c7(0xd3)](_0x57e3c7(0x136));mobileMenuToggle&&mobileNavOverlay&&mainNav&&(mobileMenuToggle[_0x57e3c7(0x247)](_0x57e3c7(0xb0),()=>{const _0x3390f0=_0x57e3c7;mainNav['classList']['toggle'](_0x3390f0(0x21b)),mobileNavOverlay[_0x3390f0(0x181)][_0x3390f0(0x162)](_0x3390f0(0x21b));const _0x245d90=mobileMenuToggle[_0x3390f0(0xd3)]('i');mainNav[_0x3390f0(0x181)][_0x3390f0(0x19f)](_0x3390f0(0x21b))?_0x245d90[_0x3390f0(0x1d9)]=_0x3390f0(0x1ac):_0x245d90[_0x3390f0(0x1d9)]=_0x3390f0(0x14d);}),mobileNavOverlay['addEventListener'](_0x57e3c7(0xb0),()=>{const _0x4588f7=_0x57e3c7;mainNav[_0x4588f7(0x181)][_0x4588f7(0x1b3)](_0x4588f7(0x21b)),mobileNavOverlay[_0x4588f7(0x181)][_0x4588f7(0x1b3)](_0x4588f7(0x21b));const _0x204d94=mobileMenuToggle[_0x4588f7(0xd3)]('i');_0x204d94[_0x4588f7(0x1d9)]='fas\x20fa-bars';}),document[_0x57e3c7(0x210)](_0x57e3c7(0x1d6))[_0x57e3c7(0x10f)](_0x370df9=>{const _0x2ddeac=_0x57e3c7;_0x370df9[_0x2ddeac(0x247)](_0x2ddeac(0xb0),()=>{const _0x241a82=_0x2ddeac;if(window[_0x241a82(0x1af)]<=0x300){mainNav[_0x241a82(0x181)][_0x241a82(0x1b3)](_0x241a82(0x21b)),mobileNavOverlay[_0x241a82(0x181)][_0x241a82(0x1b3)](_0x241a82(0x21b));const _0x35225f=mobileMenuToggle[_0x241a82(0xd3)]('i');_0x35225f[_0x241a82(0x1d9)]=_0x241a82(0x14d);}});}));