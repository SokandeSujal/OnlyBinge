const _0x44a56d=_0x2189;(function(_0xb99472,_0x3193bb){const _0x4c97b2=_0x2189,_0x456c06=_0xb99472();while(!![]){try{const _0x3fae3b=parseInt(_0x4c97b2(0x1d4))/0x1+-parseInt(_0x4c97b2(0x1f3))/0x2*(parseInt(_0x4c97b2(0x1fa))/0x3)+parseInt(_0x4c97b2(0x37f))/0x4*(parseInt(_0x4c97b2(0x386))/0x5)+parseInt(_0x4c97b2(0x1db))/0x6+-parseInt(_0x4c97b2(0x1e9))/0x7*(-parseInt(_0x4c97b2(0x375))/0x8)+-parseInt(_0x4c97b2(0x364))/0x9*(-parseInt(_0x4c97b2(0x385))/0xa)+-parseInt(_0x4c97b2(0x220))/0xb;if(_0x3fae3b===_0x3193bb)break;else _0x456c06['push'](_0x456c06['shift']());}catch(_0x2ddebd){_0x456c06['push'](_0x456c06['shift']());}}}(_0x2261,0xba3b4));const SUPABASE_URL='__SUPABASE_URL__',SUPABASE_ANON_KEY=_0x44a56d(0x2c9),TMDB_TOKEN=_0x44a56d(0x26d),supabase=window[_0x44a56d(0x203)][_0x44a56d(0x2cd)](SUPABASE_URL,SUPABASE_ANON_KEY);let currentUser=null,currentMediaType=null,currentMediaId=null,currentMediaTitle=null,currentMediaData=null,embedSources=[],currentSeason=0x1,currentEpisode=0x1,bookmarks=[],continueWatching=[],searchDebounce=null,watchStartTime=null,playerInterval=null,isPlayerOpen=![],featuredMedia=null,featuredQueue=[],featuredIndex=0x0,rotationInterval=null,rotationPaused=![];const domCache={'elements':{},'observers':new Map()};document[_0x44a56d(0x273)](_0x44a56d(0x2f4),function(){const _0x2e586e=_0x44a56d;try{initApp(),cacheCommonElements(),setupIntersectionObservers(),preventBodyScrollWhenNeeded();}catch(_0x337828){console[_0x2e586e(0x1f2)]('App\x20initialization\x20failed:',_0x337828),showNotification(_0x2e586e(0x1da),_0x2e586e(0x1f2));}});function cacheCommonElements(){const _0x32bd34=_0x44a56d,_0x317476=[_0x32bd34(0x34d),'main-header',_0x32bd34(0x260),_0x32bd34(0x205),_0x32bd34(0x311),'loading-screen',_0x32bd34(0x29e),_0x32bd34(0x349),_0x32bd34(0x318),'mylist-grid',_0x32bd34(0x1d5),_0x32bd34(0x34f),_0x32bd34(0x2f5),_0x32bd34(0x379),_0x32bd34(0x30d),_0x32bd34(0x321),_0x32bd34(0x36b)];_0x317476[_0x32bd34(0x1d1)](_0x15448f=>{const _0x1f0e63=_0x32bd34;domCache[_0x1f0e63(0x337)][_0x15448f]=document[_0x1f0e63(0x1dd)](_0x15448f);});}function setupIntersectionObservers(){const _0x479f6a=_0x44a56d;if(_0x479f6a(0x374)in window){const _0x463829=new IntersectionObserver(_0x40b629=>{const _0x1aa09b=_0x479f6a;_0x40b629[_0x1aa09b(0x1d1)](_0x5e60b2=>{const _0x3a118c=_0x1aa09b;if(_0x5e60b2[_0x3a118c(0x26e)]){const _0x4ade6a=_0x5e60b2['target'];_0x4ade6a['dataset'][_0x3a118c(0x243)]&&(_0x4ade6a['src']=_0x4ade6a[_0x3a118c(0x1e5)][_0x3a118c(0x243)],_0x4ade6a['classList']['remove']('lazy'),_0x463829[_0x3a118c(0x325)](_0x4ade6a));}});},{'rootMargin':_0x479f6a(0x219),'threshold':0.01});domCache[_0x479f6a(0x2d3)][_0x479f6a(0x274)](_0x479f6a(0x2df),_0x463829);}}function preventBodyScrollWhenNeeded(){const _0xdf05b7=_0x44a56d,_0x5727eb=new MutationObserver(_0x20d802=>{const _0x697c33=_0x2189;_0x20d802[_0x697c33(0x1d1)](_0x49f5ff=>{const _0x447226=_0x697c33;if(_0x49f5ff[_0x447226(0x329)]==='attributes'&&_0x49f5ff[_0x447226(0x222)]===_0x447226(0x37d)){const _0x27c2dc=domCache['elements'][_0x447226(0x205)],_0x48dfcb=domCache[_0x447226(0x337)][_0x447226(0x30d)];_0x27c2dc&&_0x27c2dc['classList'][_0x447226(0x2a6)]('active')||_0x48dfcb&&_0x48dfcb[_0x447226(0x25c)][_0x447226(0x2a6)]('active')?(document[_0x447226(0x389)][_0x447226(0x21c)][_0x447226(0x1fd)]=_0x447226(0x361),isPlayerOpen=!![]):(document[_0x447226(0x389)][_0x447226(0x21c)][_0x447226(0x1fd)]='',isPlayerOpen=![]);}});});domCache['elements'][_0xdf05b7(0x205)]&&_0x5727eb[_0xdf05b7(0x2e7)](domCache[_0xdf05b7(0x337)][_0xdf05b7(0x205)],{'attributes':!![],'attributeFilter':['class']}),domCache['elements'][_0xdf05b7(0x30d)]&&_0x5727eb['observe'](domCache[_0xdf05b7(0x337)]['payment-modal'],{'attributes':!![],'attributeFilter':['class']});}async function isAllowedUser(_0x11a86d){const _0x4deb40=_0x44a56d;try{const {data:_0x5b7b07,error:_0x4205c6}=await supabase['from'](_0x4deb40(0x2f3))['select']('email,\x20approved,\x20expiry_date')['eq']('email',_0x11a86d)[_0x4deb40(0x249)]();if(_0x4205c6&&_0x4205c6[_0x4deb40(0x232)]!==_0x4deb40(0x335))return console[_0x4deb40(0x1f2)]('Error\x20checking\x20allowed\x20users:',_0x4205c6),{'allowed':![],'reason':_0x4deb40(0x1f2)};if(!_0x5b7b07)return{'allowed':![],'reason':'not_found'};if(!_0x5b7b07[_0x4deb40(0x234)])return{'allowed':![],'reason':_0x4deb40(0x344)};if(_0x5b7b07[_0x4deb40(0x324)]){const _0x5bba97=new Date(_0x5b7b07[_0x4deb40(0x324)]),_0x56ea2b=new Date();if(_0x5bba97<_0x56ea2b)return{'allowed':![],'reason':_0x4deb40(0x1d6)};}return{'allowed':!![],'expiryDate':_0x5b7b07['expiry_date']};}catch(_0x3046b7){return console[_0x4deb40(0x1f2)](_0x4deb40(0x285),_0x3046b7),{'allowed':![],'reason':_0x4deb40(0x1f2)};}}function initApp(){const _0x397179=_0x44a56d;try{setupAuthForms(),setupNavigation(),setupGenreFilters(),setupSearch(),setupPlayerControls(),setupAccountModal(),setupPaymentModal(),setupLogout(),setupHeroRotation(),setupExtensionPopup(),loadUser();}catch(_0x366bb6){console['error']('App\x20initialization\x20error:',_0x366bb6),showNotification(_0x397179(0x316),'error');}}function setupPaymentModal(){const _0xa55cf3=_0x44a56d,_0x3ea7ec=document['getElementById'](_0xa55cf3(0x30d)),_0x41e0c7=document['querySelectorAll'](_0xa55cf3(0x2b6)),_0xde6817=document[_0xa55cf3(0x1dd)](_0xa55cf3(0x2e8)),_0x50a06c=_0x3ea7ec?.[_0xa55cf3(0x387)](_0xa55cf3(0x1e3)),_0x1fda54=document[_0xa55cf3(0x1dd)]('submit-transaction-btn'),_0x59f100=document[_0xa55cf3(0x1dd)](_0xa55cf3(0x217));_0x41e0c7[_0xa55cf3(0x1d1)](_0x51bfc1=>{const _0x114bda=_0xa55cf3;_0x51bfc1?.[_0x114bda(0x273)]('click',_0x16ca3e=>{const _0x54c34f=_0x114bda;_0x16ca3e[_0x54c34f(0x1ed)](),openPaymentModal();});}),_0xde6817?.[_0xa55cf3(0x273)](_0xa55cf3(0x36c),closePaymentModal),_0x50a06c?.['addEventListener'](_0xa55cf3(0x36c),closePaymentModal),_0x1fda54&&_0x59f100&&_0x1fda54['addEventListener'](_0xa55cf3(0x36c),async()=>{const _0x42d9ac=_0xa55cf3,_0x4f23cb=_0x59f100[_0x42d9ac(0x2cb)]['trim']();if(!_0x4f23cb){showNotification(_0x42d9ac(0x35a),'error');return;}if(!currentUser){showNotification(_0x42d9ac(0x36a),_0x42d9ac(0x1f2));return;}_0x1fda54[_0x42d9ac(0x353)]=!![],_0x1fda54[_0x42d9ac(0x380)]=_0x42d9ac(0x221);try{const {error:_0x4ea35b}=await supabase[_0x42d9ac(0x23e)]('pending_payments')[_0x42d9ac(0x261)]({'user_email':currentUser[_0x42d9ac(0x23d)],'transaction_id':_0x4f23cb,'status':_0x42d9ac(0x30a)});if(_0x4ea35b)throw _0x4ea35b;showNotification(_0x42d9ac(0x246),_0x42d9ac(0x2ab)),_0x59f100[_0x42d9ac(0x2cb)]='',closePaymentModal();}catch(_0x26d4f2){console[_0x42d9ac(0x1f2)](_0x42d9ac(0x1f1),_0x26d4f2),showNotification(_0x42d9ac(0x226),_0x42d9ac(0x1f2));}finally{_0x1fda54[_0x42d9ac(0x353)]=![],_0x1fda54[_0x42d9ac(0x380)]=_0x42d9ac(0x214);}}),document['addEventListener'](_0xa55cf3(0x2d1),_0x43ac5a=>{const _0x3c98b3=_0xa55cf3;_0x43ac5a[_0x3c98b3(0x307)]===_0x3c98b3(0x2b3)&&_0x3ea7ec&&_0x3ea7ec[_0x3c98b3(0x25c)][_0x3c98b3(0x2a6)](_0x3c98b3(0x315))&&closePaymentModal();});}function openPaymentModal(){const _0x1c9b03=_0x44a56d,_0x18db81=document[_0x1c9b03(0x1dd)](_0x1c9b03(0x30d));_0x18db81&&(_0x18db81[_0x1c9b03(0x25c)][_0x1c9b03(0x224)]('active'),setTimeout(()=>{const _0x33ff47=_0x1c9b03;_0x18db81[_0x33ff47(0x25c)][_0x33ff47(0x224)](_0x33ff47(0x263));},0x32));}function closePaymentModal(){const _0x603af8=_0x44a56d,_0x4ee873=document[_0x603af8(0x1dd)](_0x603af8(0x30d));_0x4ee873&&(_0x4ee873[_0x603af8(0x25c)][_0x603af8(0x2d8)]('show'),setTimeout(()=>{const _0x44b77f=_0x603af8;_0x4ee873[_0x44b77f(0x25c)][_0x44b77f(0x2d8)]('active');},0x12c));}function setupExtensionPopup(){const _0x4a8a8e=_0x44a56d,_0x4eb4d2=document[_0x4a8a8e(0x1dd)]('extension-popup'),_0x39b6f0=document['getElementById'](_0x4a8a8e(0x213)),_0x313c64=document[_0x4a8a8e(0x1dd)](_0x4a8a8e(0x2fc));_0x39b6f0&&_0x39b6f0[_0x4a8a8e(0x273)](_0x4a8a8e(0x36c),()=>{const _0xa58f56=_0x4a8a8e;window['open'](_0xa58f56(0x2f7),_0xa58f56(0x30b));}),_0x313c64&&_0x313c64[_0x4a8a8e(0x273)](_0x4a8a8e(0x36c),()=>{closeExtensionPopup();}),document[_0x4a8a8e(0x273)](_0x4a8a8e(0x2d1),_0xbd37a=>{const _0x10ac25=_0x4a8a8e;_0xbd37a['key']===_0x10ac25(0x2b3)&&_0x4eb4d2&&_0x4eb4d2[_0x10ac25(0x25c)][_0x10ac25(0x2a6)]('active')&&closeExtensionPopup();});}function _0x2189(_0x989c48,_0x4d5197){const _0x226197=_0x2261();return _0x2189=function(_0x2189e5,_0x5bf85b){_0x2189e5=_0x2189e5-0x1cd;let _0x260653=_0x226197[_0x2189e5];return _0x260653;},_0x2189(_0x989c48,_0x4d5197);}function showExtensionPopup(){const _0x54809d=_0x44a56d,_0x565f9e=document[_0x54809d(0x1dd)](_0x54809d(0x379));_0x565f9e&&(_0x565f9e[_0x54809d(0x25c)]['add']('active'),setTimeout(()=>{const _0x1fc47e=_0x54809d;_0x565f9e[_0x1fc47e(0x25c)][_0x1fc47e(0x224)](_0x1fc47e(0x263));},0x32));}function closeExtensionPopup(){const _0x3147b8=_0x44a56d,_0x71642d=document['getElementById'](_0x3147b8(0x379));_0x71642d&&(_0x71642d['classList'][_0x3147b8(0x2d8)]('show'),setTimeout(()=>{const _0x1b65b8=_0x3147b8;_0x71642d[_0x1b65b8(0x25c)][_0x1b65b8(0x2d8)](_0x1b65b8(0x315));},0x12c));}function setupHeroRotation(){const _0x4e7f7c=_0x44a56d,_0x35534a=document['getElementById'](_0x4e7f7c(0x34f));_0x35534a&&(_0x35534a[_0x4e7f7c(0x273)](_0x4e7f7c(0x2c0),()=>{rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null,rotationPaused=!![]);}),_0x35534a[_0x4e7f7c(0x273)](_0x4e7f7c(0x301),()=>{rotationPaused&&featuredQueue['length']>=0x2&&(startRotation(),rotationPaused=![]);}));}function setupAuthForms(){const _0xd1c41b=_0x44a56d;document[_0xd1c41b(0x1dd)]('show-signup')?.[_0xd1c41b(0x273)](_0xd1c41b(0x36c),_0xe2b73=>{const _0x87905=_0xd1c41b;_0xe2b73[_0x87905(0x1ed)](),smoothTransition(_0x87905(0x1fe),_0x87905(0x2c2));}),document['getElementById'](_0xd1c41b(0x328))?.[_0xd1c41b(0x273)](_0xd1c41b(0x36c),_0x2c39a5=>{_0x2c39a5['preventDefault'](),smoothTransition('signup-form','signin-form');}),document[_0xd1c41b(0x1dd)](_0xd1c41b(0x2c1))?.['addEventListener'](_0xd1c41b(0x36c),_0x35f9d3=>{const _0x26c38c=_0xd1c41b;_0x35f9d3[_0x26c38c(0x1ed)](),smoothTransition(_0x26c38c(0x1fe),_0x26c38c(0x1f5));}),document[_0xd1c41b(0x1dd)](_0xd1c41b(0x28a))?.['addEventListener'](_0xd1c41b(0x36c),_0x299e9d=>{const _0x544a3f=_0xd1c41b;_0x299e9d[_0x544a3f(0x1ed)](),smoothTransition('reset-form',_0x544a3f(0x1fe));}),setupFormSubmission(_0xd1c41b(0x2c2),handleSignup),setupFormSubmission('signin-form',handleSignin),setupFormSubmission('reset-form',handleReset);}function setupFormSubmission(_0x19036f,_0xb7c69c){const _0x322467=_0x44a56d,_0x18ce21=document['getElementById'](_0x19036f)?.[_0x322467(0x387)]('form');_0x18ce21&&_0x18ce21[_0x322467(0x273)](_0x322467(0x2d4),_0xb7c69c);}async function handleSignup(_0x35c475){const _0x1cf257=_0x44a56d;_0x35c475[_0x1cf257(0x1ed)]();const _0xbc92fc=_0x35c475[_0x1cf257(0x343)][_0x1cf257(0x387)](_0x1cf257(0x2db)),_0x190e46=_0xbc92fc[_0x1cf257(0x373)];_0xbc92fc[_0x1cf257(0x373)]=_0x1cf257(0x351),_0xbc92fc[_0x1cf257(0x353)]=!![];try{const _0x10b4e7=document[_0x1cf257(0x1dd)](_0x1cf257(0x1f6))[_0x1cf257(0x2cb)],_0x11aa3d=document['getElementById'](_0x1cf257(0x1d7))['value'],_0x1c0005=document['getElementById']('signup-confirm')['value'];if(_0x11aa3d!==_0x1c0005){showNotification(_0x1cf257(0x286),_0x1cf257(0x1f2));return;}if(_0x11aa3d[_0x1cf257(0x1e6)]<0x6){showNotification(_0x1cf257(0x216),'error');return;}const {data:_0x15831c,error:_0x2148dd}=await supabase['auth']['signUp']({'email':_0x10b4e7,'password':_0x11aa3d,'options':{'emailRedirectTo':window['location'][_0x1cf257(0x21d)]+'/index.html'}});_0x2148dd?showNotification(_0x2148dd['message'],'error'):(showNotification(_0x1cf257(0x2a7),_0x1cf257(0x2ab)),smoothTransition(_0x1cf257(0x2c2),_0x1cf257(0x1fe)));}catch(_0x1d0ccb){showNotification('Unexpected\x20error\x20during\x20signup',_0x1cf257(0x1f2));}finally{_0xbc92fc[_0x1cf257(0x373)]=_0x190e46,_0xbc92fc[_0x1cf257(0x353)]=![];}}async function handleSignin(_0x19745d){const _0x2ba361=_0x44a56d;_0x19745d['preventDefault']();const _0x3b60a2=_0x19745d[_0x2ba361(0x343)]['querySelector'](_0x2ba361(0x2db)),_0x4b8d37=_0x3b60a2[_0x2ba361(0x373)];_0x3b60a2[_0x2ba361(0x373)]=_0x2ba361(0x300),_0x3b60a2[_0x2ba361(0x353)]=!![];try{const _0x522b47=document[_0x2ba361(0x1dd)](_0x2ba361(0x255))[_0x2ba361(0x2cb)],_0x4a122e=document[_0x2ba361(0x1dd)]('signin-password')[_0x2ba361(0x2cb)],{data:_0x37f57a,error:_0xdbcde2}=await supabase[_0x2ba361(0x32a)][_0x2ba361(0x1ee)]({'email':_0x522b47,'password':_0x4a122e});if(_0xdbcde2){showNotification(_0xdbcde2[_0x2ba361(0x2e9)],_0x2ba361(0x1f2));return;}const _0x1c00e8=_0x37f57a?.[_0x2ba361(0x21b)];if(!_0x1c00e8){showNotification(_0x2ba361(0x367),'error');return;}const _0x36caae=await isAllowedUser(_0x1c00e8[_0x2ba361(0x23d)]),_0x30607f=await registerSessionForUser(_0x1c00e8);if(!_0x30607f)return;showNotification('Signed\x20in\x20successfully!','success'),await loadUser(),_0x36caae['allowed']&&setTimeout(()=>{showExtensionPopup();},0x320);}catch(_0x3c802b){console['error'](_0x3c802b),showNotification(_0x2ba361(0x235),_0x2ba361(0x1f2));}finally{_0x3b60a2[_0x2ba361(0x373)]=_0x4b8d37,_0x3b60a2[_0x2ba361(0x353)]=![];}}async function handleReset(_0x1cd353){const _0x52788d=_0x44a56d;_0x1cd353[_0x52788d(0x1ed)]();const _0x3e06a2=_0x1cd353[_0x52788d(0x343)][_0x52788d(0x387)]('button[type=\x22submit\x22]'),_0xaa4a=_0x3e06a2['textContent'];_0x3e06a2[_0x52788d(0x373)]=_0x52788d(0x262),_0x3e06a2[_0x52788d(0x353)]=!![];try{const _0x34472c=document[_0x52788d(0x1dd)]('reset-email')[_0x52788d(0x2cb)],{error:_0x38b4bb}=await supabase[_0x52788d(0x32a)][_0x52788d(0x1df)](_0x34472c);_0x38b4bb?showNotification(_0x38b4bb[_0x52788d(0x2e9)],_0x52788d(0x1f2)):showNotification(_0x52788d(0x2d0),_0x52788d(0x2ab));}catch(_0xa8ec27){showNotification(_0x52788d(0x1dc),_0x52788d(0x1f2));}finally{_0x3e06a2['textContent']=_0xaa4a,_0x3e06a2['disabled']=![];}}let _sessionChannel=null,_heartbeatIntervalId=null;function getDeviceId(){const _0x31c9e9=_0x44a56d,_0x4b23e3='nf_device_id';let _0x54fb8d=localStorage['getItem'](_0x4b23e3);if(!_0x54fb8d){try{_0x54fb8d=crypto[_0x31c9e9(0x2ed)]();}catch(_0x34ca7a){_0x54fb8d=Date[_0x31c9e9(0x29c)]()[_0x31c9e9(0x2b0)](0x24)+Math[_0x31c9e9(0x218)]()['toString'](0x24)[_0x31c9e9(0x29f)](0x2);}localStorage['setItem'](_0x4b23e3,_0x54fb8d);}return _0x54fb8d;}async function registerSessionForUser(_0x3e3b75){const _0x48c3d9=_0x44a56d,_0x52715e=getDeviceId();try{const {data:_0x5ed38d,error:_0x22295b}=await supabase[_0x48c3d9(0x23e)]('active_sessions')['select']('*')['eq'](_0x48c3d9(0x1e0),_0x3e3b75['id'])['maybeSingle']();_0x22295b&&console['error'](_0x48c3d9(0x327),_0x22295b);if(_0x5ed38d&&_0x5ed38d['is_active']&&_0x5ed38d[_0x48c3d9(0x388)]&&_0x5ed38d[_0x48c3d9(0x388)]!==_0x52715e)return await supabase[_0x48c3d9(0x32a)][_0x48c3d9(0x2e6)](),showNotification('Account\x20already\x20active\x20on\x20another\x20device.\x20Please\x20sign\x20out\x20there\x20first.',_0x48c3d9(0x1f2)),![];return await supabase[_0x48c3d9(0x23e)](_0x48c3d9(0x303))[_0x48c3d9(0x2fe)]({'user_id':_0x3e3b75['id'],'device_id':_0x52715e,'is_active':!![],'session_flag':'S','last_heartbeat':new Date()[_0x48c3d9(0x2af)]()},{'returning':_0x48c3d9(0x381)}),startSessionRealtimeSubscription(_0x3e3b75['id'],_0x52715e),startHeartbeat(_0x3e3b75['id'],_0x52715e),!![];}catch(_0x530518){return console[_0x48c3d9(0x1f2)]('registerSessionForUser\x20error',_0x530518),![];}}function startHeartbeat(_0x32aa59,_0x53d65f){stopHeartbeat(),_heartbeatIntervalId=setInterval(async()=>{const _0xa157b5=_0x2189;try{await supabase[_0xa157b5(0x23e)](_0xa157b5(0x303))[_0xa157b5(0x2fe)]({'user_id':_0x32aa59,'device_id':_0x53d65f,'last_heartbeat':new Date()[_0xa157b5(0x2af)]()},{'returning':_0xa157b5(0x381)});}catch(_0x5028c4){console['error'](_0xa157b5(0x207),_0x5028c4);}},0xea60);}function stopHeartbeat(){_heartbeatIntervalId&&(clearInterval(_heartbeatIntervalId),_heartbeatIntervalId=null);}function startSessionRealtimeSubscription(_0x5797d0,_0x276bac){const _0x5da3cf=_0x44a56d;if(_sessionChannel){try{supabase['removeChannel'](_sessionChannel);}catch(_0x216a15){}_sessionChannel=null;}const _0x2d730a=_0x5da3cf(0x1ec)+_0x5797d0;_sessionChannel=supabase[_0x5da3cf(0x2ca)](_0x2d730a)['on'](_0x5da3cf(0x292),{'event':'*','schema':_0x5da3cf(0x27d),'table':_0x5da3cf(0x303),'filter':_0x5da3cf(0x2b5)+_0x5797d0},_0x55a758=>{handleSessionChange(_0x55a758,_0x276bac);})[_0x5da3cf(0x35c)](_0x49dbef=>{});}function stopSessionRealtimeSubscription(){const _0x1b9aaa=_0x44a56d;if(!_sessionChannel)return;try{supabase['removeChannel'](_sessionChannel);}catch(_0x571761){try{_sessionChannel[_0x1b9aaa(0x33d)]();}catch(_0x2b75f9){}}_sessionChannel=null;}async function handleSessionChange(_0x3a3243,_0x3d035c){const _0x2240c1=_0x44a56d;try{const _0x5ee15e=_0x3a3243[_0x2240c1(0x22c)]||_0x3a3243[_0x2240c1(0x201)],_0x4b3209=_0x3a3243['new'],_0x3cc762=_0x3a3243[_0x2240c1(0x355)],_0x465d47=_0x4b3209||_0x3cc762;if(!_0x465d47)return;if(_0x5ee15e===_0x2240c1(0x2e2)){_0x3cc762['device_id']===_0x3d035c&&await forceLocalSignOut('Your\x20session\x20was\x20ended\x20(deleted)\x20–\x20you\x20have\x20been\x20signed\x20out.');return;}if(_0x465d47[_0x2240c1(0x310)]===![]||_0x465d47[_0x2240c1(0x376)]&&_0x465d47[_0x2240c1(0x376)][_0x2240c1(0x275)]()==='N'){await forceLocalSignOut('Your\x20session\x20was\x20disabled\x20by\x20admin\x20–\x20you\x20have\x20been\x20signed\x20out.');return;}if(_0x465d47[_0x2240c1(0x388)]&&_0x465d47[_0x2240c1(0x388)]!==_0x3d035c){await forceLocalSignOut('Your\x20account\x20was\x20used\x20on\x20another\x20device\x20–\x20signed\x20out\x20here.');return;}}catch(_0xf8bb0e){console[_0x2240c1(0x1f2)](_0x2240c1(0x2da),_0xf8bb0e);}}async function forceLocalSignOut(_0xbb577c){const _0x140b5d=_0x44a56d;stopHeartbeat(),stopSessionRealtimeSubscription();try{await supabase[_0x140b5d(0x32a)]['signOut']();}catch(_0x342076){console[_0x140b5d(0x26f)]('force\x20signout\x20supabase.auth.signOut\x20failed',_0x342076);}showNotification(_0xbb577c,'warning'),showUnauthenticatedUI();}async function endSessionForUser(_0x2494d3){const _0x32ae82=_0x44a56d;try{const _0x3796f5=getDeviceId();await supabase[_0x32ae82(0x23e)](_0x32ae82(0x303))['upsert']({'user_id':_0x2494d3['id'],'device_id':_0x3796f5,'is_active':![],'session_flag':'N','last_heartbeat':new Date()[_0x32ae82(0x2af)]()},{'returning':_0x32ae82(0x381)});}catch(_0x376a0e){console[_0x32ae82(0x1f2)](_0x32ae82(0x287),_0x376a0e);}finally{stopHeartbeat(),stopSessionRealtimeSubscription();}}function setupLogout(){const _0xd11f41=_0x44a56d;document[_0xd11f41(0x1dd)](_0xd11f41(0x322))?.[_0xd11f41(0x273)](_0xd11f41(0x36c),async _0x12af47=>{const _0x5e7249=_0xd11f41;_0x12af47[_0x5e7249(0x1ed)]();try{rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null);const _0x51c8e5=currentUser;_0x51c8e5&&await endSessionForUser(_0x51c8e5),await supabase['auth'][_0x5e7249(0x2e6)](),currentUser=null,bookmarks=[],continueWatching=[],featuredQueue=[],featuredIndex=0x0,showNotification('Signed\x20out\x20successfully!',_0x5e7249(0x2ab)),showUnauthenticatedUI();}catch(_0x197182){console[_0x5e7249(0x1f2)](_0x197182),showNotification(_0x5e7249(0x2d2),'error');}});}function setupNavigation(){const _0x18fca5=_0x44a56d;document[_0x18fca5(0x34b)]('.nav-link')[_0x18fca5(0x1d1)](_0x543687=>{const _0xe04ec7=_0x18fca5;_0x543687[_0xe04ec7(0x273)](_0xe04ec7(0x36c),debounce(_0x74f6f5=>{const _0x204137=_0xe04ec7;_0x74f6f5[_0x204137(0x1ed)](),document[_0x204137(0x34b)]('.nav-link')['forEach'](_0x23ed1c=>_0x23ed1c[_0x204137(0x25c)][_0x204137(0x2d8)](_0x204137(0x315))),_0x543687[_0x204137(0x25c)]['add'](_0x204137(0x315)),document['querySelectorAll'](_0x204137(0x31d))[_0x204137(0x1d1)](_0x1c8d4f=>_0x1c8d4f[_0x204137(0x25c)][_0x204137(0x2d8)](_0x204137(0x315)));const _0x36393b=document[_0x204137(0x1dd)](_0x543687['dataset'][_0x204137(0x225)]+_0x204137(0x1e2));_0x36393b&&(_0x36393b[_0x204137(0x25c)][_0x204137(0x224)]('active'),_0x543687['dataset']['section']!==_0x204137(0x29a)&&rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null),loadSectionContent(_0x543687[_0x204137(0x1e5)]['section']));},0x96));});}function setupGenreFilters(){const _0x47c126=_0x44a56d;document[_0x47c126(0x34b)](_0x47c126(0x298))[_0x47c126(0x1d1)](_0x4642c2=>{const _0x201d25=_0x47c126;_0x4642c2['addEventListener'](_0x201d25(0x36c),debounce(()=>{const _0x4cf663=_0x201d25,_0x207f8d=document['querySelector'](_0x4cf663(0x2ef));if(!_0x207f8d)return;const _0x305e5e=_0x207f8d['id'],_0xa82fc0=_0x4642c2['dataset'][_0x4cf663(0x31c)];document[_0x4cf663(0x34b)]('.genre-btn')[_0x4cf663(0x1d1)](_0x11ff6f=>_0x11ff6f[_0x4cf663(0x25c)][_0x4cf663(0x2d8)](_0x4cf663(0x315))),_0x4642c2[_0x4cf663(0x25c)][_0x4cf663(0x224)](_0x4cf663(0x315));if(_0x305e5e===_0x4cf663(0x295))loadMovies(_0xa82fc0);else _0x305e5e===_0x4cf663(0x30c)&&loadTVShows(_0xa82fc0);},0xc8));});}function setupSearch(){const _0x550971=_0x44a56d,_0x4de54b=document[_0x550971(0x1dd)](_0x550971(0x259));if(!_0x4de54b)return;_0x4de54b[_0x550971(0x273)](_0x550971(0x265),_0x1d5ed2=>{clearTimeout(searchDebounce),searchDebounce=setTimeout(()=>{const _0x35517f=_0x2189;performSearch(_0x1d5ed2[_0x35517f(0x343)][_0x35517f(0x2cb)][_0x35517f(0x211)]());},0x320);}),document[_0x550971(0x1dd)]('clear-search')?.[_0x550971(0x273)](_0x550971(0x36c),()=>{const _0x1e7c8f=_0x550971;_0x4de54b[_0x1e7c8f(0x2cb)]='',showHomeSection();});}function setupPlayerControls(){const _0x133625=_0x44a56d;document['getElementById'](_0x133625(0x297))?.[_0x133625(0x273)]('click',closePlayer);}function setupAccountModal(){const _0x1e8e5f=_0x44a56d;document[_0x1e8e5f(0x1dd)]('account-link')?.[_0x1e8e5f(0x273)](_0x1e8e5f(0x36c),_0x3db620=>{const _0x1f1a78=_0x1e8e5f;_0x3db620[_0x1f1a78(0x1ed)](),document['getElementById'](_0x1f1a78(0x293))?.['classList'][_0x1f1a78(0x224)]('active');}),document[_0x1e8e5f(0x1dd)](_0x1e8e5f(0x281))?.[_0x1e8e5f(0x273)](_0x1e8e5f(0x36c),()=>{const _0x591a97=_0x1e8e5f;document[_0x591a97(0x1dd)](_0x591a97(0x293))?.[_0x591a97(0x25c)][_0x591a97(0x2d8)](_0x591a97(0x315));});}function smoothTransition(_0x40019f,_0x4d37ba){const _0x2fe710=_0x44a56d,_0x22a175=document[_0x2fe710(0x1dd)](_0x40019f),_0x5629b1=document[_0x2fe710(0x1dd)](_0x4d37ba);if(!_0x22a175||!_0x5629b1)return;_0x22a175[_0x2fe710(0x25c)][_0x2fe710(0x224)](_0x2fe710(0x2a5)),setTimeout(()=>{const _0x310339=_0x2fe710;_0x22a175[_0x310339(0x25c)]['remove'](_0x310339(0x315),'fade-out'),_0x5629b1[_0x310339(0x25c)][_0x310339(0x224)](_0x310339(0x315),_0x310339(0x296)),setTimeout(()=>{const _0x4e45ce=_0x310339;_0x5629b1['classList'][_0x4e45ce(0x2d8)](_0x4e45ce(0x296));},0x190);},0x96);}function debounce(_0x48cdfb,_0x36cb5e){let _0x5658a2;return function _0xa478ff(..._0x3669cf){const _0x4c4936=()=>{clearTimeout(_0x5658a2),_0x48cdfb(..._0x3669cf);};clearTimeout(_0x5658a2),_0x5658a2=setTimeout(_0x4c4936,_0x36cb5e);};}async function loadUser(){const _0x50b234=_0x44a56d;try{const {data:_0x20547b,error:_0x4d5b03}=await supabase[_0x50b234(0x32a)][_0x50b234(0x25d)](),_0x47757b=_0x20547b?.[_0x50b234(0x21b)],_0x1e20a1=domCache[_0x50b234(0x337)]['loading-screen'];_0x1e20a1&&(_0x1e20a1[_0x50b234(0x25c)]['add'](_0x50b234(0x2a5)),setTimeout(()=>{const _0x19d4a2=_0x50b234;_0x1e20a1['style'][_0x19d4a2(0x330)]=_0x19d4a2(0x2d9);},0x1f4));if(_0x47757b){currentUser=_0x47757b;const _0x1b19c6=await isAllowedUser(_0x47757b[_0x50b234(0x23d)]);if(!_0x1b19c6['allowed']){currentUser=_0x47757b,showAuthenticatedUIWithPaymentPrompt(_0x1b19c6['reason']);return;}await registerSessionForUser(_0x47757b),await loadBookmarksFromSupabase(),await loadContinueWatching(),await updateSubscriptionStatus(_0x1b19c6[_0x50b234(0x250)]),showAuthenticatedUI(),setTimeout(()=>{showExtensionPopup();},0x3e8);}else currentUser=null,showUnauthenticatedUI();}catch(_0x464b7c){console[_0x50b234(0x1f2)]('Error\x20loading\x20user:',_0x464b7c),showUnauthenticatedUI(),showNotification('Error\x20loading\x20user.\x20Please\x20refresh.','error');}}function showAuthenticatedUIWithPaymentPrompt(_0x248f0c){const _0x7ce00a=_0x44a56d,{'auth-container':_0x55b948,'main-header':_0x42a1ca,'main-content':_0x2c7ee8}=domCache[_0x7ce00a(0x337)];if(_0x55b948)_0x55b948[_0x7ce00a(0x21c)]['display']=_0x7ce00a(0x2d9);if(_0x42a1ca)_0x42a1ca['style'][_0x7ce00a(0x330)]=_0x7ce00a(0x29d);if(_0x2c7ee8)_0x2c7ee8[_0x7ce00a(0x21c)][_0x7ce00a(0x330)]=_0x7ce00a(0x2bd);document['getElementById'](_0x7ce00a(0x340))[_0x7ce00a(0x373)]=currentUser[_0x7ce00a(0x23d)],document[_0x7ce00a(0x1dd)]('account-member-since')[_0x7ce00a(0x373)]=new Date(currentUser['created_at'])[_0x7ce00a(0x1d8)]();const _0xa861b4=document[_0x7ce00a(0x1dd)](_0x7ce00a(0x2f6));_0xa861b4&&(_0xa861b4[_0x7ce00a(0x21c)]['display']='flex');const _0x339812=document[_0x7ce00a(0x1dd)](_0x7ce00a(0x25b));if(_0x339812){if(_0x248f0c===_0x7ce00a(0x333)||_0x248f0c==='not_approved')_0x339812[_0x7ce00a(0x373)]=_0x7ce00a(0x1ce),_0x339812[_0x7ce00a(0x276)]='subscription-status\x20pending';else _0x248f0c===_0x7ce00a(0x1d6)&&(_0x339812[_0x7ce00a(0x373)]=_0x7ce00a(0x2e1),_0x339812['className']=_0x7ce00a(0x24b));}if(_0x248f0c===_0x7ce00a(0x333)||_0x248f0c===_0x7ce00a(0x344))showNotification('Please\x20complete\x20payment\x20to\x20access\x20all\x20content',_0x7ce00a(0x280));else _0x248f0c==='expired'&&showNotification(_0x7ce00a(0x30f),_0x7ce00a(0x280));restrictUnauthorizedAccess();}function restrictUnauthorizedAccess(){const _0x46539e=_0x44a56d;document[_0x46539e(0x34b)]('.nav-link')[_0x46539e(0x1d1)](_0x2e6eb0=>{const _0x461d0b=_0x46539e;_0x2e6eb0[_0x461d0b(0x1e5)]['section']!==_0x461d0b(0x29a)&&(_0x2e6eb0[_0x461d0b(0x21c)][_0x461d0b(0x330)]='none');}),document[_0x46539e(0x34b)](_0x46539e(0x31d))[_0x46539e(0x1d1)](_0x5ed882=>{_0x5ed882['classList']['remove']('active');});const _0x12290d=document[_0x46539e(0x1dd)](_0x46539e(0x359));_0x12290d&&(_0x12290d[_0x46539e(0x25c)][_0x46539e(0x224)](_0x46539e(0x315)),_0x12290d['innerHTML']=_0x46539e(0x369),document[_0x46539e(0x1dd)](_0x46539e(0x2f2))?.[_0x46539e(0x273)](_0x46539e(0x36c),openPaymentModal));}async function updateSubscriptionStatus(_0x41d487){const _0x3f5c72=_0x44a56d,_0x144a02=document[_0x3f5c72(0x1dd)](_0x3f5c72(0x25b));if(!_0x144a02||!_0x41d487)return;const _0x357a3c=new Date(_0x41d487),_0x56e6c5=new Date(),_0x2693a4=Math[_0x3f5c72(0x20f)]((_0x357a3c-_0x56e6c5)/(0x3e8*0x3c*0x3c*0x18));_0x2693a4>0x0?(_0x144a02['textContent']=_0x2693a4+_0x3f5c72(0x31a)+(_0x2693a4!==0x1?'s':'')+_0x3f5c72(0x1cf),_0x144a02[_0x3f5c72(0x276)]=_0x3f5c72(0x32b)):(_0x144a02[_0x3f5c72(0x373)]=_0x3f5c72(0x2e1),_0x144a02[_0x3f5c72(0x276)]=_0x3f5c72(0x24b));}async function loadBookmarksFromSupabase(){const _0x337f82=_0x44a56d;if(!currentUser)return;try{const {data:_0x737a85,error:_0x10fcfb}=await supabase[_0x337f82(0x23e)](_0x337f82(0x336))[_0x337f82(0x2eb)]('*')['eq'](_0x337f82(0x1e0),currentUser['id'])[_0x337f82(0x309)](_0x337f82(0x2bf),{'ascending':![]});if(_0x10fcfb){if(_0x10fcfb[_0x337f82(0x232)]==='42P01'||_0x10fcfb[_0x337f82(0x2e9)][_0x337f82(0x2e5)](_0x337f82(0x268))){showNotification(_0x337f82(0x289),_0x337f82(0x280)),bookmarks=[];return;}throw _0x10fcfb;}bookmarks=_0x737a85[_0x337f82(0x24c)](_0x3e47d7=>({'id':_0x3e47d7[_0x337f82(0x26c)],'media_type':_0x3e47d7[_0x337f82(0x284)],'title':_0x3e47d7[_0x337f82(0x23b)],'name':_0x3e47d7[_0x337f82(0x23b)],'poster_path':_0x3e47d7['poster_path'],'vote_average':_0x3e47d7['vote_average']||0x0,'release_date':_0x3e47d7[_0x337f82(0x27a)]||'','first_air_date':_0x3e47d7[_0x337f82(0x33f)]||''}));}catch(_0xb4fba5){console[_0x337f82(0x1f2)](_0x337f82(0x2b8),_0xb4fba5),showNotification(_0x337f82(0x289),'warning'),bookmarks=[];}}async function loadContinueWatching(){const _0x1cd283=_0x44a56d;if(!currentUser)return;try{const {data:_0x2f4595,error:_0x20370c}=await supabase[_0x1cd283(0x23e)](_0x1cd283(0x2a3))[_0x1cd283(0x2eb)]('*')['eq'](_0x1cd283(0x1e0),currentUser['id'])['eq']('completed',![])[_0x1cd283(0x2ac)](_0x1cd283(0x200),0x3c)[_0x1cd283(0x309)](_0x1cd283(0x346),{'ascending':![]})[_0x1cd283(0x21f)](0xc);if(_0x20370c){if(_0x20370c['code']==='42P01'||_0x20370c['message']['includes'](_0x1cd283(0x268))){console[_0x1cd283(0x2a1)]('Continue\x20watching\x20table\x20doesn\x27t\x20exist\x20yet'),continueWatching=[];return;}throw _0x20370c;}continueWatching=_0x2f4595[_0x1cd283(0x24c)](_0x18dd03=>({'id':_0x18dd03[_0x1cd283(0x26c)],'media_type':_0x18dd03[_0x1cd283(0x284)],'title':_0x18dd03[_0x1cd283(0x23b)],'name':_0x18dd03['title'],'poster_path':_0x18dd03['poster_path'],'watch_progress':_0x18dd03[_0x1cd283(0x200)],'total_duration':_0x18dd03[_0x1cd283(0x1f9)],'progress_percentage':_0x18dd03[_0x1cd283(0x1f9)]>0x0?_0x18dd03[_0x1cd283(0x200)]/_0x18dd03[_0x1cd283(0x1f9)]*0x64:0x0}));const _0x5b6570=document[_0x1cd283(0x1dd)]('continue-watching-row');_0x5b6570&&(_0x5b6570[_0x1cd283(0x21c)]['display']=continueWatching[_0x1cd283(0x1e6)]>0x0?_0x1cd283(0x2bd):_0x1cd283(0x2d9));}catch(_0x230dcf){console[_0x1cd283(0x1f2)]('Error\x20loading\x20continue\x20watching:',_0x230dcf),continueWatching=[];}}function renderContinueWatching(){const _0x5913f2=_0x44a56d,_0x1ca4b5=domCache[_0x5913f2(0x337)]['continue-watching-grid'];if(!_0x1ca4b5)return;while(_0x1ca4b5[_0x5913f2(0x2dc)]){_0x1ca4b5['removeChild'](_0x1ca4b5['firstChild']);}if(continueWatching[_0x5913f2(0x1e6)]===0x0){const _0x4ec9be=document[_0x5913f2(0x1dd)](_0x5913f2(0x36b));if(_0x4ec9be)_0x4ec9be[_0x5913f2(0x21c)][_0x5913f2(0x330)]=_0x5913f2(0x2d9);return;}const _0x435b73=document[_0x5913f2(0x231)]();continueWatching[_0x5913f2(0x1d1)]((_0x58c67f,_0x464cf9)=>{const _0x2e1920=_0x5913f2,_0x2507af=createContinueWatchingCard(_0x58c67f,_0x464cf9);_0x435b73[_0x2e1920(0x306)](_0x2507af);}),_0x1ca4b5['appendChild'](_0x435b73),setupLazyLoadingForGrid(_0x1ca4b5);}function createContinueWatchingCard(_0x363523,_0x2b6782){const _0x2b848f=_0x44a56d,_0x3c833f=_0x363523[_0x2b848f(0x23b)]||_0x363523[_0x2b848f(0x338)],_0x234a56=Math[_0x2b848f(0x272)](_0x363523[_0x2b848f(0x31f)]||0x0,0x64),_0x4c864f=document[_0x2b848f(0x1e7)](_0x2b848f(0x258));_0x4c864f[_0x2b848f(0x276)]=_0x2b848f(0x1ff),_0x4c864f[_0x2b848f(0x21c)]['animationDelay']=_0x2b6782*0x32+'ms',_0x4c864f['tabIndex']=0x0,_0x4c864f['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22card-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-continue-btn\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22'+_0x363523['id']+_0x2b848f(0x2ea)+_0x363523['poster_path']+_0x2b848f(0x264)+_0x3c833f+_0x2b848f(0x25e)+_0x234a56+_0x2b848f(0x233)+_0x3c833f+'</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22continue-progress\x22>'+Math[_0x2b848f(0x334)](_0x234a56)+'%\x20watched</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>'+(_0x363523[_0x2b848f(0x284)]==='tv'?'TV':_0x2b848f(0x2d7))+_0x2b848f(0x2ce);const _0x55d1cf=_0x4c864f[_0x2b848f(0x387)](_0x2b848f(0x230));_0x55d1cf&&_0x55d1cf['addEventListener'](_0x2b848f(0x36c),_0x302d86=>{const _0x274845=_0x2b848f;_0x302d86[_0x274845(0x36d)](),openPlayer({..._0x363523,'media_type':_0x363523['media_type']});});_0x4c864f[_0x2b848f(0x273)](_0x2b848f(0x36c),debounce(()=>{const _0x41dcfd=_0x2b848f;openPlayer({..._0x363523,'media_type':_0x363523[_0x41dcfd(0x284)]});},0x12c));const _0x1e59a1=_0x4c864f[_0x2b848f(0x387)](_0x2b848f(0x236));return _0x1e59a1&&_0x1e59a1[_0x2b848f(0x273)](_0x2b848f(0x36c),_0xea68d7=>{_0xea68d7['stopPropagation'](),removeContinueWatching(_0x363523['id']);}),_0x4c864f;}async function removeContinueWatching(_0x3fd034){const _0x31f75a=_0x44a56d;if(!currentUser)return;try{const {error:_0x116083}=await supabase[_0x31f75a(0x23e)](_0x31f75a(0x2a3))[_0x31f75a(0x363)]()['eq'](_0x31f75a(0x1e0),currentUser['id'])['eq'](_0x31f75a(0x26c),_0x3fd034);if(_0x116083)throw _0x116083;continueWatching=continueWatching[_0x31f75a(0x314)](_0x17acf8=>_0x17acf8['id']!==_0x3fd034),renderContinueWatching(),showNotification(_0x31f75a(0x252),_0x31f75a(0x2ab));}catch(_0x48ec04){console[_0x31f75a(0x1f2)]('Error\x20removing\x20from\x20continue\x20watching:',_0x48ec04),showNotification('Failed\x20to\x20remove\x20item',_0x31f75a(0x1f2));}}async function updateWatchProgress(_0x32bcab,_0x1b9ef6,_0x5baff2){const _0x506bfb=_0x44a56d;if(!currentUser||!_0x32bcab||_0x1b9ef6<0x3c)return;try{const _0x1185c4=_0x5baff2>0x0?_0x1b9ef6/_0x5baff2*0x64:0x0,_0x3dcefa=_0x1185c4>0x5a,{error:_0x254957}=await supabase[_0x506bfb(0x23e)]('continue_watching')[_0x506bfb(0x2fe)]({'user_id':currentUser['id'],'media_id':_0x32bcab['id'],'media_type':_0x32bcab[_0x506bfb(0x284)],'title':_0x32bcab[_0x506bfb(0x23b)]||_0x32bcab[_0x506bfb(0x338)],'poster_path':_0x32bcab[_0x506bfb(0x2d6)],'watch_progress':Math[_0x506bfb(0x251)](_0x1b9ef6),'total_duration':Math['floor'](_0x5baff2),'last_watched_at':new Date()[_0x506bfb(0x2af)](),'completed':_0x3dcefa},{'onConflict':_0x506bfb(0x2ad),'returning':_0x506bfb(0x381)});if(_0x254957)throw _0x254957;}catch(_0x1e167f){console[_0x506bfb(0x1f2)](_0x506bfb(0x2c6),_0x1e167f);}}function showAuthenticatedUI(){const _0x2e9a39=_0x44a56d,{'auth-container':_0x323bd2,'main-header':_0x807198,'main-content':_0x472eaa}=domCache['elements'];if(_0x323bd2)_0x323bd2[_0x2e9a39(0x21c)]['display']='none';if(_0x807198)_0x807198[_0x2e9a39(0x21c)][_0x2e9a39(0x330)]=_0x2e9a39(0x29d);if(_0x472eaa)_0x472eaa[_0x2e9a39(0x21c)]['display']=_0x2e9a39(0x2bd);document[_0x2e9a39(0x1dd)](_0x2e9a39(0x340))[_0x2e9a39(0x373)]=currentUser[_0x2e9a39(0x23d)],document[_0x2e9a39(0x1dd)](_0x2e9a39(0x279))[_0x2e9a39(0x373)]=new Date(currentUser[_0x2e9a39(0x33e)])[_0x2e9a39(0x1d8)](),loadSectionContent(_0x2e9a39(0x29a));}function showUnauthenticatedUI(){const _0x4da056=_0x44a56d,{'auth-container':_0xe0a21f,'main-header':_0x392e71,'main-content':_0x874e4a}=domCache[_0x4da056(0x337)];if(_0xe0a21f)_0xe0a21f[_0x4da056(0x21c)][_0x4da056(0x330)]=_0x4da056(0x29d);if(_0x392e71)_0x392e71[_0x4da056(0x21c)][_0x4da056(0x330)]=_0x4da056(0x2d9);if(_0x874e4a)_0x874e4a[_0x4da056(0x21c)][_0x4da056(0x330)]=_0x4da056(0x2d9);}function showHomeSection(){const _0x29dfe9=_0x44a56d;document[_0x29dfe9(0x34b)]('.content-section')[_0x29dfe9(0x1d1)](_0x17db0b=>_0x17db0b['classList'][_0x29dfe9(0x2d8)](_0x29dfe9(0x315))),document['getElementById']('home-section')?.[_0x29dfe9(0x25c)][_0x29dfe9(0x224)](_0x29dfe9(0x315)),document[_0x29dfe9(0x34b)](_0x29dfe9(0x2f8))[_0x29dfe9(0x1d1)](_0x1143b3=>_0x1143b3[_0x29dfe9(0x25c)]['remove']('active')),document[_0x29dfe9(0x387)](_0x29dfe9(0x33c))?.[_0x29dfe9(0x25c)][_0x29dfe9(0x224)]('active');}function loadSectionContent(_0x2af1e6){const _0x172389=_0x44a56d;showLoadingForSection(_0x2af1e6);switch(_0x2af1e6){case _0x172389(0x29a):Promise['all']([loadFeaturedContent(),loadTrending(),loadPopularMovies(),loadPopularTVShows()])['then'](()=>{renderContinueWatching();})[_0x172389(0x2fa)](()=>{const _0xced974=_0x172389;hideLoadingForSection(_0x2af1e6);const _0x471168=document['getElementById'](_0xced974(0x359));_0x471168&&_0x471168[_0xced974(0x25c)]['contains']('active')&&featuredQueue[_0xced974(0x1e6)]>0x0&&startRotation();});break;case _0x172389(0x377):loadMovies(_0x172389(0x339))['finally'](()=>hideLoadingForSection(_0x2af1e6));break;case'tv':loadTVShows(_0x172389(0x339))[_0x172389(0x2fa)](()=>hideLoadingForSection(_0x2af1e6));break;case _0x172389(0x20b):loadBookmarks(),hideLoadingForSection(_0x2af1e6);break;}}function showLoadingForSection(_0x34368e){const _0x58b566=_0x44a56d,_0x29e86d=document[_0x58b566(0x1dd)](_0x34368e+_0x58b566(0x1e2));if(_0x29e86d&&!_0x29e86d[_0x58b566(0x387)]('.loading-indicator')){const _0x522c73=document[_0x58b566(0x1e7)](_0x58b566(0x258));_0x522c73[_0x58b566(0x276)]=_0x58b566(0x28e),_0x522c73[_0x58b566(0x380)]=_0x58b566(0x29b),_0x29e86d[_0x58b566(0x306)](_0x522c73);}}function hideLoadingForSection(_0x325f9d){const _0x4ed1e4=_0x44a56d,_0x4a668b=document[_0x4ed1e4(0x1dd)](_0x325f9d+'-section'),_0x339e0d=_0x4a668b?.[_0x4ed1e4(0x387)]('.loading-indicator');_0x339e0d&&_0x339e0d['remove']();}async function fetchWithTimeout(_0x2c1416,_0x4c244a={},_0x23ef19=0x2710){const _0x43b31d=_0x44a56d,_0x42c5d4=new AbortController(),_0x5cb5f6=setTimeout(()=>_0x42c5d4['abort'](),_0x23ef19);try{const _0x41790a=await fetch(_0x2c1416,{..._0x4c244a,'signal':_0x42c5d4[_0x43b31d(0x348)]});return clearTimeout(_0x5cb5f6),_0x41790a;}catch(_0x1c98e8){clearTimeout(_0x5cb5f6);throw _0x1c98e8;}}async function loadFeaturedContent(){const _0x4a1f75=_0x44a56d;try{const _0x6d1163=await fetchWithTimeout('https://api.themoviedb.org/3/movie/popular?language=en-US&page=1',{'headers':{'Authorization':_0x4a1f75(0x22e)+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x6d1163['ok'])throw new Error('HTTP\x20'+_0x6d1163['status']);const _0x204569=await _0x6d1163[_0x4a1f75(0x1fc)](),_0x12a16f=new Date()['getFullYear'](),_0x779b98=_0x204569[_0x4a1f75(0x35f)]['filter'](_0x2b7338=>{const _0x3b2c86=_0x4a1f75,_0x3b0ae0=_0x2b7338[_0x3b2c86(0x27a)]?parseInt(_0x2b7338[_0x3b2c86(0x27a)][_0x3b2c86(0x24f)]('-')[0x0]):0x0;return _0x2b7338['adult']===![]&&_0x2b7338[_0x3b2c86(0x36e)]>=0x7&&_0x3b0ae0>=0x7e4;});featuredQueue=_0x779b98['slice'](0x0,0x5),featuredQueue[_0x4a1f75(0x1e6)]>0x0&&(featuredIndex=Math['floor'](Math[_0x4a1f75(0x218)]()*featuredQueue[_0x4a1f75(0x1e6)]),featuredMedia=featuredQueue[featuredIndex],updateHeroSection(featuredMedia),featuredQueue[_0x4a1f75(0x1e6)]>=0x2&&startRotation());}catch(_0x3b2daa){console[_0x4a1f75(0x1f2)]('Error\x20loading\x20featured\x20content:',_0x3b2daa);}}function startRotation(){const _0x30ebff=_0x44a56d;if(rotationInterval||featuredQueue[_0x30ebff(0x1e6)]<0x2)return;rotationInterval=setInterval(()=>{rotateFeatured();},0x1388);}function rotateFeatured(){const _0x13b5a7=_0x44a56d;if(featuredQueue[_0x13b5a7(0x1e6)]<0x2)return;const _0x2ccfd8=document['querySelector'](_0x13b5a7(0x384)),_0x1a35b6=document[_0x13b5a7(0x387)](_0x13b5a7(0x24a));if(_0x2ccfd8)_0x2ccfd8[_0x13b5a7(0x21c)][_0x13b5a7(0x320)]='0';if(_0x1a35b6)_0x1a35b6[_0x13b5a7(0x21c)]['opacity']='0';setTimeout(()=>{const _0x2be90b=_0x13b5a7;featuredIndex=(featuredIndex+0x1)%featuredQueue['length'],featuredMedia=featuredQueue[featuredIndex],updateHeroSection(featuredMedia);if(_0x2ccfd8)_0x2ccfd8[_0x2be90b(0x21c)][_0x2be90b(0x320)]='1';if(_0x1a35b6)_0x1a35b6[_0x2be90b(0x21c)][_0x2be90b(0x320)]=_0x2be90b(0x229);},0x320);}function updateHeroSection(_0x1e107e){const _0x24968a=_0x44a56d,_0x5e7fb2=document['querySelector'](_0x24968a(0x24a)),_0x1137dc=document['getElementById'](_0x24968a(0x209)),_0x34a1b0=document[_0x24968a(0x1dd)]('hero-meta'),_0x5a3057=document[_0x24968a(0x1dd)]('hero-description'),_0x4b2bc8=document['getElementById'](_0x24968a(0x2b7)),_0x45431e=document[_0x24968a(0x1dd)](_0x24968a(0x2c4));_0x5e7fb2&&_0x1e107e['backdrop_path']&&(_0x5e7fb2[_0x24968a(0x21c)][_0x24968a(0x345)]='url(https://image.tmdb.org/t/p/original'+_0x1e107e[_0x24968a(0x347)]+')',_0x5e7fb2[_0x24968a(0x21c)][_0x24968a(0x320)]=_0x24968a(0x229));_0x1137dc&&(_0x1137dc[_0x24968a(0x373)]=_0x1e107e[_0x24968a(0x23b)]||_0x1e107e[_0x24968a(0x338)]);if(_0x34a1b0){const _0x3924b0=_0x1e107e['vote_average']?_0x1e107e[_0x24968a(0x36e)][_0x24968a(0x27e)](0x1):_0x24968a(0x30e),_0x5a2869=(_0x1e107e['release_date']||_0x1e107e[_0x24968a(0x33f)]||'')[_0x24968a(0x24f)]('-')[0x0],_0x55f281=_0x1e107e[_0x24968a(0x284)]==='tv'?_0x24968a(0x21e):_0x24968a(0x2d7),_0x5990b6=_0x1e107e[_0x24968a(0x291)]?_0x1e107e[_0x24968a(0x291)][_0x24968a(0x29f)](0x0,0x2)[_0x24968a(0x24c)](_0x51b5a1=>getGenreName(_0x51b5a1))['filter'](Boolean)[_0x24968a(0x1f7)](',\x20'):'Action,\x20Adventure';_0x34a1b0['innerHTML']=_0x24968a(0x1d3)+_0x3924b0+_0x24968a(0x21a)+(_0x5a2869||'N/A')+_0x24968a(0x21a)+(_0x5990b6||_0x55f281)+_0x24968a(0x294);}if(_0x5a3057){const _0x579800=_0x1e107e['overview']||_0x24968a(0x257);_0x5a3057[_0x24968a(0x373)]=_0x579800[_0x24968a(0x1e6)]>0xfa?_0x579800[_0x24968a(0x22a)](0x0,0xfa)+_0x24968a(0x1fb):_0x579800;}_0x4b2bc8&&(_0x4b2bc8[_0x24968a(0x2cf)]=()=>{const _0x11f79f=_0x24968a;openPlayer({..._0x1e107e,'media_type':_0x1e107e[_0x11f79f(0x284)]||_0x11f79f(0x1e8)});});if(_0x45431e&&currentUser){const _0x2018ef=bookmarks['some'](_0x431e97=>_0x431e97['id']===_0x1e107e['id']),_0x4e4b33=_0x45431e[_0x24968a(0x387)]('i'),_0x1d5b63=_0x45431e[_0x24968a(0x387)](_0x24968a(0x2ba));_0x45431e[_0x24968a(0x25c)][_0x24968a(0x224)](_0x24968a(0x263));if(_0x2018ef){_0x4e4b33['className']=_0x24968a(0x2c8),_0x45431e[_0x24968a(0x25c)]['add'](_0x24968a(0x37e));if(_0x1d5b63)_0x1d5b63['textContent']='Remove\x20from\x20List';}else{_0x4e4b33[_0x24968a(0x276)]='far\x20fa-bookmark',_0x45431e[_0x24968a(0x25c)][_0x24968a(0x2d8)]('bookmarked');if(_0x1d5b63)_0x1d5b63['textContent']=_0x24968a(0x1cd);}_0x45431e['onclick']=()=>{toggleBookmark(_0x1e107e,_0x1e107e['media_type']||'movie',_0x45431e);};}else _0x45431e&&_0x45431e['classList']['remove'](_0x24968a(0x263));}function getGenreName(_0x1095d2){const _0x3df2c8=_0x44a56d,_0x2efbcf={0x1c:'Action',0xc:_0x3df2c8(0x27b),0x10:_0x3df2c8(0x206),0x23:'Comedy',0x50:_0x3df2c8(0x2c3),0x63:'Documentary',0x12:_0x3df2c8(0x267),0x29ff:_0x3df2c8(0x365),0xe:'Fantasy',0x24:_0x3df2c8(0x20d),0x1b:'Horror',0x28a2:_0x3df2c8(0x2c7),0x25b0:_0x3df2c8(0x2a0),0x29fd:_0x3df2c8(0x23a),0x36e:_0x3df2c8(0x1d9),0x2a12:_0x3df2c8(0x2a4),0x35:_0x3df2c8(0x20c),0x2a00:_0x3df2c8(0x2e3),0x25:_0x3df2c8(0x35d),0x2a07:'Action',0x2a0d:_0x3df2c8(0x1d9)};return _0x2efbcf[_0x1095d2]||'';}async function loadTrending(){const _0x3af5d6=_0x44a56d;try{const _0x3400f3=await fetchWithTimeout(_0x3af5d6(0x366),{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x3400f3['ok'])throw new Error(_0x3af5d6(0x239)+_0x3400f3['status']);const _0x59825f=await _0x3400f3[_0x3af5d6(0x1fc)]();renderMediaCards(_0x59825f['results'][_0x3af5d6(0x29f)](0x0,0xc),_0x3af5d6(0x36f));}catch(_0x9bad7d){console[_0x3af5d6(0x1f2)](_0x3af5d6(0x204),_0x9bad7d),showNotification(_0x3af5d6(0x2bb),_0x3af5d6(0x1f2));}}async function loadPopularMovies(){const _0x34e5f7=_0x44a56d;try{const _0xa15b82=await fetchWithTimeout('https://api.themoviedb.org/3/movie/popular',{'headers':{'Authorization':_0x34e5f7(0x22e)+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0xa15b82['ok'])throw new Error(_0x34e5f7(0x239)+_0xa15b82['status']);const _0xef7bd3=await _0xa15b82[_0x34e5f7(0x1fc)]();renderMediaCards(_0xef7bd3[_0x34e5f7(0x35f)][_0x34e5f7(0x29f)](0x0,0xc),'popular-movies-grid');}catch(_0x1d4014){console[_0x34e5f7(0x1f2)](_0x34e5f7(0x313),_0x1d4014),showNotification('Error\x20loading\x20popular\x20movies','error');}}async function loadPopularTVShows(){const _0x5c51b8=_0x44a56d;try{const _0x1e7719=await fetchWithTimeout(_0x5c51b8(0x1f4),{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0x5c51b8(0x356)}});if(!_0x1e7719['ok'])throw new Error(_0x5c51b8(0x239)+_0x1e7719[_0x5c51b8(0x1ea)]);const _0x54280e=await _0x1e7719[_0x5c51b8(0x1fc)]();renderMediaCards(_0x54280e[_0x5c51b8(0x35f)][_0x5c51b8(0x29f)](0x0,0xc),'popular-tv-grid');}catch(_0xb8d429){console[_0x5c51b8(0x1f2)](_0x5c51b8(0x37a),_0xb8d429),showNotification(_0x5c51b8(0x27c),_0x5c51b8(0x1f2));}}async function loadMovies(_0xe56e43){const _0x5a7b33=_0x44a56d;try{let _0x395204='https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc';_0xe56e43!==_0x5a7b33(0x339)&&(_0x395204+=_0x5a7b33(0x247)+_0xe56e43);const _0xc93495=await fetchWithTimeout(_0x395204,{'headers':{'Authorization':_0x5a7b33(0x22e)+TMDB_TOKEN,'Content-Type':_0x5a7b33(0x356)}});if(!_0xc93495['ok'])throw new Error('HTTP\x20'+_0xc93495[_0x5a7b33(0x1ea)]);const _0x8b5d00=await _0xc93495['json']();renderMediaCards(_0x8b5d00[_0x5a7b33(0x35f)],'movies-grid');}catch(_0x216b35){console[_0x5a7b33(0x1f2)]('Error\x20loading\x20movies:',_0x216b35),showNotification('Error\x20loading\x20movies','error');}}async function loadTVShows(_0x3ee9dc){const _0xb4819e=_0x44a56d;try{let _0x5382d1=_0xb4819e(0x2e0);_0x3ee9dc!==_0xb4819e(0x339)&&(_0x5382d1+=_0xb4819e(0x247)+_0x3ee9dc);const _0x2899d6=await fetchWithTimeout(_0x5382d1,{'headers':{'Authorization':_0xb4819e(0x22e)+TMDB_TOKEN,'Content-Type':_0xb4819e(0x356)}});if(!_0x2899d6['ok'])throw new Error(_0xb4819e(0x239)+_0x2899d6['status']);const _0x558136=await _0x2899d6['json']();renderMediaCards(_0x558136[_0xb4819e(0x35f)],_0xb4819e(0x318));}catch(_0x323468){console[_0xb4819e(0x1f2)]('Error\x20loading\x20TV\x20shows:',_0x323468),showNotification(_0xb4819e(0x32d),_0xb4819e(0x1f2));}}function renderMediaCards(_0x505d06,_0x5b620f){const _0xabca53=_0x44a56d,_0x27c955=document[_0xabca53(0x1dd)](_0x5b620f);if(!_0x27c955)return;while(_0x27c955[_0xabca53(0x2dc)]){_0x27c955[_0xabca53(0x2de)](_0x27c955[_0xabca53(0x2dc)]);}if(!_0x505d06||_0x505d06[_0xabca53(0x1e6)]===0x0){_0x27c955['innerHTML']=_0xabca53(0x288);return;}const _0xdb65dc=document[_0xabca53(0x231)]();_0x505d06[_0xabca53(0x1d1)]((_0xd565af,_0x9d4148)=>{const _0x3de895=_0xabca53,_0x4b5f88=_0xd565af[_0x3de895(0x284)]||(_0xd565af[_0x3de895(0x33f)]?'tv':_0x3de895(0x1e8)),_0x2dfa57=createMediaCard(_0xd565af,_0x4b5f88,_0x9d4148);_0xdb65dc[_0x3de895(0x306)](_0x2dfa57);}),_0x27c955['appendChild'](_0xdb65dc),setupLazyLoadingForGrid(_0x27c955);}function createMediaCard(_0x812e55,_0x48d356,_0x4517fc){const _0x29077b=_0x44a56d,_0x1a5019=_0x812e55[_0x29077b(0x23b)]||_0x812e55[_0x29077b(0x338)],_0x31f57e=(_0x812e55[_0x29077b(0x27a)]||_0x812e55[_0x29077b(0x33f)]||'')[_0x29077b(0x24f)]('-')[0x0],_0x5653d0=_0x812e55[_0x29077b(0x36e)]?_0x812e55[_0x29077b(0x36e)][_0x29077b(0x27e)](0x1):_0x29077b(0x30e),_0x26759c=bookmarks[_0x29077b(0x357)](_0x4ea837=>_0x4ea837['id']===_0x812e55['id']),_0x21e9bf=document[_0x29077b(0x1e7)](_0x29077b(0x258));_0x21e9bf['className']='media-card\x20hover-glow',_0x21e9bf['style'][_0x29077b(0x2f1)]=_0x4517fc*0x32+'ms',_0x21e9bf['tabIndex']=0x0;const _0x16f024=currentUser?_0x29077b(0x1e1)+(_0x26759c?_0x29077b(0x37e):'')+_0x29077b(0x240)+_0x812e55['id']+_0x29077b(0x2a8)+(_0x26759c?_0x29077b(0x326):_0x29077b(0x1cd))+_0x29077b(0x371)+(_0x26759c?'Remove\x20from\x20bookmarks':_0x29077b(0x25f))+_0x29077b(0x2bc)+(_0x26759c?_0x29077b(0x2ee):_0x29077b(0x32c))+'\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20':'';_0x21e9bf[_0x29077b(0x380)]=_0x29077b(0x302)+_0x16f024+_0x29077b(0x32e)+_0x812e55[_0x29077b(0x2d6)]+_0x29077b(0x264)+_0x1a5019+_0x29077b(0x24e)+_0x1a5019+_0x29077b(0x299)+_0x5653d0+_0x29077b(0x1d0)+_0x31f57e+_0x29077b(0x23c)+(_0x48d356==='tv'?'TV':'Movie')+'</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20';const _0x1f1d08=_0x21e9bf['querySelector']('.play-btn');_0x1f1d08&&_0x1f1d08[_0x29077b(0x273)](_0x29077b(0x36c),_0x17aa65=>{const _0x13be03=_0x29077b;_0x17aa65[_0x13be03(0x36d)](),openPlayer({..._0x812e55,'media_type':_0x48d356});});_0x21e9bf['addEventListener'](_0x29077b(0x36c),debounce(()=>{openPlayer({..._0x812e55,'media_type':_0x48d356});},0x12c)),_0x21e9bf[_0x29077b(0x273)](_0x29077b(0x2b4),_0xe4bc1d=>{const _0x58bd88=_0x29077b;(_0xe4bc1d[_0x58bd88(0x307)]==='Enter'||_0xe4bc1d['key']==='\x20')&&(_0xe4bc1d[_0x58bd88(0x1ed)](),openPlayer({..._0x812e55,'media_type':_0x48d356}));});const _0x51e591=_0x21e9bf[_0x29077b(0x387)](_0x29077b(0x2ae));return _0x51e591&&_0x51e591['addEventListener']('click',_0x3ee177=>{const _0x1e7aef=_0x29077b;_0x3ee177[_0x1e7aef(0x36d)](),animateButton(_0x51e591),toggleBookmark(_0x812e55,_0x48d356,_0x51e591);}),_0x21e9bf;}function setupLazyLoadingForGrid(_0x3d0d9e){const _0x2e7186=_0x44a56d,_0x2515b3=domCache[_0x2e7186(0x2d3)]['get'](_0x2e7186(0x2df));_0x2515b3&&_0x3d0d9e[_0x2e7186(0x34b)](_0x2e7186(0x37b))[_0x2e7186(0x1d1)](_0x279a9f=>{const _0x1404e7=_0x2e7186;_0x2515b3[_0x1404e7(0x2e7)](_0x279a9f);});}function animateButton(_0x5f25eb){const _0x5cc823=_0x44a56d;_0x5f25eb[_0x5cc823(0x21c)][_0x5cc823(0x241)]=_0x5cc823(0x254),setTimeout(()=>{const _0x29a141=_0x5cc823;_0x5f25eb[_0x29a141(0x21c)][_0x29a141(0x241)]=_0x29a141(0x33a);},0x96);}function loadBookmarks(){const _0x319d19=_0x44a56d,_0x28f691=document[_0x319d19(0x1dd)]('mylist-grid');if(!_0x28f691)return;if(bookmarks[_0x319d19(0x1e6)]===0x0){_0x28f691[_0x319d19(0x380)]=_0x319d19(0x308);return;}renderMediaCards(bookmarks,_0x319d19(0x290));}function toggleBookmark(_0xc25174,_0x1928ef,_0x1ca185){const _0x4c4f1a=_0x44a56d;if(!currentUser){showNotification(_0x4c4f1a(0x2b9),_0x4c4f1a(0x1f2));return;}const _0x67b250=bookmarks[_0x4c4f1a(0x1f0)](_0x23ba08=>_0x23ba08['id']===_0xc25174['id']),_0x471680=_0x1ca185['querySelector']('i');_0x67b250>-0x1?(bookmarks[_0x4c4f1a(0x26b)](_0x67b250,0x1),showNotification(_0x4c4f1a(0x212),_0x4c4f1a(0x2ab)),removeBookmarkFromSupabase(_0xc25174['id']),_0x471680&&(_0x471680[_0x4c4f1a(0x276)]=_0x4c4f1a(0x354)),_0x1ca185[_0x4c4f1a(0x25c)][_0x4c4f1a(0x2d8)](_0x4c4f1a(0x37e)),_0x1ca185[_0x4c4f1a(0x23b)]=_0x4c4f1a(0x1cd)):(bookmarks[_0x4c4f1a(0x283)]({..._0xc25174,'media_type':_0x1928ef}),showNotification(_0x4c4f1a(0x1de),_0x4c4f1a(0x2ab)),addBookmarkToSupabase(_0xc25174,_0x1928ef),_0x471680&&(_0x471680[_0x4c4f1a(0x276)]=_0x4c4f1a(0x2c8)),_0x1ca185[_0x4c4f1a(0x25c)][_0x4c4f1a(0x224)]('bookmarked'),_0x1ca185[_0x4c4f1a(0x23b)]=_0x4c4f1a(0x326)),document[_0x4c4f1a(0x1dd)](_0x4c4f1a(0x28f))?.[_0x4c4f1a(0x25c)][_0x4c4f1a(0x2a6)](_0x4c4f1a(0x315))&&loadBookmarks(),featuredMedia&&featuredMedia['id']===_0xc25174['id']&&updateHeroSection(featuredMedia);}async function addBookmarkToSupabase(_0x39ca75,_0x5aea28){const _0x5c6013=_0x44a56d;try{const {error:_0x5a4045}=await supabase['from'](_0x5c6013(0x336))[_0x5c6013(0x261)]({'user_id':currentUser['id'],'media_id':_0x39ca75['id'],'media_type':_0x5aea28,'title':_0x39ca75['title']||_0x39ca75[_0x5c6013(0x338)],'poster_path':_0x39ca75[_0x5c6013(0x2d6)],'vote_average':_0x39ca75[_0x5c6013(0x36e)],'release_date':_0x39ca75[_0x5c6013(0x27a)]||null,'first_air_date':_0x39ca75['first_air_date']||null,'added_at':new Date()[_0x5c6013(0x2af)]()});if(_0x5a4045)throw _0x5a4045;}catch(_0xf28126){console['error']('Error\x20adding\x20bookmark\x20to\x20Supabase:',_0xf28126);}}async function removeBookmarkFromSupabase(_0xfa908f){const _0x1a48ee=_0x44a56d;try{const {error:_0x575fa0}=await supabase[_0x1a48ee(0x23e)](_0x1a48ee(0x336))[_0x1a48ee(0x363)]()['eq']('user_id',currentUser['id'])['eq']('media_id',_0xfa908f);if(_0x575fa0)throw _0x575fa0;}catch(_0x30844c){console['error'](_0x1a48ee(0x270),_0x30844c);}}async function performSearch(_0x46136e){const _0x4d9baa=_0x44a56d;if(!_0x46136e[_0x4d9baa(0x211)]()){showHomeSection();return;}try{showLoadingForSection(_0x4d9baa(0x2be));const _0x362681=await fetchWithTimeout(_0x4d9baa(0x271)+encodeURIComponent(_0x46136e),{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0x4d9baa(0x356)}});if(!_0x362681['ok'])throw new Error('HTTP\x20'+_0x362681[_0x4d9baa(0x1ea)]);const _0x1ce078=await _0x362681['json'](),_0x355eba=_0x1ce078[_0x4d9baa(0x35f)][_0x4d9baa(0x314)](_0x538524=>!_0x538524[_0x4d9baa(0x358)]&&(_0x538524[_0x4d9baa(0x284)]===_0x4d9baa(0x1e8)||_0x538524[_0x4d9baa(0x284)]==='tv')&&_0x538524[_0x4d9baa(0x2d6)]);currentUser&&recordSearchHistory(_0x46136e),document[_0x4d9baa(0x34b)](_0x4d9baa(0x31d))[_0x4d9baa(0x1d1)](_0x478094=>_0x478094[_0x4d9baa(0x25c)][_0x4d9baa(0x2d8)](_0x4d9baa(0x315))),document[_0x4d9baa(0x1dd)](_0x4d9baa(0x253))?.[_0x4d9baa(0x25c)][_0x4d9baa(0x224)](_0x4d9baa(0x315)),renderMediaCards(_0x355eba,_0x4d9baa(0x1d5)),setTimeout(()=>{const _0x2408c7=_0x4d9baa,_0x126949=document[_0x2408c7(0x1dd)](_0x2408c7(0x253));if(_0x126949){const _0x25923c=document['querySelector'](_0x2408c7(0x2ec))?.['offsetHeight']||0x50,_0x12e3e6=_0x126949[_0x2408c7(0x22f)]-_0x25923c-0x14;window['scrollTo']({'top':_0x12e3e6,'behavior':'smooth'});}},0x64);}catch(_0x24aba8){console['error']('Error\x20searching:',_0x24aba8),showNotification(_0x4d9baa(0x25a),_0x4d9baa(0x1f2));}finally{hideLoadingForSection(_0x4d9baa(0x2be));}}async function recordSearchHistory(_0x54057c){const _0x2b6db0=_0x44a56d;try{const {error:_0x44240e}=await supabase['from'](_0x2b6db0(0x312))[_0x2b6db0(0x261)]({'user_id':currentUser['id'],'query':_0x54057c,'searched_at':new Date()[_0x2b6db0(0x2af)]()});if(_0x44240e)throw _0x44240e;}catch(_0x303da9){console[_0x2b6db0(0x1f2)](_0x2b6db0(0x2fb),_0x303da9);}}async function recordWatchHistory(_0x4f3f27,_0x53d580=null,_0x7214a9=null,_0x48fb21=0x0){const _0x108706=_0x44a56d;try{const {error:_0x3cc8a3}=await supabase[_0x108706(0x23e)](_0x108706(0x32f))['insert']({'user_id':currentUser['id'],'media_id':_0x4f3f27['id'],'media_type':_0x4f3f27[_0x108706(0x284)],'title':_0x4f3f27[_0x108706(0x23b)]||_0x4f3f27[_0x108706(0x338)],'season':_0x53d580,'episode':_0x7214a9,'duration':_0x48fb21,'watched_at':new Date()[_0x108706(0x2af)]()});if(_0x3cc8a3)throw _0x3cc8a3;}catch(_0x604af2){console[_0x108706(0x1f2)](_0x108706(0x31e),_0x604af2);}}function openPlayer(_0x2e7b8e){const _0x4af97a=_0x44a56d;if(!currentUser){showNotification(_0x4af97a(0x1f8),_0x4af97a(0x1f2));return;}currentMediaType=_0x2e7b8e[_0x4af97a(0x284)],currentMediaId=_0x2e7b8e['id'],currentMediaTitle=_0x2e7b8e[_0x4af97a(0x23b)]||_0x2e7b8e[_0x4af97a(0x338)],currentMediaData=_0x2e7b8e,document[_0x4af97a(0x1dd)](_0x4af97a(0x1eb))[_0x4af97a(0x373)]=currentMediaTitle,document['getElementById']('player-description')[_0x4af97a(0x373)]=_0x2e7b8e[_0x4af97a(0x208)]||'No\x20description\x20available';const _0x4cc41b=document[_0x4af97a(0x1dd)](_0x4af97a(0x266)),_0x4a9521=document[_0x4af97a(0x1dd)]('player-year'),_0x2cf728=document[_0x4af97a(0x1dd)]('player-type');_0x4cc41b&&(_0x4cc41b[_0x4af97a(0x373)]=_0x2e7b8e['vote_average']?_0x2e7b8e[_0x4af97a(0x36e)]['toFixed'](0x1):_0x4af97a(0x30e));if(_0x4a9521){const _0x3acb96=(_0x2e7b8e[_0x4af97a(0x27a)]||_0x2e7b8e[_0x4af97a(0x33f)]||'')['split']('-')[0x0];_0x4a9521['textContent']=_0x3acb96||_0x4af97a(0x30e);}_0x2cf728&&(_0x2cf728[_0x4af97a(0x373)]=currentMediaType==='tv'?_0x4af97a(0x21e):_0x4af97a(0x2d7));const _0xf9e90b=document['getElementById'](_0x4af97a(0x248));_0xf9e90b&&(_0xf9e90b[_0x4af97a(0x21c)][_0x4af97a(0x330)]=currentMediaType==='tv'?_0x4af97a(0x29d):_0x4af97a(0x2d9));currentMediaType==='tv'&&(currentSeason=0x1,currentEpisode=0x1,loadSeasons(currentMediaId));buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date();if(playerInterval)clearInterval(playerInterval);playerInterval=setInterval(()=>{trackPlayerProgress();},0x7530);const _0x165bd4=domCache[_0x4af97a(0x337)][_0x4af97a(0x205)];_0x165bd4&&(_0x165bd4[_0x4af97a(0x25c)][_0x4af97a(0x224)](_0x4af97a(0x315)),setTimeout(()=>{const _0x1daa5c=_0x4af97a;_0x165bd4[_0x1daa5c(0x25c)][_0x1daa5c(0x224)](_0x1daa5c(0x323));},0x32));}function trackPlayerProgress(){const _0x436f18=_0x44a56d;if(!currentUser||!currentMediaData)return;const _0x5ecceb=domCache[_0x436f18(0x337)]['video-frame'];if(!_0x5ecceb||!_0x5ecceb['src'])return;const _0x43197d=watchStartTime?(new Date()-watchStartTime)/0x3e8:0x0,_0x46e0c4=currentMediaType===_0x436f18(0x1e8)?0x1c20:0xa8c;_0x43197d>0x3c&&updateWatchProgress(currentMediaData,_0x43197d,_0x46e0c4);}function _0x2261(){const _0x463ddb=['https://api.themoviedb.org/3/discover/tv?sort_by=popularity.desc','Subscription\x20expired','DELETE','War','https://player.videasy.net/movie/','includes','signOut','observe','payment-close','message','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22Remove\x20from\x20Continue\x20Watching\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22Remove\x20from\x20continue\x20watching\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20data-src=\x22https://image.tmdb.org/t/p/w500','select','.main-header','randomUUID','fas','.content-section.active','.episode-card','animationDelay','open-payment-from-home','allowed_users','DOMContentLoaded','player-overlay','pay-now-btn','https://chromewebstore.google.com/detail/bkkbcggnhapdmkeljlodobbkopceiche?utm_source=item-share-cb','.nav-link','Retrying\x20','finally','Error\x20recording\x20search\x20history:','close-extension-popup','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-number\x22>','upsert','Source\x201','Signing\x20In...','mouseleave','\x0a\x20\x20\x20\x20<div\x20class=\x22card-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20','active_sessions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','runtime','appendChild','key','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22no-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20items\x20in\x20your\x20list\x20yet.\x20Add\x20some\x20movies\x20or\x20TV\x20shows!</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','order','pending','_blank','tv-section','payment-modal','N/A','Your\x20subscription\x20has\x20expired.\x20Please\x20renew.','is_active','video-frame','user_search_history','Error\x20loading\x20popular\x20movies:','filter','active','Error\x20initializing\x20application','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-title\x22>','tv-grid','getFullYear','\x20day','selected','genre','.content-section','Error\x20recording\x20watch\x20history:','progress_percentage','opacity','continue-watching-grid','logout-link','opened','expiry_date','unobserve','Remove\x20from\x20List','Error\x20checking\x20active_sessions:','show-signin','type','auth','subscription-status\x20active','far','Error\x20loading\x20TV\x20shows','\x0a\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20data-src=\x22https://image.tmdb.org/t/p/w500','user_watch_history','display','contentWindow','.video-loading','not_found','round','PGRST116','user_bookmarks','elements','name','all','scale(1)','toggle','[data-section=\x22home\x22]','unsubscribe','created_at','first_air_date','account-email','fa-exclamation-triangle','season_number','target','not_approved','backgroundImage','last_watched_at','backdrop_path','signal','movies-grid','change','querySelectorAll','then','auth-container','load','hero-section','fa-exclamation-circle','Creating\x20Account...','\x0a\x20\x20\x20\x20<i\x20class=\x22notification-icon\x20fas\x20','disabled','far\x20fa-bookmark','old','application/json;charset=utf-8','some','adult','home-section','Please\x20enter\x20a\x20transaction\x20ID','https://vidjoy.pro/embed/tv/','subscribe','Western','air_date','results','closest','hidden','onerror','delete','4563261DMRyss','Family','https://api.themoviedb.org/3/trending/all/week','Sign-in\x20did\x20not\x20return\x20a\x20user\x20object.','Source\x202','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22payment-required-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22payment-required-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22payment-required-icon\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Subscription\x20Required</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22payment-required-description\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20To\x20access\x20our\x20complete\x20library\x20of\x20movies\x20and\x20TV\x20shows,\x20please\x20complete\x20your\x20subscription\x20payment.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20You\x27ll\x20get\x20unlimited\x20access\x20to\x20all\x20content\x20for\x20just\x20₹50/month.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22payment-required-features\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22feature-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Unlimited\x20streaming</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22feature-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-film\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Thousands\x20of\x20movies\x20&\x20shows</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22feature-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ban\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>No\x20ads,\x20no\x20waiting</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22feature-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Personal\x20watchlist</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn-payment-required\x22\x20id=\x22open-payment-from-home\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-credit-card\x22></i>\x20Complete\x20Payment\x20-\x20₹50/month\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22payment-help-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Already\x20paid?\x20Submit\x20your\x20transaction\x20ID\x20in\x20the\x20payment\x20modal.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Please\x20log\x20in\x20first','continue-watching-row','click','stopPropagation','vote_average','trending-grid','beforeunload','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22','.player-video-section','textContent','IntersectionObserver','186264ttZycD','session_flag','movies','scrolled','extension-popup','Error\x20loading\x20popular\x20TV\x20shows:','img.lazy','.notification-close','class','bookmarked','8zMSQXM','innerHTML','minimal','</span>\x0a\x20\x20\x20\x20<button\x20class=\x22notification-close\x22\x20aria-label=\x22Close\x20notification\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20','source-buttons','.hero-content','30MvRrzB','2354995zaGlUz','querySelector','device_id','body','Source\x203','Add\x20to\x20List','Payment\x20Required','\x20remaining','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','forEach','url','\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22hero-rating\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20','1515955vZAfaF','search-grid','expired','signup-password','toLocaleDateString','Sci-Fi','Application\x20failed\x20to\x20load.\x20Please\x20refresh.','6358710NgEnrp','Unexpected\x20error\x20during\x20password\x20reset','getElementById','Added\x20to\x20your\x20list','resetPasswordForEmail','user_id','\x0a\x20\x20\x20\x20<button\x20class=\x22bookmark-btn\x20','-section','.payment-overlay','episode_number','dataset','length','createElement','movie','273DtXdVC','status','player-title','session-channel-','preventDefault','signInWithPassword','alert','findIndex','Error\x20submitting\x20transaction:','error','1574pwPBvf','https://api.themoviedb.org/3/tv/popular','reset-form','signup-email','join','Please\x20log\x20in\x20to\x20stream\x20content','total_duration','1788VLgjyH','...','json','overflow','signin-form','media-card\x20continue-watching-card\x20hover-glow','watch_progress','event','https://vidjoy.pro/embed/movie/','supabase','Error\x20loading\x20trending:','player-modal','Animation','heartbeat\x20error','overview','hero-title','setAttribute','mylist','Thriller','History','Error\x20loading\x20seasons:','ceil','referrerpolicy','trim','Removed\x20from\x20your\x20list','install-extension-btn','<i\x20class=\x22fas\x20fa-check\x22></i>\x20Submit','Error\x20loading\x20episodes','Password\x20must\x20be\x20at\x20least\x206\x20characters','transaction-id-input','random','100px\x200px','</span>\x0a\x20\x20\x20\x20\x20\x20<span>','user','style','origin','TV\x20Show','limit','51865066pFwUvm','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Submitting...','attributeName','source-btn\x20hover-glow','add','section','Failed\x20to\x20submit\x20transaction\x20ID.\x20Please\x20try\x20again.','no-referrer-when-downgrade','https://111movies.com/tv/','0.3','substring','m\x20•\x20','eventType','episode-card\x20hover-glow\x20','Bearer\x20','offsetTop','.play-btn','createDocumentFragment','code','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22card-info\x22>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22card-title\x22>','approved','Unexpected\x20error\x20during\x20signin','.remove-continue-btn','onload','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22video-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20<p>Loading\x20video\x20source...</p>\x0a\x20\x20\x20\x20','HTTP\x20','Romance','title','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','email','from','button','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22','transform','<p\x20class=\x27no-episodes\x27>No\x20episodes\x20available</p>','src','https://player.videasy.net/tv/','option','Transaction\x20ID\x20submitted\x20successfully!\x20We\x27ll\x20verify\x20your\x20payment\x20soon.','&with_genres=','tv-controls','single','.hero-backdrop','subscription-status\x20expired','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20class=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20loading=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27https://via.placeholder.com/500x750?text=No+Image\x27\x22\x0a\x20\x20\x20\x20\x20\x20>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-overlay\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22play-btn\x20hover-glow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22card-info\x22>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22card-title\x22>','split','expiryDate','floor','Removed\x20from\x20Continue\x20Watching','search-section','scale(0.9)','signin-email','scroll','No\x20description\x20available','div','main-search-input','Error\x20performing\x20search','subscription-status-text','classList','getUser','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20class=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20loading=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27https://via.placeholder.com/500x750?text=No+Image\x27\x22\x0a\x20\x20\x20\x20\x20\x20>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-overlay\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22play-btn\x20hover-glow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','Add\x20to\x20bookmarks','main-content','insert','Sending\x20Reset\x20Link...','show','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','input','player-rating-value','Drama','does\x20not\x20exist','TBA','...\x20(','splice','media_id','__TMDB_TOKEN__','isIntersecting','warn','Error\x20removing\x20bookmark\x20from\x20Supabase:','https://api.themoviedb.org/3/search/multi?query=','min','addEventListener','set','toUpperCase','className','NekoFlix','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','account-member-since','release_date','Adventure','Error\x20loading\x20popular\x20TV\x20shows','public','toFixed','parentNode','warning','account-close','.source-btn','push','media_type','Unexpected\x20error\x20checking\x20allowed\x20users:','Passwords\x20do\x20not\x20match','endSessionForUser\x20error','<p\x20class=\x27no-content\x27>No\x20content\x20available</p>','Failed\x20to\x20load\x20bookmarks.\x20Table\x20may\x20need\x20to\x20be\x20created.','back-signin','season-select','Error\x20loading\x20seasons','notification\x20','loading-indicator','mylist-section','mylist-grid','genre_ids','postgres_changes','account-modal','</span>\x0a\x20\x20\x20\x20','movies-section','slide-in-right','player-close','.genre-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22card-rating\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','home','<div\x20class=\x22spinner\x22></div><p>Loading\x20content...</p>','now','flex','notification-container','slice','Mystery','log','episodes-list','continue_watching','TV\x20Movie','fade-out','contains','Sign\x20up\x20successful!\x20Please\x20check\x20your\x20email\x20to\x20confirm\x20your\x20account.','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22','Season\x20','about:blank','success','gte','user_id,media_id','.bookmark-btn','toISOString','toString','role','scrollY','Escape','keypress','user_id=eq.','#open-payment-modal,\x20#subscribe-link,\x20#pay-now-btn','hero-watch-btn','Error\x20loading\x20bookmarks:','Please\x20log\x20in\x20to\x20manage\x20your\x20list','span','Error\x20loading\x20trending\x20content','\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22','block','search','added_at','mouseenter','show-reset','signup-form','Crime','hero-bookmark-btn-new','https://111movies.com/movie/','Error\x20updating\x20watch\x20progress:','Music','fas\x20fa-bookmark','__SUPABASE_ANON_KEY__','channel','value','main-header','createClient','</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','onclick','Reset\x20link\x20sent\x20to\x20your\x20email!','keydown','Error\x20signing\x20out','observers','submit','episodes','poster_path','Movie','remove','none','handleSessionChange\x20error','button[type=\x22submit\x22]','firstChild','fa-check-circle','removeChild','images'];_0x2261=function(){return _0x463ddb;};return _0x2261();}function closePlayer(){const _0x2e966f=_0x44a56d;if(watchStartTime&&currentUser&&currentMediaData){const _0x4cb7d0=new Date(),_0x6d8b3=(_0x4cb7d0-watchStartTime)/0x3e8;if(_0x6d8b3>0x1e){const _0x38e69b={'id':currentMediaId,'media_type':currentMediaType,'title':currentMediaTitle};recordWatchHistory(_0x38e69b,currentMediaType==='tv'?currentSeason:null,currentMediaType==='tv'?currentEpisode:null,_0x6d8b3);const _0xc63d56=currentMediaType===_0x2e966f(0x1e8)?0x1c20:0xa8c;updateWatchProgress(currentMediaData,_0x6d8b3,_0xc63d56);}}cleanupPlayer();const _0x8bc5f5=domCache[_0x2e966f(0x337)][_0x2e966f(0x205)];_0x8bc5f5&&(_0x8bc5f5[_0x2e966f(0x25c)][_0x2e966f(0x2d8)](_0x2e966f(0x323)),setTimeout(()=>{const _0x5f2d12=_0x2e966f;_0x8bc5f5[_0x5f2d12(0x25c)][_0x5f2d12(0x2d8)](_0x5f2d12(0x315)),document[_0x5f2d12(0x389)][_0x5f2d12(0x21c)]['overflow']='';},0x12c)),document[_0x2e966f(0x1dd)](_0x2e966f(0x359))?.[_0x2e966f(0x25c)]['contains']('active')&&loadContinueWatching()[_0x2e966f(0x34c)](()=>renderContinueWatching());}function cleanupPlayer(){const _0x5d47df=_0x44a56d;playerInterval&&(clearInterval(playerInterval),playerInterval=null);const _0x3ac85d=domCache[_0x5d47df(0x337)][_0x5d47df(0x311)];_0x3ac85d&&(_0x3ac85d[_0x5d47df(0x243)]=_0x5d47df(0x2aa)),currentMediaType==='tv'&&(currentSeason=0x1,currentEpisode=0x1),watchStartTime=null;}function buildEmbedSources(){const _0x29ee44=_0x44a56d;if(currentMediaType===_0x29ee44(0x1e8))embedSources=[{'name':_0x29ee44(0x2ff),'url':_0x29ee44(0x2c5)+currentMediaId},{'name':_0x29ee44(0x368),'url':_0x29ee44(0x202)+currentMediaId},{'name':'Source\x203','url':_0x29ee44(0x2e4)+currentMediaId}];else currentMediaType==='tv'&&(embedSources=[{'name':_0x29ee44(0x2ff),'url':_0x29ee44(0x228)+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':'Source\x202','url':_0x29ee44(0x35b)+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':_0x29ee44(0x38a),'url':_0x29ee44(0x244)+currentMediaId+'/'+currentSeason+'/'+currentEpisode}]);}function populateSourceButtons(){const _0x262a0e=_0x44a56d,_0x26a6d4=document[_0x262a0e(0x1dd)](_0x262a0e(0x383));if(!_0x26a6d4)return;_0x26a6d4['innerHTML']='',embedSources[_0x262a0e(0x1d1)]((_0x1b48d7,_0x127b5c)=>{const _0xb169ea=_0x262a0e,_0x1da4dc=document[_0xb169ea(0x1e7)]('button');_0x1da4dc['className']=_0xb169ea(0x223);if(_0x127b5c===0x0)_0x1da4dc[_0xb169ea(0x25c)]['add'](_0xb169ea(0x315));_0x1da4dc[_0xb169ea(0x373)]=_0x1b48d7[_0xb169ea(0x338)],_0x1da4dc['style'][_0xb169ea(0x2f1)]=_0x127b5c*0x64+'ms',_0x1da4dc['addEventListener'](_0xb169ea(0x36c),debounce(()=>{const _0x233698=_0xb169ea;document[_0x233698(0x34b)](_0x233698(0x282))['forEach'](_0x117ae5=>_0x117ae5[_0x233698(0x25c)][_0x233698(0x2d8)](_0x233698(0x315))),_0x1da4dc['classList']['add'](_0x233698(0x315)),loadSource(_0x127b5c);},0xc8)),_0x26a6d4['appendChild'](_0x1da4dc);});}function loadSource(_0x5d1a09){const _0x52ca52=_0x44a56d;if(_0x5d1a09<0x0||_0x5d1a09>=embedSources[_0x52ca52(0x1e6)])return;const _0xb26509=embedSources[_0x5d1a09],_0x2ad5a0=domCache[_0x52ca52(0x337)][_0x52ca52(0x311)];if(!_0x2ad5a0)return;_0x2ad5a0[_0x52ca52(0x20a)]('allow','autoplay;\x20fullscreen;\x20encrypted-media;\x20picture-in-picture'),_0x2ad5a0['setAttribute'](_0x52ca52(0x210),_0x52ca52(0x227)),showVideoLoadingState();let _0x21761d=0x0;const _0x46f806=0x2;function _0x16f30d(){const _0x3c672d=_0x52ca52;_0x2ad5a0[_0x3c672d(0x362)]=()=>{const _0x3cc7c1=_0x3c672d;_0x21761d++,_0x21761d<=_0x46f806?(showNotification(_0x3cc7c1(0x2f9)+_0xb26509[_0x3cc7c1(0x338)]+_0x3cc7c1(0x26a)+_0x21761d+'/'+_0x46f806+')',_0x3cc7c1(0x280)),setTimeout(_0x16f30d,0x3e8*_0x21761d)):handleSourceFailure(_0x5d1a09);},_0x2ad5a0[_0x3c672d(0x237)]=()=>{hideVideoLoadingState();},_0x2ad5a0[_0x3c672d(0x243)]=_0xb26509[_0x3c672d(0x1d2)]+(_0xb26509['url'][_0x3c672d(0x2e5)]('?')?'&':'?')+'t='+Date[_0x3c672d(0x29c)]();}const _0x3b6826=setTimeout(()=>{const _0x57667b=_0x52ca52;_0x2ad5a0[_0x57667b(0x243)]&&!_0x2ad5a0[_0x57667b(0x331)]?.[_0x57667b(0x1e6)]&&handleSourceFailure(_0x5d1a09);},0x2710);_0x2ad5a0[_0x52ca52(0x273)](_0x52ca52(0x34e),()=>clearTimeout(_0x3b6826),{'once':!![]}),_0x16f30d();}function handleSourceFailure(_0x55ac01){const _0x1ebbed=_0x44a56d;hideVideoLoadingState();const _0x1d4d3f=(_0x55ac01+0x1)%embedSources[_0x1ebbed(0x1e6)];_0x1d4d3f!==_0x55ac01?(showNotification('Trying\x20'+embedSources[_0x1d4d3f][_0x1ebbed(0x338)]+_0x1ebbed(0x1fb),'warning'),setTimeout(()=>loadSource(_0x1d4d3f),0x3e8)):showNotification('All\x20sources\x20failed.\x20Please\x20try\x20again\x20later.','error');}function showVideoLoadingState(){const _0x4026c1=_0x44a56d,_0x3511f5=document['querySelector'](_0x4026c1(0x372));if(_0x3511f5&&!_0x3511f5[_0x4026c1(0x387)](_0x4026c1(0x332))){const _0x484616=document[_0x4026c1(0x1e7)](_0x4026c1(0x258));_0x484616[_0x4026c1(0x276)]='video-loading',_0x484616[_0x4026c1(0x380)]=_0x4026c1(0x238),_0x3511f5['appendChild'](_0x484616);}}function hideVideoLoadingState(){const _0x3e77d9=_0x44a56d,_0x2317d0=document[_0x3e77d9(0x387)]('.video-loading');_0x2317d0&&_0x2317d0['remove']();}async function loadSeasons(_0xaf03d7){const _0xe6f4d0=_0x44a56d;try{const _0x1effce=await fetchWithTimeout('https://api.themoviedb.org/3/tv/'+_0xaf03d7,{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0xe6f4d0(0x356)}});if(!_0x1effce['ok'])throw new Error(_0xe6f4d0(0x239)+_0x1effce['status']);const _0x249e3b=await _0x1effce[_0xe6f4d0(0x1fc)](),_0x2640d1=_0x249e3b['seasons'][_0xe6f4d0(0x314)](_0x909c10=>_0x909c10[_0xe6f4d0(0x342)]>0x0),_0x1590d8=document[_0xe6f4d0(0x1dd)](_0xe6f4d0(0x28b));if(!_0x1590d8)return;_0x1590d8[_0xe6f4d0(0x380)]='',_0x2640d1[_0xe6f4d0(0x1d1)](_0x280fa1=>{const _0x4465a0=_0xe6f4d0,_0x3339ca=document[_0x4465a0(0x1e7)](_0x4465a0(0x245));_0x3339ca[_0x4465a0(0x2cb)]=_0x280fa1[_0x4465a0(0x342)],_0x3339ca[_0x4465a0(0x373)]=_0x4465a0(0x2a9)+_0x280fa1[_0x4465a0(0x342)],_0x280fa1[_0x4465a0(0x342)]===currentSeason&&(_0x3339ca[_0x4465a0(0x31b)]=!![]),_0x1590d8[_0x4465a0(0x306)](_0x3339ca);}),_0x1590d8[_0xe6f4d0(0x273)](_0xe6f4d0(0x34a),debounce(_0x2f19eb=>{const _0x5e8817=_0xe6f4d0;currentSeason=parseInt(_0x2f19eb['target'][_0x5e8817(0x2cb)]),currentEpisode=0x1,reloadTVContent();},0x12c)),await loadEpisodes(_0xaf03d7,currentSeason);}catch(_0x279656){console[_0xe6f4d0(0x1f2)](_0xe6f4d0(0x20e),_0x279656),showNotification(_0xe6f4d0(0x28c),_0xe6f4d0(0x1f2));}}async function loadEpisodes(_0x275ff9,_0x297b2e){const _0x180186=_0x44a56d;try{const _0x4dc2ed=await fetchWithTimeout('https://api.themoviedb.org/3/tv/'+_0x275ff9+'/season/'+_0x297b2e,{'headers':{'Authorization':_0x180186(0x22e)+TMDB_TOKEN,'Content-Type':_0x180186(0x356)}});if(!_0x4dc2ed['ok'])throw new Error('HTTP\x20'+_0x4dc2ed[_0x180186(0x1ea)]);const _0xf94f31=await _0x4dc2ed[_0x180186(0x1fc)]();renderEpisodeCards(_0xf94f31[_0x180186(0x2d5)]);}catch(_0x404d08){console[_0x180186(0x1f2)]('Error\x20loading\x20episodes:',_0x404d08),showNotification(_0x180186(0x215),_0x180186(0x1f2));}}function renderEpisodeCards(_0x91dcc0){const _0x2a5308=_0x44a56d,_0x45e4b7=document[_0x2a5308(0x1dd)](_0x2a5308(0x2a2));if(!_0x45e4b7)return;_0x45e4b7[_0x2a5308(0x380)]='';if(!_0x91dcc0||_0x91dcc0[_0x2a5308(0x1e6)]===0x0){_0x45e4b7[_0x2a5308(0x380)]=_0x2a5308(0x242);return;}const _0x1aab9f=document['createDocumentFragment']();_0x91dcc0[_0x2a5308(0x1d1)]((_0x501369,_0x4d6758)=>{const _0xcee20e=_0x2a5308,_0x576052=document[_0xcee20e(0x1e7)](_0xcee20e(0x258));_0x576052['className']=_0xcee20e(0x22d)+(_0x501369['episode_number']===currentEpisode?_0xcee20e(0x315):''),_0x576052[_0xcee20e(0x21c)][_0xcee20e(0x2f1)]=_0x4d6758*0x32+'ms',_0x576052['innerHTML']=_0xcee20e(0x2fd)+_0x501369['episode_number']+_0xcee20e(0x317)+(_0x501369['name']||'Episode\x20'+_0x501369[_0xcee20e(0x1e4)])+_0xcee20e(0x278)+(_0x501369[_0xcee20e(0x305)]?_0x501369[_0xcee20e(0x305)]+_0xcee20e(0x22b):'')+_0xcee20e(0x304)+(_0x501369[_0xcee20e(0x35e)]?new Date(_0x501369['air_date'])[_0xcee20e(0x319)]():_0xcee20e(0x269))+_0xcee20e(0x24d),_0x576052[_0xcee20e(0x273)](_0xcee20e(0x36c),debounce(()=>{const _0x4e12a0=_0xcee20e;document[_0x4e12a0(0x34b)](_0x4e12a0(0x2f0))[_0x4e12a0(0x1d1)](_0x4511ab=>_0x4511ab[_0x4e12a0(0x25c)][_0x4e12a0(0x2d8)]('active')),_0x576052[_0x4e12a0(0x25c)]['add'](_0x4e12a0(0x315)),currentEpisode=_0x501369['episode_number'],reloadTVContent();},0x12c)),_0x1aab9f[_0xcee20e(0x306)](_0x576052);}),_0x45e4b7[_0x2a5308(0x306)](_0x1aab9f);}function reloadTVContent(){showVideoLoadingState(),buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date();}function showNotification(_0x312c0b,_0x26921c=_0x44a56d(0x2ab)){const _0x719528=_0x44a56d,_0xa121f0=document[_0x719528(0x1dd)](_0x719528(0x29e));if(!_0xa121f0)return;const _0x595c9a=document[_0x719528(0x1e7)](_0x719528(0x258));_0x595c9a[_0x719528(0x276)]=_0x719528(0x28d)+_0x26921c+'\x20slide-in-right',_0x595c9a[_0x719528(0x20a)](_0x719528(0x2b1),_0x719528(0x1ef)),_0x595c9a['innerHTML']=_0x719528(0x352)+(_0x26921c===_0x719528(0x2ab)?_0x719528(0x2dd):_0x26921c===_0x719528(0x1f2)?_0x719528(0x350):_0x719528(0x341))+'\x22></i>\x0a\x20\x20\x20\x20<span>'+_0x312c0b+_0x719528(0x382),_0xa121f0[_0x719528(0x306)](_0x595c9a),setTimeout(()=>_0x595c9a[_0x719528(0x25c)][_0x719528(0x224)](_0x719528(0x263)),0x64);const _0xc65579=setTimeout(()=>{removeNotification(_0x595c9a);},0x1388),_0x2de910=_0x595c9a[_0x719528(0x387)](_0x719528(0x37c));_0x2de910[_0x719528(0x273)](_0x719528(0x36c),()=>{clearTimeout(_0xc65579),removeNotification(_0x595c9a);}),_0x595c9a[_0x719528(0x273)](_0x719528(0x36c),_0x43d676=>{const _0x51ea1d=_0x719528;(_0x43d676[_0x51ea1d(0x343)]===_0x595c9a||_0x43d676[_0x51ea1d(0x343)][_0x51ea1d(0x360)]('.notification-close'))&&(clearTimeout(_0xc65579),removeNotification(_0x595c9a));});}function removeNotification(_0x1d531b){const _0x257b66=_0x44a56d;_0x1d531b['classList'][_0x257b66(0x224)](_0x257b66(0x2a5)),setTimeout(()=>{const _0x338acb=_0x257b66;_0x1d531b[_0x338acb(0x27f)]&&_0x1d531b[_0x338acb(0x2d8)]();},0x12c);}document[_0x44a56d(0x273)](_0x44a56d(0x2d1),_0x5792ba=>{const _0x9badba=_0x44a56d;if(!isPlayerOpen)return;switch(_0x5792ba[_0x9badba(0x307)]){case'Escape':closePlayer();break;}});let scrollTimeout;window['addEventListener'](_0x44a56d(0x256),()=>{!scrollTimeout&&(scrollTimeout=setTimeout(()=>{const _0xe9a3b6=_0x2189,_0xa320a0=domCache[_0xe9a3b6(0x337)][_0xe9a3b6(0x2cc)];_0xa320a0&&_0xa320a0[_0xe9a3b6(0x25c)][_0xe9a3b6(0x33b)](_0xe9a3b6(0x378),window[_0xe9a3b6(0x2b2)]>0x32),scrollTimeout=null;},0xa));}),window[_0x44a56d(0x273)](_0x44a56d(0x370),()=>{const _0x4a61d1=_0x44a56d;if(playerInterval)clearInterval(playerInterval);if(scrollTimeout)clearTimeout(scrollTimeout);if(searchDebounce)clearTimeout(searchDebounce);domCache['observers'][_0x4a61d1(0x1d1)](_0x5705f5=>_0x5705f5['disconnect']());}),window[_0x44a56d(0x277)]={'closePlayer':closePlayer,'showNotification':showNotification,'toggleBookmark':(_0x84c639,_0x36d2fb)=>{const _0x192b72=_0x44a56d,_0x394b7a=document[_0x192b72(0x1e7)](_0x192b72(0x23f));toggleBookmark(_0x84c639,_0x36d2fb,_0x394b7a);}};