const _0x3897bf=_0x3550;(function(_0x4ad5ce,_0x3d4cc8){const _0x433b29=_0x3550,_0x592f0a=_0x4ad5ce();while(!![]){try{const _0x2fc57c=-parseInt(_0x433b29(0x184))/0x1+-parseInt(_0x433b29(0x214))/0x2*(parseInt(_0x433b29(0x217))/0x3)+parseInt(_0x433b29(0x1f6))/0x4+-parseInt(_0x433b29(0x188))/0x5*(-parseInt(_0x433b29(0x1cc))/0x6)+parseInt(_0x433b29(0x1ea))/0x7*(-parseInt(_0x433b29(0x246))/0x8)+parseInt(_0x433b29(0x1c7))/0x9+-parseInt(_0x433b29(0x17f))/0xa*(-parseInt(_0x433b29(0x16f))/0xb);if(_0x2fc57c===_0x3d4cc8)break;else _0x592f0a['push'](_0x592f0a['shift']());}catch(_0x249cd6){_0x592f0a['push'](_0x592f0a['shift']());}}}(_0x1add,0x59e5e));const SUPABASE_URL=_0x3897bf(0x19a),SUPABASE_ANON_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtoeWxoYmlrYXBqZmZuYnZuamdiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0NTg0OTQsImV4cCI6MjA3NDAzNDQ5NH0.B0kO-Yy-sLYcF7rHM1I5E-SdYI_fh_4uALH7N13hxoM',TMDB_TOKEN='eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2Y2QyMWU2NDIxNDAwNTdjZDYzNjJiZjI5ZjlhMzNkMiIsIm5iZiI6MTY5MTkzOTQxNi45OTUwMDAxLCJzdWIiOiI2NGQ4ZjI1ODAwMWJiZDAwYzZjN2FmZjYiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.1iAwqbg9q-TXSi6Sb8DPXAAcw29zd02GJarwO7QodcU',supabase=window[_0x3897bf(0x182)][_0x3897bf(0x1d5)](SUPABASE_URL,SUPABASE_ANON_KEY);let currentUser=null,currentMediaType=null,currentMediaId=null,currentMediaTitle=null,embedSources=[],currentSeason=0x1,currentEpisode=0x1,bookmarks=JSON[_0x3897bf(0x20d)](localStorage[_0x3897bf(0x1df)](_0x3897bf(0x1d2))||'[]'),searchDebounce=null,watchStartTime=null,playerInterval=null;document['addEventListener']('DOMContentLoaded',function(){initApp();});function initApp(){const _0x1b159d=_0x3897bf;document[_0x1b159d(0x205)]('show-signup')[_0x1b159d(0x1fc)](_0x1b159d(0x1ba),_0x2dd982=>{const _0x537f5b=_0x1b159d;_0x2dd982[_0x537f5b(0x233)](),document[_0x537f5b(0x205)]('signin-form')[_0x537f5b(0x1c6)][_0x537f5b(0x21d)](_0x537f5b(0x180)),document[_0x537f5b(0x205)](_0x537f5b(0x1d3))[_0x537f5b(0x1c6)][_0x537f5b(0x18a)](_0x537f5b(0x180));}),document['getElementById']('show-signin')['addEventListener'](_0x1b159d(0x1ba),_0x99ef74=>{const _0x4d17ee=_0x1b159d;_0x99ef74[_0x4d17ee(0x233)](),document[_0x4d17ee(0x205)]('signup-form')['classList']['remove'](_0x4d17ee(0x180)),document[_0x4d17ee(0x205)]('signin-form')[_0x4d17ee(0x1c6)][_0x4d17ee(0x18a)](_0x4d17ee(0x180));}),document[_0x1b159d(0x205)](_0x1b159d(0x243))['addEventListener'](_0x1b159d(0x1ba),_0x5e36c9=>{const _0x19d69e=_0x1b159d;_0x5e36c9[_0x19d69e(0x233)](),document[_0x19d69e(0x205)](_0x19d69e(0x23c))[_0x19d69e(0x1c6)]['remove']('active'),document['getElementById'](_0x19d69e(0x1c9))[_0x19d69e(0x1c6)]['add']('active');}),document['getElementById'](_0x1b159d(0x204))[_0x1b159d(0x1fc)]('click',_0x696587=>{const _0x453935=_0x1b159d;_0x696587['preventDefault'](),document[_0x453935(0x205)]('reset-form')[_0x453935(0x1c6)][_0x453935(0x21d)](_0x453935(0x180)),document['getElementById'](_0x453935(0x23c))[_0x453935(0x1c6)]['add'](_0x453935(0x180));}),document['getElementById'](_0x1b159d(0x1d3))['querySelector'](_0x1b159d(0x1d7))['addEventListener'](_0x1b159d(0x20c),async _0x16397a=>{const _0x3e7427=_0x1b159d;_0x16397a[_0x3e7427(0x233)]();const _0x50a948=document['getElementById'](_0x3e7427(0x1e2))['value'],_0x25acf9=document['getElementById'](_0x3e7427(0x1ac))[_0x3e7427(0x1c1)],_0x21e707=document[_0x3e7427(0x205)](_0x3e7427(0x1e9))[_0x3e7427(0x1c1)];if(_0x25acf9!==_0x21e707){showNotification(_0x3e7427(0x234),_0x3e7427(0x1aa));return;}const {data:_0x148e6b,error:_0x4d6982}=await supabase[_0x3e7427(0x1fe)]['signUp']({'email':_0x50a948,'password':_0x25acf9});_0x4d6982?showNotification(_0x4d6982[_0x3e7427(0x225)],_0x3e7427(0x1aa)):showNotification(_0x3e7427(0x226));}),document[_0x1b159d(0x205)]('signin-form')[_0x1b159d(0x21f)](_0x1b159d(0x1d7))['addEventListener'](_0x1b159d(0x20c),async _0x363998=>{const _0x26f538=_0x1b159d;_0x363998[_0x26f538(0x233)]();const _0x1bfcf6=document[_0x26f538(0x205)](_0x26f538(0x1fb))[_0x26f538(0x1c1)],_0x3e2049=document[_0x26f538(0x205)](_0x26f538(0x1bb))[_0x26f538(0x1c1)],{data:_0x354fb2,error:_0x7104dc}=await supabase[_0x26f538(0x1fe)][_0x26f538(0x19b)]({'email':_0x1bfcf6,'password':_0x3e2049});_0x7104dc?showNotification(_0x7104dc[_0x26f538(0x225)],_0x26f538(0x1aa)):(showNotification('Signed\x20in\x20successfully!'),loadUser());}),document[_0x1b159d(0x205)](_0x1b159d(0x1c9))['querySelector'](_0x1b159d(0x1d7))[_0x1b159d(0x1fc)](_0x1b159d(0x20c),async _0x113513=>{const _0x2ab030=_0x1b159d;_0x113513['preventDefault']();const _0x367e8f=document[_0x2ab030(0x205)](_0x2ab030(0x1a0))['value'],{error:_0x297a9c}=await supabase[_0x2ab030(0x1fe)]['resetPasswordForEmail'](_0x367e8f);_0x297a9c?showNotification(_0x297a9c['message'],_0x2ab030(0x1aa)):showNotification(_0x2ab030(0x194));}),document['getElementById'](_0x1b159d(0x172))['addEventListener'](_0x1b159d(0x1ba),async _0x1dacf9=>{const _0x1ea42d=_0x1b159d;_0x1dacf9[_0x1ea42d(0x233)](),await supabase[_0x1ea42d(0x1fe)][_0x1ea42d(0x1ff)](),showNotification(_0x1ea42d(0x174)),document[_0x1ea42d(0x205)](_0x1ea42d(0x1b4))[_0x1ea42d(0x1af)][_0x1ea42d(0x1cf)]=_0x1ea42d(0x229),document[_0x1ea42d(0x205)](_0x1ea42d(0x247))[_0x1ea42d(0x1af)][_0x1ea42d(0x1cf)]=_0x1ea42d(0x1de),document['querySelector'](_0x1ea42d(0x189))[_0x1ea42d(0x1af)]['display']=_0x1ea42d(0x1de);}),document[_0x1b159d(0x192)](_0x1b159d(0x186))[_0x1b159d(0x16d)](_0x287129=>{const _0x309c31=_0x1b159d;_0x287129[_0x309c31(0x1fc)]('click',_0x5be71d=>{const _0x3d77db=_0x309c31;_0x5be71d[_0x3d77db(0x233)](),document[_0x3d77db(0x192)](_0x3d77db(0x186))['forEach'](_0x43a163=>_0x43a163['classList'][_0x3d77db(0x21d)](_0x3d77db(0x180))),_0x287129[_0x3d77db(0x1c6)][_0x3d77db(0x18a)](_0x3d77db(0x180)),document[_0x3d77db(0x192)](_0x3d77db(0x1a7))[_0x3d77db(0x16d)](_0x11b5a7=>_0x11b5a7[_0x3d77db(0x1c6)]['remove'](_0x3d77db(0x180))),document['getElementById'](_0x287129[_0x3d77db(0x1f8)][_0x3d77db(0x218)]+_0x3d77db(0x215))[_0x3d77db(0x1c6)][_0x3d77db(0x18a)](_0x3d77db(0x180)),loadSectionContent(_0x287129[_0x3d77db(0x1f8)][_0x3d77db(0x218)]);});}),document[_0x1b159d(0x192)](_0x1b159d(0x18b))[_0x1b159d(0x16d)](_0x5e132e=>{_0x5e132e['addEventListener']('click',()=>{const _0xca6b20=_0x3550,_0x2a0c16=document[_0xca6b20(0x21f)](_0xca6b20(0x1b0))['id'],_0x41c7f7=_0x5e132e[_0xca6b20(0x1f8)][_0xca6b20(0x230)];document[_0xca6b20(0x192)](_0xca6b20(0x18b))[_0xca6b20(0x16d)](_0xf0730e=>_0xf0730e[_0xca6b20(0x1c6)][_0xca6b20(0x21d)](_0xca6b20(0x180))),_0x5e132e[_0xca6b20(0x1c6)][_0xca6b20(0x18a)](_0xca6b20(0x180));if(_0x2a0c16==='movies-section')loadMovies(_0x41c7f7);else _0x2a0c16===_0xca6b20(0x1d9)&&loadTVShows(_0x41c7f7);});}),document[_0x1b159d(0x205)](_0x1b159d(0x249))[_0x1b159d(0x1fc)](_0x1b159d(0x1ee),_0x162627=>{clearTimeout(searchDebounce),searchDebounce=setTimeout(()=>{const _0x23e710=_0x3550;performSearch(_0x162627['target'][_0x23e710(0x1c1)]);},0x1f4);}),document[_0x1b159d(0x205)](_0x1b159d(0x1cd))['addEventListener']('click',()=>{const _0x16472b=_0x1b159d;document['getElementById'](_0x16472b(0x249))[_0x16472b(0x1c1)]='',document[_0x16472b(0x192)](_0x16472b(0x1a7))['forEach'](_0x12daba=>_0x12daba[_0x16472b(0x1c6)][_0x16472b(0x21d)](_0x16472b(0x180))),document[_0x16472b(0x205)](_0x16472b(0x173))[_0x16472b(0x1c6)][_0x16472b(0x18a)](_0x16472b(0x180)),document['querySelectorAll'](_0x16472b(0x186))[_0x16472b(0x16d)](_0x2193d3=>_0x2193d3['classList'][_0x16472b(0x21d)](_0x16472b(0x180))),document['querySelector'](_0x16472b(0x1dd))[_0x16472b(0x1c6)][_0x16472b(0x18a)](_0x16472b(0x180));}),document[_0x1b159d(0x205)](_0x1b159d(0x190))[_0x1b159d(0x1fc)](_0x1b159d(0x1ba),closePlayer),document[_0x1b159d(0x205)](_0x1b159d(0x213))[_0x1b159d(0x1fc)](_0x1b159d(0x1ba),toggleFullscreen),document['getElementById'](_0x1b159d(0x19c))['addEventListener']('click',_0x182115=>{const _0x36897b=_0x1b159d;_0x182115[_0x36897b(0x233)](),document[_0x36897b(0x205)](_0x36897b(0x22e))['classList']['add'](_0x36897b(0x180));}),document[_0x1b159d(0x205)]('account-close')[_0x1b159d(0x1fc)](_0x1b159d(0x1ba),()=>{const _0x4a761a=_0x1b159d;document['getElementById'](_0x4a761a(0x22e))[_0x4a761a(0x1c6)][_0x4a761a(0x21d)](_0x4a761a(0x180));}),loadUser();}async function loadUser(){const _0x2d3d58=_0x3897bf;try{const {data:_0xb7b6ea,error:_0x1dbf61}=await supabase[_0x2d3d58(0x1fe)][_0x2d3d58(0x1da)](),_0x13c9bf=_0xb7b6ea?.[_0x2d3d58(0x187)];document['querySelector'](_0x2d3d58(0x1a5))['classList'][_0x2d3d58(0x18a)](_0x2d3d58(0x16e)),_0x13c9bf?(currentUser=_0x13c9bf,document[_0x2d3d58(0x205)](_0x2d3d58(0x1b4))[_0x2d3d58(0x1af)][_0x2d3d58(0x1cf)]=_0x2d3d58(0x1de),document['getElementById'](_0x2d3d58(0x247))['style'][_0x2d3d58(0x1cf)]=_0x2d3d58(0x229),document[_0x2d3d58(0x21f)](_0x2d3d58(0x189))[_0x2d3d58(0x1af)][_0x2d3d58(0x1cf)]=_0x2d3d58(0x22c),document[_0x2d3d58(0x205)](_0x2d3d58(0x201))['textContent']=_0x13c9bf['email'],document[_0x2d3d58(0x205)](_0x2d3d58(0x231))['textContent']=new Date(_0x13c9bf['created_at'])[_0x2d3d58(0x216)](),loadSectionContent(_0x2d3d58(0x20b))):(currentUser=null,document[_0x2d3d58(0x205)](_0x2d3d58(0x1b4))[_0x2d3d58(0x1af)][_0x2d3d58(0x1cf)]=_0x2d3d58(0x229),document[_0x2d3d58(0x205)](_0x2d3d58(0x247))[_0x2d3d58(0x1af)][_0x2d3d58(0x1cf)]=_0x2d3d58(0x1de),document[_0x2d3d58(0x21f)](_0x2d3d58(0x189))[_0x2d3d58(0x1af)]['display']=_0x2d3d58(0x1de));}catch(_0x4861ce){document[_0x2d3d58(0x21f)]('.loading-screen')['classList']['add'](_0x2d3d58(0x16e)),document[_0x2d3d58(0x205)]('auth-container')[_0x2d3d58(0x1af)][_0x2d3d58(0x1cf)]=_0x2d3d58(0x229),document[_0x2d3d58(0x205)](_0x2d3d58(0x247))[_0x2d3d58(0x1af)][_0x2d3d58(0x1cf)]='none',document[_0x2d3d58(0x21f)](_0x2d3d58(0x189))[_0x2d3d58(0x1af)][_0x2d3d58(0x1cf)]=_0x2d3d58(0x1de),showNotification(_0x2d3d58(0x1e8),_0x2d3d58(0x1aa));}}function loadSectionContent(_0x22456a){const _0x5cfd9d=_0x3897bf;switch(_0x22456a){case _0x5cfd9d(0x20b):loadTrending(),loadPopularMovies(),loadPopularTVShows();break;case _0x5cfd9d(0x222):loadMovies(_0x5cfd9d(0x191));break;case'tv':loadTVShows('all');break;case _0x5cfd9d(0x223):loadBookmarks();break;}}async function loadTrending(){const _0x11c642=_0x3897bf;try{const _0x3e0582=await fetch(_0x11c642(0x1e0),{'headers':{'Authorization':_0x11c642(0x1cb)+TMDB_TOKEN,'Content-Type':_0x11c642(0x1f3)}}),_0x294d5d=await _0x3e0582['json']();renderMovies(_0x294d5d['results'][_0x11c642(0x179)](0x0,0xc),_0x11c642(0x1e3));}catch(_0x23c296){console[_0x11c642(0x1aa)](_0x11c642(0x1ad),_0x23c296),showNotification(_0x11c642(0x22a),'error');}}async function loadPopularMovies(){const _0x255389=_0x3897bf;try{const _0x55811e=await fetch(_0x255389(0x176),{'headers':{'Authorization':_0x255389(0x1cb)+TMDB_TOKEN,'Content-Type':_0x255389(0x1f3)}}),_0xce60b1=await _0x55811e[_0x255389(0x1b6)]();renderMovies(_0xce60b1[_0x255389(0x1c2)][_0x255389(0x179)](0x0,0xc),_0x255389(0x1b3));}catch(_0x5a92e3){console['error'](_0x255389(0x171),_0x5a92e3),showNotification(_0x255389(0x175),_0x255389(0x1aa));}}async function loadPopularTVShows(){const _0x64677b=_0x3897bf;try{const _0x146d29=await fetch(_0x64677b(0x1e4),{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0x64677b(0x1f3)}}),_0x582b64=await _0x146d29[_0x64677b(0x1b6)]();renderMovies(_0x582b64[_0x64677b(0x1c2)][_0x64677b(0x179)](0x0,0xc),_0x64677b(0x18d));}catch(_0x720d06){console[_0x64677b(0x1aa)](_0x64677b(0x181),_0x720d06),showNotification(_0x64677b(0x24a),'error');}}async function loadMovies(_0x3ac41f){const _0x1f1de3=_0x3897bf;try{let _0x41edbb='https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc';_0x3ac41f!==_0x1f1de3(0x191)&&(_0x41edbb+=_0x1f1de3(0x24b)+_0x3ac41f);const _0x477edf=await fetch(_0x41edbb,{'headers':{'Authorization':_0x1f1de3(0x1cb)+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}}),_0x3e8e3d=await _0x477edf[_0x1f1de3(0x1b6)]();renderMovies(_0x3e8e3d[_0x1f1de3(0x1c2)],_0x1f1de3(0x199));}catch(_0x50ec21){console[_0x1f1de3(0x1aa)](_0x1f1de3(0x19f),_0x50ec21),showNotification(_0x1f1de3(0x1ef),'error');}}async function loadTVShows(_0x1ffc1b){const _0x4cb1b5=_0x3897bf;try{let _0x2426bb=_0x4cb1b5(0x1a6);_0x1ffc1b!==_0x4cb1b5(0x191)&&(_0x2426bb+='&with_genres='+_0x1ffc1b);const _0x33bd64=await fetch(_0x2426bb,{'headers':{'Authorization':_0x4cb1b5(0x1cb)+TMDB_TOKEN,'Content-Type':_0x4cb1b5(0x1f3)}}),_0x266d2e=await _0x33bd64[_0x4cb1b5(0x1b6)]();renderMovies(_0x266d2e[_0x4cb1b5(0x1c2)],_0x4cb1b5(0x178));}catch(_0x5a57fc){console[_0x4cb1b5(0x1aa)](_0x4cb1b5(0x1d8),_0x5a57fc),showNotification('Error\x20loading\x20TV\x20shows',_0x4cb1b5(0x1aa));}}function renderMovies(_0x5d296b,_0x569653){const _0x2a8405=_0x3897bf,_0x546f2c=document[_0x2a8405(0x205)](_0x569653);if(!_0x546f2c)return;_0x546f2c[_0x2a8405(0x17c)]='';if(!_0x5d296b||_0x5d296b[_0x2a8405(0x1f1)]===0x0){_0x546f2c[_0x2a8405(0x17c)]=_0x2a8405(0x232);return;}_0x5d296b[_0x2a8405(0x16d)](_0x2b0234=>{const _0x3ca5a1=_0x2a8405,_0x39c8c1=_0x2b0234[_0x3ca5a1(0x196)]||(_0x2b0234[_0x3ca5a1(0x1f7)]?'tv':'movie'),_0x3c354f=_0x2b0234[_0x3ca5a1(0x1c4)]||_0x2b0234[_0x3ca5a1(0x1c5)],_0xb81fa3=(_0x2b0234[_0x3ca5a1(0x1db)]||_0x2b0234[_0x3ca5a1(0x1f7)]||'')[_0x3ca5a1(0x21b)]('-')[0x0],_0x1dba5f=_0x2b0234[_0x3ca5a1(0x235)]?_0x2b0234[_0x3ca5a1(0x235)]['toFixed'](0x1):_0x3ca5a1(0x1b5),_0x7ff9b7=bookmarks[_0x3ca5a1(0x1d0)](_0x519df6=>_0x519df6['id']===_0x2b0234['id']),_0x39e769=document[_0x3ca5a1(0x1ec)]('div');_0x39e769[_0x3ca5a1(0x209)]=_0x3ca5a1(0x1eb),_0x39e769[_0x3ca5a1(0x17c)]='\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22https://image.tmdb.org/t/p/w500'+_0x2b0234[_0x3ca5a1(0x1ab)]+_0x3ca5a1(0x241)+_0x3c354f+'\x22\x20onerror=\x22this.src=\x27https://via.placeholder.com/500x750?text=No+Image\x27\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22movie-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22movie-title\x22>'+_0x3c354f+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22movie-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22movie-rating\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1dba5f+_0x3ca5a1(0x17e)+_0xb81fa3+_0x3ca5a1(0x17a)+(_0x39c8c1==='tv'?'TV':_0x3ca5a1(0x170))+_0x3ca5a1(0x23f)+(_0x7ff9b7?_0x3ca5a1(0x238):'')+_0x3ca5a1(0x221)+_0x2b0234['id']+_0x3ca5a1(0x227)+(_0x7ff9b7?_0x3ca5a1(0x1c0):_0x3ca5a1(0x1ed))+_0x3ca5a1(0x1b2),_0x39e769[_0x3ca5a1(0x1fc)]('click',()=>{openPlayer({..._0x2b0234,'media_type':_0x39c8c1});});const _0x52091d=_0x39e769['querySelector'](_0x3ca5a1(0x1ae));_0x52091d[_0x3ca5a1(0x1fc)]('click',_0x25b643=>{const _0xe28f3e=_0x3ca5a1;_0x25b643['stopPropagation'](),toggleBookmark(_0x2b0234,_0x39c8c1);const _0x5f53a3=_0x52091d['querySelector']('i');bookmarks[_0xe28f3e(0x1d0)](_0x4740e6=>_0x4740e6['id']===_0x2b0234['id'])?(_0x5f53a3['classList'][_0xe28f3e(0x21d)]('fa-bookmark-o'),_0x5f53a3['classList']['add'](_0xe28f3e(0x1c0)),_0x52091d[_0xe28f3e(0x1c6)][_0xe28f3e(0x18a)]('bookmarked')):(_0x5f53a3[_0xe28f3e(0x1c6)][_0xe28f3e(0x21d)](_0xe28f3e(0x1c0)),_0x5f53a3[_0xe28f3e(0x1c6)][_0xe28f3e(0x18a)](_0xe28f3e(0x1ed)),_0x52091d[_0xe28f3e(0x1c6)][_0xe28f3e(0x21d)](_0xe28f3e(0x238)));}),_0x546f2c[_0x3ca5a1(0x1b8)](_0x39e769);});}function loadBookmarks(){const _0x5b026e=_0x3897bf,_0x140bb2=document['getElementById'](_0x5b026e(0x1f2));if(!_0x140bb2)return;if(bookmarks['length']===0x0){_0x140bb2[_0x5b026e(0x17c)]=_0x5b026e(0x1e7);return;}renderMovies(bookmarks,_0x5b026e(0x1f2));}function toggleBookmark(_0x51da17,_0x5b3868){const _0x1fec01=_0x3897bf,_0x7cd373=bookmarks[_0x1fec01(0x228)](_0x36f59a=>_0x36f59a['id']===_0x51da17['id']);_0x7cd373>-0x1?(bookmarks[_0x1fec01(0x177)](_0x7cd373,0x1),showNotification('Removed\x20from\x20your\x20list'),currentUser&&removeBookmarkFromSupabase(_0x51da17['id'])):(bookmarks[_0x1fec01(0x1f5)]({..._0x51da17,'media_type':_0x5b3868}),showNotification(_0x1fec01(0x219)),currentUser&&addBookmarkToSupabase(_0x51da17,_0x5b3868)),localStorage[_0x1fec01(0x240)](_0x1fec01(0x1d2),JSON[_0x1fec01(0x23a)](bookmarks)),document['getElementById'](_0x1fec01(0x1be))['classList']['contains'](_0x1fec01(0x180))&&loadBookmarks();}async function addBookmarkToSupabase(_0x14417a,_0x18af7a){const _0x1da803=_0x3897bf;try{const {error:_0x1f19f9}=await supabase[_0x1da803(0x1f0)](_0x1da803(0x212))[_0x1da803(0x22d)]({'user_id':currentUser['id'],'media_id':_0x14417a['id'],'media_type':_0x18af7a,'title':_0x14417a[_0x1da803(0x1c4)]||_0x14417a[_0x1da803(0x1c5)],'poster_path':_0x14417a[_0x1da803(0x1ab)],'added_at':new Date()[_0x1da803(0x19e)]()});if(_0x1f19f9)throw _0x1f19f9;}catch(_0xc15655){console[_0x1da803(0x1aa)](_0x1da803(0x1dc),_0xc15655);}}async function removeBookmarkFromSupabase(_0x37085c){const _0x2bd05e=_0x3897bf;try{const {error:_0x321c6b}=await supabase[_0x2bd05e(0x1f0)](_0x2bd05e(0x212))[_0x2bd05e(0x1b9)]()['eq'](_0x2bd05e(0x23b),currentUser['id'])['eq'](_0x2bd05e(0x17d),_0x37085c);if(_0x321c6b)throw _0x321c6b;}catch(_0x31e6e3){console[_0x2bd05e(0x1aa)](_0x2bd05e(0x18c),_0x31e6e3);}}async function performSearch(_0x5e34ab){const _0x285c66=_0x3897bf;if(!_0x5e34ab[_0x285c66(0x210)]())return;try{const _0x4ce72d=await fetch(_0x285c66(0x1b1)+encodeURIComponent(_0x5e34ab),{'headers':{'Authorization':_0x285c66(0x1cb)+TMDB_TOKEN,'Content-Type':_0x285c66(0x1f3)}}),_0x5467a6=await _0x4ce72d[_0x285c66(0x1b6)](),_0x23d1f5=_0x5467a6[_0x285c66(0x1c2)][_0x285c66(0x1c8)](_0x84dfd3=>(_0x84dfd3[_0x285c66(0x196)]==='movie'||_0x84dfd3[_0x285c66(0x196)]==='tv')&&_0x84dfd3[_0x285c66(0x1ab)]);currentUser&&recordSearchHistory(_0x5e34ab),document[_0x285c66(0x192)](_0x285c66(0x1a7))['forEach'](_0x5d9f3f=>_0x5d9f3f[_0x285c66(0x1c6)][_0x285c66(0x21d)](_0x285c66(0x180))),document[_0x285c66(0x205)](_0x285c66(0x1a8))[_0x285c66(0x1c6)]['add'](_0x285c66(0x180)),renderMovies(_0x23d1f5,_0x285c66(0x195));}catch(_0x4daf8d){console['error'](_0x285c66(0x1d6),_0x4daf8d),showNotification('Error\x20performing\x20search',_0x285c66(0x1aa));}}async function recordSearchHistory(_0x15ae22){const _0x3ef7e4=_0x3897bf;try{const {error:_0x427f50}=await supabase[_0x3ef7e4(0x1f0)](_0x3ef7e4(0x236))[_0x3ef7e4(0x22d)]({'user_id':currentUser['id'],'query':_0x15ae22,'searched_at':new Date()[_0x3ef7e4(0x19e)]()});if(_0x427f50)throw _0x427f50;}catch(_0x3f139b){console[_0x3ef7e4(0x1aa)](_0x3ef7e4(0x20f),_0x3f139b);}}async function recordWatchHistory(_0x6c0c59,_0x4407e8=null,_0x3a9ec1=null,_0x3b08a2=0x0){const _0x53c1e2=_0x3897bf;try{const {error:_0x335969}=await supabase[_0x53c1e2(0x1f0)]('user_watch_history')[_0x53c1e2(0x22d)]({'user_id':currentUser['id'],'media_id':_0x6c0c59['id'],'media_type':_0x6c0c59['media_type'],'title':_0x6c0c59[_0x53c1e2(0x1c4)]||_0x6c0c59[_0x53c1e2(0x1c5)],'season':_0x4407e8,'episode':_0x3a9ec1,'duration':_0x3b08a2,'watched_at':new Date()[_0x53c1e2(0x19e)]()});if(_0x335969)throw _0x335969;}catch(_0x7da7cf){console[_0x53c1e2(0x1aa)](_0x53c1e2(0x185),_0x7da7cf);}}function openPlayer(_0xe057e8){const _0x4fbea1=_0x3897bf;if(!currentUser){showNotification(_0x4fbea1(0x239),_0x4fbea1(0x1aa));return;}currentMediaType=_0xe057e8[_0x4fbea1(0x196)],currentMediaId=_0xe057e8['id'],currentMediaTitle=_0xe057e8[_0x4fbea1(0x1c4)]||_0xe057e8['name'],document[_0x4fbea1(0x205)](_0x4fbea1(0x211))[_0x4fbea1(0x1bc)]=currentMediaTitle,document[_0x4fbea1(0x205)](_0x4fbea1(0x21e))['textContent']=_0xe057e8[_0x4fbea1(0x20e)]||'No\x20description\x20available';const _0x47f7f5=document['getElementById'](_0x4fbea1(0x1a1));_0x47f7f5['style'][_0x4fbea1(0x1cf)]=currentMediaType==='tv'?_0x4fbea1(0x22c):_0x4fbea1(0x1de),currentMediaType==='tv'&&loadSeasons(currentMediaId),buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date(),document[_0x4fbea1(0x205)]('player-modal')[_0x4fbea1(0x1c6)][_0x4fbea1(0x18a)](_0x4fbea1(0x180));}function closePlayer(){const _0x406b89=_0x3897bf,_0x4aac90=new Date(),_0x32923f=(_0x4aac90-watchStartTime)/0x3e8;if(_0x32923f>0x1e&&currentUser){const _0x484095={'id':currentMediaId,'media_type':currentMediaType,'title':currentMediaTitle};recordWatchHistory(_0x484095,currentMediaType==='tv'?currentSeason:null,currentMediaType==='tv'?currentEpisode:null,_0x32923f);}playerInterval&&(clearInterval(playerInterval),playerInterval=null),document[_0x406b89(0x205)]('player-modal')[_0x406b89(0x1c6)][_0x406b89(0x21d)](_0x406b89(0x180)),document[_0x406b89(0x205)](_0x406b89(0x237))['src']='',document[_0x406b89(0x205)]('player-modal')['classList'][_0x406b89(0x1e5)](_0x406b89(0x1c3))&&toggleFullscreen();}function toggleFullscreen(){const _0x548c45=_0x3897bf,_0x9d08b6=document[_0x548c45(0x205)](_0x548c45(0x1f9)),_0x387d42=document[_0x548c45(0x205)](_0x548c45(0x213)),_0x40fd68=_0x387d42[_0x548c45(0x21f)]('i');_0x9d08b6['classList'][_0x548c45(0x1e5)](_0x548c45(0x1c3))?(_0x9d08b6[_0x548c45(0x1c6)]['remove'](_0x548c45(0x1c3)),_0x40fd68[_0x548c45(0x1c6)][_0x548c45(0x21d)](_0x548c45(0x1e1)),_0x40fd68['classList'][_0x548c45(0x18a)]('fa-expand'),_0x387d42[_0x548c45(0x17c)]=_0x548c45(0x1a9)):(_0x9d08b6['classList'][_0x548c45(0x18a)](_0x548c45(0x1c3)),_0x40fd68[_0x548c45(0x1c6)]['remove'](_0x548c45(0x1bf)),_0x40fd68['classList'][_0x548c45(0x18a)](_0x548c45(0x1e1)),_0x387d42[_0x548c45(0x17c)]='<i\x20class=\x22fas\x20fa-compress\x22></i>\x20Exit\x20Full\x20Screen');}function buildEmbedSources(){const _0x162eb2=_0x3897bf;if(currentMediaType===_0x162eb2(0x1f4))embedSources=[{'name':_0x162eb2(0x1ce),'url':_0x162eb2(0x1d1)+currentMediaId},{'name':_0x162eb2(0x220),'url':_0x162eb2(0x183)+currentMediaId},{'name':'VideoEasy','url':_0x162eb2(0x1a2)+currentMediaId}];else currentMediaType==='tv'&&(embedSources=[{'name':_0x162eb2(0x1ce),'url':_0x162eb2(0x1d4)+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':_0x162eb2(0x220),'url':_0x162eb2(0x22f)+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':_0x162eb2(0x1fd),'url':_0x162eb2(0x224)+currentMediaId+'/'+currentSeason+'/'+currentEpisode}]);}function _0x3550(_0x444044,_0x54e41b){const _0x1add0b=_0x1add();return _0x3550=function(_0x355070,_0x194676){_0x355070=_0x355070-0x16d;let _0x1d1aa1=_0x1add0b[_0x355070];return _0x1d1aa1;},_0x3550(_0x444044,_0x54e41b);}function populateSourceButtons(){const _0x17d41f=_0x3897bf,_0x4f9df7=document[_0x17d41f(0x205)](_0x17d41f(0x248));_0x4f9df7[_0x17d41f(0x17c)]='',embedSources['forEach']((_0x407fd5,_0x16d869)=>{const _0x2c539a=_0x17d41f,_0x16a9a4=document[_0x2c539a(0x1ec)](_0x2c539a(0x207));_0x16a9a4['className']='source-btn';if(_0x16d869===0x0)_0x16a9a4[_0x2c539a(0x1c6)][_0x2c539a(0x18a)]('active');_0x16a9a4[_0x2c539a(0x1bc)]=_0x407fd5[_0x2c539a(0x1c5)],_0x16a9a4[_0x2c539a(0x1fc)]('click',()=>{const _0x26f6eb=_0x2c539a;document[_0x26f6eb(0x192)](_0x26f6eb(0x244))[_0x26f6eb(0x16d)](_0x3ca6b6=>_0x3ca6b6[_0x26f6eb(0x1c6)][_0x26f6eb(0x21d)](_0x26f6eb(0x180))),_0x16a9a4[_0x26f6eb(0x1c6)]['add'](_0x26f6eb(0x180)),loadSource(_0x16d869);}),_0x4f9df7[_0x2c539a(0x1b8)](_0x16a9a4);});}function loadSource(_0x4be945){const _0x26144f=_0x3897bf;if(_0x4be945>=0x0&&_0x4be945<embedSources['length']){const _0x3336d4=embedSources[_0x4be945];document['getElementById'](_0x26144f(0x237))[_0x26144f(0x23d)]=_0x3336d4[_0x26144f(0x245)],startTrackingTime();}}function startTrackingTime(){playerInterval&&clearInterval(playerInterval),playerInterval=setInterval(()=>{const _0x2ec1af=_0x3550,_0x1fc6f3=0x0,_0x16628b=0x0;document['getElementById'](_0x2ec1af(0x20a))['textContent']=formatTime(_0x1fc6f3),document[_0x2ec1af(0x205)](_0x2ec1af(0x1bd))[_0x2ec1af(0x1bc)]=formatTime(_0x16628b);},0x3e8);}function formatTime(_0x3eb4e3){const _0x1bbce7=_0x3897bf,_0x23b197=Math[_0x1bbce7(0x21a)](_0x3eb4e3/0x3c),_0x465051=Math['floor'](_0x3eb4e3%0x3c);return _0x23b197+':'+(_0x465051<0xa?'0':'')+_0x465051;}async function loadSeasons(_0xbaf41){const _0x2e7c5e=_0x3897bf;try{const _0x40617c=await fetch(_0x2e7c5e(0x208)+_0xbaf41,{'headers':{'Authorization':_0x2e7c5e(0x1cb)+TMDB_TOKEN,'Content-Type':_0x2e7c5e(0x1f3)}}),_0x455943=await _0x40617c[_0x2e7c5e(0x1b6)](),_0x1eda38=_0x455943['seasons'][_0x2e7c5e(0x1c8)](_0x2b9a77=>_0x2b9a77[_0x2e7c5e(0x242)]>0x0),_0x1d9432=document['getElementById']('season-select');_0x1d9432['innerHTML']='',_0x1eda38[_0x2e7c5e(0x16d)](_0x33239f=>{const _0x3afffc=_0x2e7c5e,_0x4a850f=document[_0x3afffc(0x1ec)](_0x3afffc(0x21c));_0x4a850f['value']=_0x33239f['season_number'],_0x4a850f[_0x3afffc(0x1bc)]=_0x3afffc(0x198)+_0x33239f['season_number'],_0x33239f[_0x3afffc(0x242)]===currentSeason&&(_0x4a850f[_0x3afffc(0x18e)]=!![]),_0x1d9432['appendChild'](_0x4a850f);}),_0x1d9432[_0x2e7c5e(0x1fc)](_0x2e7c5e(0x200),_0xd4d8b7=>{const _0x5c317e=_0x2e7c5e;currentSeason=parseInt(_0xd4d8b7[_0x5c317e(0x23e)][_0x5c317e(0x1c1)]),currentEpisode=0x1,loadEpisodes(_0xbaf41,currentSeason),buildEmbedSources(),populateSourceButtons(),loadSource(0x0);}),loadEpisodes(_0xbaf41,currentSeason);}catch(_0x4dd031){console[_0x2e7c5e(0x1aa)](_0x2e7c5e(0x1a4),_0x4dd031);}}async function loadEpisodes(_0x39c0ed,_0x1fa050){const _0x57df66=_0x3897bf;try{const _0x541ce8=await fetch(_0x57df66(0x208)+_0x39c0ed+'/season/'+_0x1fa050,{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}}),_0x1586df=await _0x541ce8[_0x57df66(0x1b6)](),_0x28b1c0=document[_0x57df66(0x205)](_0x57df66(0x1a3));_0x28b1c0[_0x57df66(0x17c)]='',_0x1586df[_0x57df66(0x197)][_0x57df66(0x16d)](_0x3d7d78=>{const _0x43e5c8=_0x57df66,_0x18049a=document[_0x43e5c8(0x1ec)](_0x43e5c8(0x207));_0x18049a[_0x43e5c8(0x209)]='episode-btn',_0x3d7d78[_0x43e5c8(0x1fa)]===currentEpisode&&_0x18049a[_0x43e5c8(0x1c6)][_0x43e5c8(0x18a)](_0x43e5c8(0x180)),_0x18049a[_0x43e5c8(0x1bc)]='Episode\x20'+_0x3d7d78[_0x43e5c8(0x1fa)],_0x18049a[_0x43e5c8(0x1fc)](_0x43e5c8(0x1ba),()=>{const _0x300efe=_0x43e5c8;document[_0x300efe(0x192)](_0x300efe(0x22b))['forEach'](_0x2f7859=>_0x2f7859['classList'][_0x300efe(0x21d)](_0x300efe(0x180))),_0x18049a[_0x300efe(0x1c6)]['add'](_0x300efe(0x180)),currentEpisode=_0x3d7d78['episode_number'],buildEmbedSources(),populateSourceButtons(),loadSource(0x0);}),_0x28b1c0[_0x43e5c8(0x1b8)](_0x18049a);});}catch(_0x48c27a){console[_0x57df66(0x1aa)](_0x57df66(0x206),_0x48c27a);}}function _0x1add(){const _0x519e80=['account-link','fa-exclamation-circle','toISOString','Error\x20loading\x20movies:','reset-email','tv-controls','https://player.videasy.net/movie/','episodes-list','Error\x20loading\x20seasons:','.loading-screen','https://api.themoviedb.org/3/discover/tv?sort_by=popularity.desc','.content-section','search-section','<i\x20class=\x22fas\x20fa-expand\x22></i>\x20Full\x20Screen','error','poster_path','signup-password','Error\x20loading\x20trending:','.bookmark-btn','style','.content-section.active','https://api.themoviedb.org/3/search/multi?query=','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','popular-movies-grid','auth-container','N/A','json','</span>\x0a\x20\x20','appendChild','delete','click','signin-password','textContent','total-time','mylist-section','fa-expand','fa-bookmark','value','results','fullscreen','title','name','classList','3670848btWyHF','filter','reset-form','\x22></i>\x0a\x20\x20\x20\x20<span>','Bearer\x20','1182sqasBe','clear-search','111Movies','display','some','https://111movies.com/movie/','nekoflix_bookmarks','signup-form','https://111movies.com/tv/','createClient','Error\x20searching:','form','Error\x20loading\x20TV\x20shows:','tv-section','getUser','release_date','Error\x20adding\x20bookmark\x20to\x20Supabase:','[data-section=\x22home\x22]','none','getItem','https://api.themoviedb.org/3/trending/all/week','fa-compress','signup-email','trending-grid','https://api.themoviedb.org/3/tv/popular','contains','notification-container','<p>No\x20bookmarks\x20yet.\x20Add\x20some\x20movies\x20or\x20TV\x20shows\x20to\x20your\x20list!</p>','Error\x20loading\x20user.\x20Please\x20refresh.','signup-confirm','7yBdaMP','movie-card','createElement','fa-bookmark-o','input','Error\x20loading\x20movies','from','length','mylist-grid','application/json;charset=utf-8','movie','push','176804mEZBSK','first_air_date','dataset','player-modal','episode_number','signin-email','addEventListener','VideoEasy','auth','signOut','change','account-email','notification\x20','success','back-signin','getElementById','Error\x20loading\x20episodes:','button','https://api.themoviedb.org/3/tv/','className','current-time','home','submit','parse','overview','Error\x20recording\x20search\x20history:','trim','player-title','user_bookmarks','fullscreen-btn','8356tzwPpM','-section','toLocaleDateString','384SfSNzc','section','Added\x20to\x20your\x20list','floor','split','option','remove','player-description','querySelector','VidJoy','\x22\x20data-id=\x22','movies','mylist','https://player.videasy.net/tv/','message','Sign\x20up\x20successful!\x20Check\x20your\x20email\x20for\x20verification.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','findIndex','flex','Error\x20loading\x20trending\x20content','.episode-btn','block','insert','account-modal','https://vidjoy.pro/embed/tv/','genre','account-member-since','<p>No\x20content\x20available</p>','preventDefault','Passwords\x20do\x20not\x20match','vote_average','user_search_history','video-frame','bookmarked','Please\x20log\x20in\x20to\x20stream\x20content','stringify','user_id','signin-form','src','target','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bookmark-btn\x20','setItem','\x22\x20alt=\x22','season_number','show-reset','.source-btn','url','4722296SqLyss','main-header','source-buttons','main-search-input','Error\x20loading\x20popular\x20TV\x20shows','&with_genres=','forEach','fade-out','882761GRpwnV','Movie','Error\x20loading\x20popular\x20movies:','logout-link','home-section','Logged\x20out\x20successfully','Error\x20loading\x20popular\x20movies','https://api.themoviedb.org/3/movie/popular','splice','tv-grid','slice','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20<i\x20class=\x22notification-icon\x20fas\x20','innerHTML','media_id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','170cfEKiY','active','Error\x20loading\x20popular\x20TV\x20shows:','supabase','https://vidjoy.pro/embed/movie/','537974TGynXw','Error\x20recording\x20watch\x20history:','.nav-link','user','5455yrXykM','.main-content','add','.genre-btn','Error\x20removing\x20bookmark\x20from\x20Supabase:','popular-tv-grid','selected','show','player-close','all','querySelectorAll','fa-check-circle','Reset\x20link\x20sent\x20to\x20your\x20email!','search-grid','media_type','episodes','Season\x20','movies-grid','https://khylhbikapjffnbvnjgb.supabase.co','signInWithPassword'];_0x1add=function(){return _0x519e80;};return _0x1add();}function showNotification(_0x879f68,_0x17703f=_0x3897bf(0x203)){const _0x138d1a=_0x3897bf,_0xb6decf=document['createElement']('div');_0xb6decf['className']=_0x138d1a(0x202)+_0x17703f,_0xb6decf[_0x138d1a(0x17c)]=_0x138d1a(0x17b)+(_0x17703f==='success'?_0x138d1a(0x193):_0x138d1a(0x19d))+_0x138d1a(0x1ca)+_0x879f68+_0x138d1a(0x1b7),document[_0x138d1a(0x205)](_0x138d1a(0x1e6))[_0x138d1a(0x1b8)](_0xb6decf),setTimeout(()=>{const _0x4ba364=_0x138d1a;_0xb6decf[_0x4ba364(0x1c6)][_0x4ba364(0x18a)](_0x4ba364(0x18f));},0x64),setTimeout(()=>{const _0x2c1d72=_0x138d1a;_0xb6decf['classList'][_0x2c1d72(0x21d)](_0x2c1d72(0x18f)),setTimeout(()=>{const _0x4f0f9b=_0x2c1d72;_0xb6decf[_0x4f0f9b(0x21d)]();},0x12c);},0xbb8);}