const _0x423034=_0x14b8;(function(_0x540c38,_0x419624){const _0x1e79e4=_0x14b8,_0x196c9a=_0x540c38();while(!![]){try{const _0xcb1991=parseInt(_0x1e79e4(0x1dc))/0x1*(-parseInt(_0x1e79e4(0x260))/0x2)+-parseInt(_0x1e79e4(0x222))/0x3+-parseInt(_0x1e79e4(0x191))/0x4+-parseInt(_0x1e79e4(0x197))/0x5*(parseInt(_0x1e79e4(0x2ea))/0x6)+parseInt(_0x1e79e4(0x287))/0x7+-parseInt(_0x1e79e4(0x192))/0x8*(-parseInt(_0x1e79e4(0x1c1))/0x9)+-parseInt(_0x1e79e4(0x1ed))/0xa*(-parseInt(_0x1e79e4(0x2d5))/0xb);if(_0xcb1991===_0x419624)break;else _0x196c9a['push'](_0x196c9a['shift']());}catch(_0x4189e6){_0x196c9a['push'](_0x196c9a['shift']());}}}(_0x5e64,0xa019c));const SUPABASE_URL=_0x423034(0x2c5),SUPABASE_ANON_KEY=_0x423034(0x196),TMDB_TOKEN='eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2Y2QyMWU2NDIxNDAwNTdjZDYzNjJiZjI5ZjlhMzNkMiIsIm5iZiI6MTY5MTkzOTQxNi45OTUwMDAxLCJzdWIiOiI2NGQ4ZjI1ODAwMWJiZDAwYzZjN2FmZjYiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.1iAwqbg9q-TXSi6Sb8DPXAAcw29zd02GJarwO7QodcU',supabase=window[_0x423034(0x217)]['createClient'](SUPABASE_URL,SUPABASE_ANON_KEY);let currentUser=null,currentMediaType=null,currentMediaId=null,currentMediaTitle=null,currentMediaData=null,embedSources=[],currentSeason=0x1,currentEpisode=0x1,bookmarks=[],continueWatching=[],searchDebounce=null,watchStartTime=null,playerInterval=null,isPlayerOpen=![],featuredMedia=null,featuredQueue=[],featuredIndex=0x0,rotationInterval=null,rotationPaused=![];const domCache={'elements':{},'observers':new Map()};function _0x5e64(){const _0x582861=['then','Remove\x20from\x20bookmarks','.nav-link','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22Remove\x20from\x20Continue\x20Watching\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22Remove\x20from\x20continue\x20watching\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20data-src=\x22https://image.tmdb.org/t/p/w500','button[type=\x22submit\x22]','Error\x20adding\x20bookmark\x20to\x20Supabase:','Mystery','account-member-since','channel','\x0a\x20\x20\x20\x20<div\x20class=\x22card-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-continue-btn\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22','popular-movies-grid','alert','getFullYear','close-extension-popup','media_id','.notification-close','</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22continue-progress\x22>','change','All\x20sources\x20failed.\x20Please\x20try\x20again\x20later.','account-close','runtime','some','onclick','warning','selected','referrerpolicy','Fantasy','season-select','.loading-indicator','Error\x20removing\x20bookmark\x20from\x20Supabase:','toString','Error\x20initializing\x20application','[data-section=\x22home\x22]','supabase','PGRST116','limit','Comedy','Sending\x20Reset\x20Link...','about:blank','overflow','.hero-content','load','body','...\x20(','2799945LMjjJR','name','video-frame','application/json;charset=utf-8','mouseleave','Passwords\x20do\x20not\x20match','Documentary','signup-password','opened','Horror','\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20','nf_device_id','notification-container','\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22hero-rating\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20','main-content','Removed\x20from\x20your\x20list','getItem','length','createDocumentFragment','logout-link','split','signin-form','parentNode','trending-grid','tv-grid','scale(0.9)','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-number\x22>','randomUUID','animationDelay','scrollY','home','No\x20description\x20available','hero-description','mylist','<p\x20class=\x27no-content\x27>No\x20content\x20available</p>','elements','removeChild','tv-section','div','.content-section.active','</span>\x0a\x20\x20\x20\x20<button\x20class=\x22notification-close\x22\x20aria-label=\x22Close\x20notification\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20','does\x20not\x20exist','status','order','Error\x20loading\x20seasons:','Error\x20searching:','Error\x20loading\x20popular\x20TV\x20shows','Account\x20already\x20active\x20on\x20another\x20device.\x20Please\x20sign\x20out\x20there\x20first.','src','preventDefault','fa-exclamation-circle','https://api.themoviedb.org/3/tv/popular','vote_average','TV\x20Movie','target','dataset','signin-password','appendChild','button','email','removeChannel','signUp','16aRdQbo','forEach','auth','Sci-Fi','classList','100px\x200px','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22','role','player-year','Error\x20loading\x20trending\x20content','from','url','tabIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','new','abort','click','fa-exclamation-triangle','\x0a\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20data-src=\x22https://image.tmdb.org/t/p/w500','Error\x20checking\x20allowed\x20users:','gte','eventType','https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc','https://vidjoy.pro/embed/tv/','scrollTo','Music','Error\x20removing\x20from\x20continue\x20watching:','42P01','#open-payment-modal,\x20#subscribe-link','public','overview','seasons','active','N/A','Password\x20must\x20be\x20at\x20least\x206\x20characters','value','fade-out','toISOString','option','1636271CMJuNJ','img.lazy','title','Error\x20recording\x20search\x20history:','now','section','.video-loading','https://api.themoviedb.org/3/trending/all/week','search-grid','show-signup','endSessionForUser\x20error','get','.remove-continue-btn','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22video-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20<p>Loading\x20video\x20source...</p>\x0a\x20\x20\x20\x20','main-header','isIntersecting','old','hero-section','season_number','map','Error\x20loading\x20popular\x20movies','search','added_at','hero-meta','This\x20email\x20is\x20not\x20authorized\x20to\x20sign\x20in','main-search-input','contains','last_watched_at','popular-tv-grid','error','filter','.content-section','Error\x20loading\x20movies','Source\x201','onload','json','\x0a\x20\x20\x20\x20<div\x20class=\x22card-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20','auth-container','createElement','Your\x20session\x20was\x20ended\x20(deleted)\x20–\x20you\x20have\x20been\x20signed\x20out.','movies-grid','payment-modal','toFixed','toLocaleDateString','display','upsert','far','Signed\x20out\x20successfully!','autoplay;\x20fullscreen;\x20encrypted-media;\x20picture-in-picture','block','continue-watching-grid','push','firstChild','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','fas','active_sessions','add','log','Error\x20loading\x20bookmarks:','-section','user_id','https://khylhbikapjffnbvnjgb.supabase.co','player-type','delete','air_date','Error\x20performing\x20search','Failed\x20to\x20load\x20bookmarks.\x20Table\x20may\x20need\x20to\x20be\x20created.','force\x20signout\x20supabase.auth.signOut\x20failed','signin-email','user_search_history','Signing\x20In...','&with_genres=','remove','session-channel-','user_watch_history','scale(1)','fas\x20fa-bookmark','11nqiMrM','type','finally','className','Error\x20loading\x20user.\x20Please\x20refresh.','...','Error\x20recording\x20watch\x20history:','scrolled','stopPropagation','.hero-backdrop','Bearer\x20','media_type','genre_ids','signup-email','</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22card-rating\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','created_at','History','registerSessionForUser\x20error','Creating\x20Account...','user_bookmarks','66pWjfRx','user_id=eq.','is_active','0.3','setAttribute','findIndex','user_id,media_id','movie','episodes','_blank','fa-check-circle','offsetTop','backgroundImage','m\x20•\x20','all','movies','input','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20class=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20loading=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27https://via.placeholder.com/500x750?text=No+Image\x27\x22\x0a\x20\x20\x20\x20\x20\x20>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-overlay\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22play-btn\x20hover-glow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','Added\x20to\x20your\x20list','Error\x20loading\x20trending:','splice','Add\x20to\x20List','slide-in-right','Crime','getUser','.episode-card','event','TV\x20Show','back-signin','Error\x20loading\x20continue\x20watching:','/season/','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','images','reset-form','Your\x20session\x20was\x20disabled\x20by\x20admin\x20–\x20you\x20have\x20been\x20signed\x20out.','Episode\x20','disabled','show','account-modal','player-title','.play-btn','backdrop_path','open','show-reset','innerHTML','%\x20watched</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','smooth','account-email','select','warn','observe','.bookmark-btn','Thriller','App\x20initialization\x20error:','signup-form','random','observers','Error\x20loading\x20seasons','signup-confirm','Error\x20loading\x20TV\x20shows:','Error\x20loading\x20popular\x20TV\x20shows:','<p\x20class=\x27no-episodes\x27>No\x20episodes\x20available</p>','setItem','session_flag','device_id','loading-screen','includes','clear-search','.player-video-section','.genre-btn','textContent','message','HTTP\x20','mouseenter','Action,\x20Adventure','querySelector','1086132QyFRAs','62536STuRiX','release_date','getElementById','minimal','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtoeWxoYmlrYXBqZmZuYnZuamdiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0NTg0OTQsImV4cCI6MjA3NDAzNDQ5NH0.B0kO-Yy-sLYcF7rHM1I5E-SdYI_fh_4uALH7N13hxoM','381055fHglYN','continue-watching-row','genre','disconnect','Your\x20account\x20was\x20used\x20on\x20another\x20device\x20–\x20signed\x20out\x20here.','transform','.main-header','Signed\x20in\x20successfully!','https://player.videasy.net/movie/','single','toUpperCase','episode_number','mylist-grid','min','\x20slide-in-right','subscribe','Continue\x20watching\x20table\x20doesn\x27t\x20exist\x20yet','querySelectorAll','trim','payment-close','Error\x20checking\x20active_sessions:','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22no-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20items\x20in\x20your\x20list\x20yet.\x20Add\x20some\x20movies\x20or\x20TV\x20shows!</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','https://chromewebstore.google.com/detail/bkkbcggnhapdmkeljlodobbkopceiche?utm_source=item-share-cb','none','style','opacity','onerror','home-section','player-close','class','https://api.themoviedb.org/3/tv/','signOut','join','movies-section','first_air_date','span','Animation','Error\x20loading\x20episodes','hero-bookmark-btn-new','unsubscribe','show-signin','https://api.themoviedb.org/3/search/multi?query=','459juHuSi','Action','DELETE','video-loading','DOMContentLoaded','\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22','flex','episodes-list','player-modal','beforeunload','insert','keypress','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20class=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20loading=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27https://via.placeholder.com/500x750?text=No+Image\x27\x22\x0a\x20\x20\x20\x20\x20\x20>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-overlay\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22play-btn\x20hover-glow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22card-info\x22>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22card-title\x22>','Failed\x20to\x20remove\x20item','toggle','success','slice','Romance','https://player.videasy.net/tv/','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-title\x22>','maybeSingle','player-overlay','Please\x20log\x20in\x20to\x20stream\x20content','continue_watching','Escape','watch_progress','https://api.themoviedb.org/3/movie/popular','96833JGbsUo','account-link','lazy','Unexpected\x20error\x20during\x20signin','total_duration','code','install-extension-btn','handleSessionChange\x20error','heartbeat\x20error','hidden','key','extension-popup','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','</span>\x0a\x20\x20\x20\x20','Error\x20updating\x20watch\x20progress:','search-section','progress_percentage','28411850BCMqty','bookmarked','.payment-overlay','Add\x20to\x20bookmarks','Source\x202','poster_path','floor','Sign\x20up\x20successful!\x20Check\x20your\x20email\x20for\x20verification.','results'];_0x5e64=function(){return _0x582861;};return _0x5e64();}document[_0x423034(0x2bd)](_0x423034(0x1c5),function(){const _0x34f088=_0x423034;try{initApp(),cacheCommonElements(),setupIntersectionObservers(),preventBodyScrollWhenNeeded();}catch(_0x5625f2){console[_0x34f088(0x2a4)]('App\x20initialization\x20failed:',_0x5625f2),showNotification('Application\x20failed\x20to\x20load.\x20Please\x20refresh.',_0x34f088(0x2a4));}});function cacheCommonElements(){const _0x40cc50=_0x423034,_0x37d7cb=[_0x40cc50(0x2ac),_0x40cc50(0x295),_0x40cc50(0x230),'player-modal',_0x40cc50(0x224),_0x40cc50(0x186),_0x40cc50(0x22e),_0x40cc50(0x2af),_0x40cc50(0x23a),_0x40cc50(0x1a3),_0x40cc50(0x28f),_0x40cc50(0x298),_0x40cc50(0x1d6),_0x40cc50(0x1e7),_0x40cc50(0x2b0),_0x40cc50(0x2b9),'continue-watching-row'];_0x37d7cb[_0x40cc50(0x261)](_0x459ab5=>{const _0x458c6d=_0x40cc50;domCache[_0x458c6d(0x245)][_0x459ab5]=document[_0x458c6d(0x194)](_0x459ab5);});}function setupIntersectionObservers(){const _0x5cc666=_0x423034;if('IntersectionObserver'in window){const _0x56b253=new IntersectionObserver(_0x4f90b5=>{const _0x12746a=_0x14b8;_0x4f90b5[_0x12746a(0x261)](_0x449d7f=>{const _0xf9df9e=_0x12746a;if(_0x449d7f[_0xf9df9e(0x296)]){const _0x31e91f=_0x449d7f[_0xf9df9e(0x258)];_0x31e91f[_0xf9df9e(0x259)][_0xf9df9e(0x252)]&&(_0x31e91f[_0xf9df9e(0x252)]=_0x31e91f[_0xf9df9e(0x259)][_0xf9df9e(0x252)],_0x31e91f[_0xf9df9e(0x264)][_0xf9df9e(0x2d0)](_0xf9df9e(0x1de)),_0x56b253['unobserve'](_0x31e91f));}});},{'rootMargin':_0x5cc666(0x265),'threshold':0.01});domCache['observers']['set'](_0x5cc666(0x165),_0x56b253);}}function preventBodyScrollWhenNeeded(){const _0x162b21=_0x423034,_0x5aaa18=new MutationObserver(_0x1c9d20=>{const _0x5a54d3=_0x14b8;_0x1c9d20[_0x5a54d3(0x261)](_0x31e82e=>{const _0x5b6af2=_0x5a54d3;if(_0x31e82e[_0x5b6af2(0x2d6)]==='attributes'&&_0x31e82e['attributeName']===_0x5b6af2(0x1b4)){const _0x3e6fe7=domCache[_0x5b6af2(0x245)][_0x5b6af2(0x1c9)],_0x29bcbb=domCache[_0x5b6af2(0x245)][_0x5b6af2(0x2b0)];_0x3e6fe7&&_0x3e6fe7[_0x5b6af2(0x264)]['contains'](_0x5b6af2(0x280))||_0x29bcbb&&_0x29bcbb[_0x5b6af2(0x264)][_0x5b6af2(0x2a1)](_0x5b6af2(0x280))?(document[_0x5b6af2(0x220)]['style'][_0x5b6af2(0x21d)]=_0x5b6af2(0x1e5),isPlayerOpen=!![]):(document[_0x5b6af2(0x220)]['style'][_0x5b6af2(0x21d)]='',isPlayerOpen=![]);}});});domCache[_0x162b21(0x245)][_0x162b21(0x1c9)]&&_0x5aaa18['observe'](domCache['elements']['player-modal'],{'attributes':!![],'attributeFilter':[_0x162b21(0x1b4)]}),domCache[_0x162b21(0x245)][_0x162b21(0x2b0)]&&_0x5aaa18['observe'](domCache[_0x162b21(0x245)][_0x162b21(0x2b0)],{'attributes':!![],'attributeFilter':[_0x162b21(0x1b4)]});}async function isAllowedUser(_0x19b1ee){const _0x39a907=_0x423034;try{const {data:_0x4dd4eb,error:_0x40cac7}=await supabase[_0x39a907(0x26a)]('allowed_users')[_0x39a907(0x175)](_0x39a907(0x25d))['eq'](_0x39a907(0x25d),_0x19b1ee)[_0x39a907(0x1a0)]();if(_0x40cac7&&_0x40cac7[_0x39a907(0x1e1)]!==_0x39a907(0x218))return console[_0x39a907(0x2a4)](_0x39a907(0x273),_0x40cac7),![];return!!_0x4dd4eb;}catch(_0xbc4f78){return console['error']('Unexpected\x20error\x20checking\x20allowed\x20users:',_0xbc4f78),![];}}function initApp(){const _0x57ee04=_0x423034;try{setupAuthForms(),setupNavigation(),setupGenreFilters(),setupSearch(),setupPlayerControls(),setupAccountModal(),setupPaymentModal(),setupLogout(),setupHeroRotation(),setupExtensionPopup(),loadUser();}catch(_0xb1a70f){console[_0x57ee04(0x2a4)](_0x57ee04(0x17a),_0xb1a70f),showNotification(_0x57ee04(0x215),'error');}}function setupPaymentModal(){const _0x519db9=_0x423034,_0x1ade87=document[_0x519db9(0x194)](_0x519db9(0x2b0)),_0x5f226c=document[_0x519db9(0x1a8)](_0x519db9(0x27c)),_0x122f38=document['getElementById'](_0x519db9(0x1aa)),_0xfe744f=_0x1ade87?.[_0x519db9(0x190)](_0x519db9(0x1ef));_0x5f226c[_0x519db9(0x261)](_0x328449=>{const _0x39a9ec=_0x519db9;_0x328449?.[_0x39a9ec(0x2bd)](_0x39a9ec(0x270),_0x1a694c=>{const _0x171f5c=_0x39a9ec;_0x1a694c[_0x171f5c(0x253)](),openPaymentModal();});}),_0x122f38?.[_0x519db9(0x2bd)]('click',closePaymentModal),_0xfe744f?.[_0x519db9(0x2bd)]('click',closePaymentModal),document[_0x519db9(0x2bd)]('keydown',_0xca3e3e=>{const _0x5726d0=_0x519db9;_0xca3e3e[_0x5726d0(0x1e6)]==='Escape'&&_0x1ade87&&_0x1ade87[_0x5726d0(0x264)][_0x5726d0(0x2a1)](_0x5726d0(0x280))&&closePaymentModal();});}function openPaymentModal(){const _0x3b936a=_0x423034,_0x445f22=document[_0x3b936a(0x194)](_0x3b936a(0x2b0));_0x445f22&&(_0x445f22[_0x3b936a(0x264)][_0x3b936a(0x2c0)](_0x3b936a(0x280)),setTimeout(()=>{const _0x156a6e=_0x3b936a;_0x445f22[_0x156a6e(0x264)]['add']('show');},0x32));}function closePaymentModal(){const _0x2e277b=_0x423034,_0x2f09f2=document[_0x2e277b(0x194)](_0x2e277b(0x2b0));_0x2f09f2&&(_0x2f09f2[_0x2e277b(0x264)][_0x2e277b(0x2d0)]('show'),setTimeout(()=>{const _0x2f9ca0=_0x2e277b;_0x2f09f2[_0x2f9ca0(0x264)][_0x2f9ca0(0x2d0)]('active');},0x12c));}function setupExtensionPopup(){const _0x3bde08=_0x423034,_0x1c082b=document[_0x3bde08(0x194)](_0x3bde08(0x1e7)),_0x3a6445=document[_0x3bde08(0x194)](_0x3bde08(0x1e2)),_0xac256f=document[_0x3bde08(0x194)](_0x3bde08(0x203));_0x3a6445&&_0x3a6445['addEventListener'](_0x3bde08(0x270),()=>{const _0x4ca9b3=_0x3bde08;window[_0x4ca9b3(0x16f)](_0x4ca9b3(0x1ad),_0x4ca9b3(0x14e));}),_0xac256f&&_0xac256f[_0x3bde08(0x2bd)](_0x3bde08(0x270),()=>{closeExtensionPopup();}),document['addEventListener']('keydown',_0x50b3a8=>{const _0x310a54=_0x3bde08;_0x50b3a8[_0x310a54(0x1e6)]==='Escape'&&_0x1c082b&&_0x1c082b[_0x310a54(0x264)][_0x310a54(0x2a1)](_0x310a54(0x280))&&closeExtensionPopup();});}function showExtensionPopup(){const _0x5b9afe=_0x423034,_0x30a5e1=document[_0x5b9afe(0x194)](_0x5b9afe(0x1e7));_0x30a5e1&&(_0x30a5e1[_0x5b9afe(0x264)]['add'](_0x5b9afe(0x280)),setTimeout(()=>{const _0x342ba6=_0x5b9afe;_0x30a5e1[_0x342ba6(0x264)]['add'](_0x342ba6(0x16a));},0x32));}function closeExtensionPopup(){const _0x5302e3=_0x423034,_0x518ae3=document['getElementById'](_0x5302e3(0x1e7));_0x518ae3&&(_0x518ae3[_0x5302e3(0x264)]['remove'](_0x5302e3(0x16a)),setTimeout(()=>{const _0x6d6df8=_0x5302e3;_0x518ae3[_0x6d6df8(0x264)][_0x6d6df8(0x2d0)]('active');},0x12c));}function setupHeroRotation(){const _0x40368e=_0x423034,_0x4a1070=document[_0x40368e(0x194)](_0x40368e(0x298));_0x4a1070&&(_0x4a1070[_0x40368e(0x2bd)](_0x40368e(0x18e),()=>{rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null,rotationPaused=!![]);}),_0x4a1070[_0x40368e(0x2bd)](_0x40368e(0x226),()=>{const _0xa305f8=_0x40368e;rotationPaused&&featuredQueue[_0xa305f8(0x233)]>=0x2&&(startRotation(),rotationPaused=![]);}));}function setupAuthForms(){const _0x173ba7=_0x423034;document['getElementById'](_0x173ba7(0x290))?.['addEventListener'](_0x173ba7(0x270),_0x57b61f=>{const _0x18d391=_0x173ba7;_0x57b61f[_0x18d391(0x253)](),smoothTransition(_0x18d391(0x237),'signup-form');}),document[_0x173ba7(0x194)](_0x173ba7(0x1bf))?.[_0x173ba7(0x2bd)](_0x173ba7(0x270),_0x291c37=>{const _0x4f40aa=_0x173ba7;_0x291c37[_0x4f40aa(0x253)](),smoothTransition(_0x4f40aa(0x17b),'signin-form');}),document[_0x173ba7(0x194)](_0x173ba7(0x170))?.[_0x173ba7(0x2bd)](_0x173ba7(0x270),_0x19d472=>{const _0x43141a=_0x173ba7;_0x19d472['preventDefault'](),smoothTransition('signin-form',_0x43141a(0x166));}),document[_0x173ba7(0x194)](_0x173ba7(0x161))?.[_0x173ba7(0x2bd)]('click',_0x38b7a6=>{const _0x2ed7d4=_0x173ba7;_0x38b7a6[_0x2ed7d4(0x253)](),smoothTransition(_0x2ed7d4(0x166),'signin-form');}),setupFormSubmission('signup-form',handleSignup),setupFormSubmission(_0x173ba7(0x237),handleSignin),setupFormSubmission(_0x173ba7(0x166),handleReset);}function setupFormSubmission(_0x36754f,_0x499a2c){const _0x5af4e0=_0x423034,_0x115eda=document['getElementById'](_0x36754f)?.[_0x5af4e0(0x190)]('form');_0x115eda&&_0x115eda[_0x5af4e0(0x2bd)]('submit',_0x499a2c);}async function handleSignup(_0x41943f){const _0x13ae2f=_0x423034;_0x41943f[_0x13ae2f(0x253)]();const _0x4f7656=_0x41943f[_0x13ae2f(0x258)]['querySelector'](_0x13ae2f(0x1fa)),_0x1dccb1=_0x4f7656[_0x13ae2f(0x18b)];_0x4f7656['textContent']=_0x13ae2f(0x2e8),_0x4f7656[_0x13ae2f(0x169)]=!![];try{const _0x266222=document[_0x13ae2f(0x194)](_0x13ae2f(0x2e2))['value'],_0x525bfa=document[_0x13ae2f(0x194)](_0x13ae2f(0x229))[_0x13ae2f(0x283)],_0x15f9cb=document['getElementById'](_0x13ae2f(0x17f))[_0x13ae2f(0x283)];if(_0x525bfa!==_0x15f9cb){showNotification(_0x13ae2f(0x227),_0x13ae2f(0x2a4));return;}if(_0x525bfa[_0x13ae2f(0x233)]<0x6){showNotification(_0x13ae2f(0x282),_0x13ae2f(0x2a4));return;}const {data:_0x1e4df9,error:_0x11f085}=await supabase[_0x13ae2f(0x262)][_0x13ae2f(0x25f)]({'email':_0x266222,'password':_0x525bfa});_0x11f085?showNotification(_0x11f085[_0x13ae2f(0x18c)],'error'):(showNotification(_0x13ae2f(0x1f4),_0x13ae2f(0x1d0)),smoothTransition('signup-form','signin-form'));}catch(_0x36d792){showNotification('Unexpected\x20error\x20during\x20signup',_0x13ae2f(0x2a4));}finally{_0x4f7656[_0x13ae2f(0x18b)]=_0x1dccb1,_0x4f7656[_0x13ae2f(0x169)]=![];}}async function handleSignin(_0x3ec748){const _0x1e115b=_0x423034;_0x3ec748[_0x1e115b(0x253)]();const _0x47a259=_0x3ec748['target']['querySelector'](_0x1e115b(0x1fa)),_0x5a8f67=_0x47a259['textContent'];_0x47a259[_0x1e115b(0x18b)]=_0x1e115b(0x2ce),_0x47a259[_0x1e115b(0x169)]=!![];try{const _0x4e7daa=document[_0x1e115b(0x194)](_0x1e115b(0x2cc))[_0x1e115b(0x283)],_0x12e841=document[_0x1e115b(0x194)](_0x1e115b(0x25a))[_0x1e115b(0x283)],_0x360ec5=await isAllowedUser(_0x4e7daa);if(!_0x360ec5){showNotification(_0x1e115b(0x29f),'error');return;}const {data:_0x20ae55,error:_0x5512f8}=await supabase[_0x1e115b(0x262)]['signInWithPassword']({'email':_0x4e7daa,'password':_0x12e841});if(_0x5512f8){showNotification(_0x5512f8[_0x1e115b(0x18c)],_0x1e115b(0x2a4));return;}const _0x5f0437=_0x20ae55?.['user'];if(!_0x5f0437){showNotification('Sign-in\x20did\x20not\x20return\x20a\x20user\x20object.',_0x1e115b(0x2a4));return;}const _0x54ed2c=await registerSessionForUser(_0x5f0437);if(!_0x54ed2c)return;showNotification(_0x1e115b(0x19e),_0x1e115b(0x1d0)),await loadUser(),setTimeout(()=>{showExtensionPopup();},0x320);}catch(_0x727f72){console[_0x1e115b(0x2a4)](_0x727f72),showNotification(_0x1e115b(0x1df),_0x1e115b(0x2a4));}finally{_0x47a259[_0x1e115b(0x18b)]=_0x5a8f67,_0x47a259[_0x1e115b(0x169)]=![];}}async function handleReset(_0x571a27){const _0xbe3fa3=_0x423034;_0x571a27[_0xbe3fa3(0x253)]();const _0x415594=_0x571a27[_0xbe3fa3(0x258)][_0xbe3fa3(0x190)](_0xbe3fa3(0x1fa)),_0x2b0997=_0x415594[_0xbe3fa3(0x18b)];_0x415594[_0xbe3fa3(0x18b)]=_0xbe3fa3(0x21b),_0x415594[_0xbe3fa3(0x169)]=!![];try{const _0x191974=document[_0xbe3fa3(0x194)]('reset-email')['value'],{error:_0x5345d4}=await supabase['auth']['resetPasswordForEmail'](_0x191974);_0x5345d4?showNotification(_0x5345d4[_0xbe3fa3(0x18c)],_0xbe3fa3(0x2a4)):showNotification('Reset\x20link\x20sent\x20to\x20your\x20email!',_0xbe3fa3(0x1d0));}catch(_0xcf0932){showNotification('Unexpected\x20error\x20during\x20password\x20reset',_0xbe3fa3(0x2a4));}finally{_0x415594[_0xbe3fa3(0x18b)]=_0x2b0997,_0x415594[_0xbe3fa3(0x169)]=![];}}let _sessionChannel=null,_heartbeatIntervalId=null;function getDeviceId(){const _0x2fdc4f=_0x423034,_0x2af117=_0x2fdc4f(0x22d);let _0x4952af=localStorage[_0x2fdc4f(0x232)](_0x2af117);if(!_0x4952af){try{_0x4952af=crypto[_0x2fdc4f(0x23d)]();}catch(_0x582a9c){_0x4952af=Date[_0x2fdc4f(0x28b)]()['toString'](0x24)+Math['random']()[_0x2fdc4f(0x214)](0x24)[_0x2fdc4f(0x1d1)](0x2);}localStorage[_0x2fdc4f(0x183)](_0x2af117,_0x4952af);}return _0x4952af;}async function registerSessionForUser(_0x2ffc4f){const _0x458e06=_0x423034,_0x4f19d2=getDeviceId();try{const {data:_0x1517e7,error:_0x41926e}=await supabase[_0x458e06(0x26a)]('active_sessions')[_0x458e06(0x175)]('*')['eq']('user_id',_0x2ffc4f['id'])[_0x458e06(0x1d5)]();_0x41926e&&console[_0x458e06(0x2a4)](_0x458e06(0x1ab),_0x41926e);if(_0x1517e7&&_0x1517e7['is_active']&&_0x1517e7[_0x458e06(0x185)]&&_0x1517e7['device_id']!==_0x4f19d2)return await supabase['auth'][_0x458e06(0x1b6)](),showNotification(_0x458e06(0x251),_0x458e06(0x2a4)),![];return await supabase[_0x458e06(0x26a)](_0x458e06(0x2bf))[_0x458e06(0x2b4)]({'user_id':_0x2ffc4f['id'],'device_id':_0x4f19d2,'is_active':!![],'session_flag':'S','last_heartbeat':new Date()[_0x458e06(0x285)]()},{'returning':'minimal'}),startSessionRealtimeSubscription(_0x2ffc4f['id'],_0x4f19d2),startHeartbeat(_0x2ffc4f['id'],_0x4f19d2),!![];}catch(_0x1f7998){return console[_0x458e06(0x2a4)](_0x458e06(0x2e7),_0x1f7998),![];}}function startHeartbeat(_0x1a269d,_0x5f4a83){stopHeartbeat(),_heartbeatIntervalId=setInterval(async()=>{const _0x2b89c0=_0x14b8;try{await supabase[_0x2b89c0(0x26a)](_0x2b89c0(0x2bf))[_0x2b89c0(0x2b4)]({'user_id':_0x1a269d,'device_id':_0x5f4a83,'last_heartbeat':new Date()[_0x2b89c0(0x285)]()},{'returning':'minimal'});}catch(_0x548194){console[_0x2b89c0(0x2a4)](_0x2b89c0(0x1e4),_0x548194);}},0xea60);}function stopHeartbeat(){_heartbeatIntervalId&&(clearInterval(_heartbeatIntervalId),_heartbeatIntervalId=null);}function startSessionRealtimeSubscription(_0x39612c,_0x13abe9){const _0x269cf7=_0x423034;if(_sessionChannel){try{supabase[_0x269cf7(0x25e)](_sessionChannel);}catch(_0x46a082){}_sessionChannel=null;}const _0x5adce7=_0x269cf7(0x2d1)+_0x39612c;_sessionChannel=supabase[_0x269cf7(0x1fe)](_0x5adce7)['on']('postgres_changes',{'event':'*','schema':_0x269cf7(0x27d),'table':_0x269cf7(0x2bf),'filter':_0x269cf7(0x2eb)+_0x39612c},_0x1e784d=>{handleSessionChange(_0x1e784d,_0x13abe9);})[_0x269cf7(0x1a6)](_0x4cb9ba=>{});}function stopSessionRealtimeSubscription(){const _0x4f960f=_0x423034;if(!_sessionChannel)return;try{supabase[_0x4f960f(0x25e)](_sessionChannel);}catch(_0x3f2e77){try{_sessionChannel[_0x4f960f(0x1be)]();}catch(_0x41c0ed){}}_sessionChannel=null;}async function handleSessionChange(_0x598d2d,_0x80a009){const _0x26cdcc=_0x423034;try{const _0x4db32f=_0x598d2d[_0x26cdcc(0x275)]||_0x598d2d[_0x26cdcc(0x15f)],_0x5a282e=_0x598d2d[_0x26cdcc(0x26e)],_0x4aae26=_0x598d2d[_0x26cdcc(0x297)],_0x113a7d=_0x5a282e||_0x4aae26;if(!_0x113a7d)return;if(_0x4db32f===_0x26cdcc(0x1c3)){_0x4aae26['device_id']===_0x80a009&&await forceLocalSignOut(_0x26cdcc(0x2ae));return;}if(_0x113a7d[_0x26cdcc(0x147)]===![]||_0x113a7d[_0x26cdcc(0x184)]&&_0x113a7d[_0x26cdcc(0x184)][_0x26cdcc(0x1a1)]()==='N'){await forceLocalSignOut(_0x26cdcc(0x167));return;}if(_0x113a7d[_0x26cdcc(0x185)]&&_0x113a7d[_0x26cdcc(0x185)]!==_0x80a009){await forceLocalSignOut(_0x26cdcc(0x19b));return;}}catch(_0x511586){console['error'](_0x26cdcc(0x1e3),_0x511586);}}async function forceLocalSignOut(_0x303da5){const _0x49fb76=_0x423034;stopHeartbeat(),stopSessionRealtimeSubscription();try{await supabase[_0x49fb76(0x262)][_0x49fb76(0x1b6)]();}catch(_0x3d2e49){console[_0x49fb76(0x176)](_0x49fb76(0x2cb),_0x3d2e49);}showNotification(_0x303da5,_0x49fb76(0x20d)),showUnauthenticatedUI();}async function endSessionForUser(_0x23c254){const _0x5a217d=_0x423034;try{const _0x34285d=getDeviceId();await supabase[_0x5a217d(0x26a)]('active_sessions')[_0x5a217d(0x2b4)]({'user_id':_0x23c254['id'],'device_id':_0x34285d,'is_active':![],'session_flag':'N','last_heartbeat':new Date()[_0x5a217d(0x285)]()},{'returning':_0x5a217d(0x195)});}catch(_0x3788f0){console['error'](_0x5a217d(0x291),_0x3788f0);}finally{stopHeartbeat(),stopSessionRealtimeSubscription();}}function setupLogout(){const _0x2f4517=_0x423034;document[_0x2f4517(0x194)](_0x2f4517(0x235))?.[_0x2f4517(0x2bd)](_0x2f4517(0x270),async _0x148b3e=>{const _0x8d90aa=_0x2f4517;_0x148b3e[_0x8d90aa(0x253)]();try{rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null);const _0x3b0521=currentUser;_0x3b0521&&await endSessionForUser(_0x3b0521),await supabase[_0x8d90aa(0x262)][_0x8d90aa(0x1b6)](),currentUser=null,bookmarks=[],continueWatching=[],featuredQueue=[],featuredIndex=0x0,showNotification(_0x8d90aa(0x2b6),_0x8d90aa(0x1d0)),showUnauthenticatedUI();}catch(_0x1e0362){console[_0x8d90aa(0x2a4)](_0x1e0362),showNotification('Error\x20signing\x20out',_0x8d90aa(0x2a4));}});}function setupNavigation(){const _0x218784=_0x423034;document[_0x218784(0x1a8)](_0x218784(0x1f8))['forEach'](_0x36a9ac=>{const _0x549c4e=_0x218784;_0x36a9ac[_0x549c4e(0x2bd)](_0x549c4e(0x270),debounce(_0x271d9d=>{const _0x96156f=_0x549c4e;_0x271d9d[_0x96156f(0x253)](),document[_0x96156f(0x1a8)](_0x96156f(0x1f8))['forEach'](_0x17fd86=>_0x17fd86['classList'][_0x96156f(0x2d0)](_0x96156f(0x280))),_0x36a9ac[_0x96156f(0x264)][_0x96156f(0x2c0)](_0x96156f(0x280)),document['querySelectorAll'](_0x96156f(0x2a6))[_0x96156f(0x261)](_0x545257=>_0x545257[_0x96156f(0x264)][_0x96156f(0x2d0)]('active'));const _0x5c0653=document['getElementById'](_0x36a9ac['dataset']['section']+_0x96156f(0x2c3));_0x5c0653&&(_0x5c0653['classList'][_0x96156f(0x2c0)](_0x96156f(0x280)),_0x36a9ac['dataset'][_0x96156f(0x28c)]!==_0x96156f(0x240)&&rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null),loadSectionContent(_0x36a9ac['dataset']['section']));},0x96));});}function setupGenreFilters(){const _0x3b71d0=_0x423034;document['querySelectorAll']('.genre-btn')[_0x3b71d0(0x261)](_0x3b37b0=>{const _0x132635=_0x3b71d0;_0x3b37b0[_0x132635(0x2bd)]('click',debounce(()=>{const _0x2c7c0b=_0x132635,_0x5a7b83=document['querySelector'](_0x2c7c0b(0x249));if(!_0x5a7b83)return;const _0x34a0cf=_0x5a7b83['id'],_0x4cedcd=_0x3b37b0[_0x2c7c0b(0x259)][_0x2c7c0b(0x199)];document[_0x2c7c0b(0x1a8)](_0x2c7c0b(0x18a))[_0x2c7c0b(0x261)](_0x3afbd7=>_0x3afbd7['classList']['remove']('active')),_0x3b37b0['classList']['add'](_0x2c7c0b(0x280));if(_0x34a0cf===_0x2c7c0b(0x1b8))loadMovies(_0x4cedcd);else _0x34a0cf===_0x2c7c0b(0x247)&&loadTVShows(_0x4cedcd);},0xc8));});}function setupSearch(){const _0x116b7d=_0x423034,_0x1a2dda=document[_0x116b7d(0x194)](_0x116b7d(0x2a0));if(!_0x1a2dda)return;_0x1a2dda['addEventListener'](_0x116b7d(0x155),_0x2295e7=>{clearTimeout(searchDebounce),searchDebounce=setTimeout(()=>{const _0x3ff64d=_0x14b8;performSearch(_0x2295e7[_0x3ff64d(0x258)][_0x3ff64d(0x283)][_0x3ff64d(0x1a9)]());},0x320);}),document['getElementById'](_0x116b7d(0x188))?.[_0x116b7d(0x2bd)](_0x116b7d(0x270),()=>{const _0x34424a=_0x116b7d;_0x1a2dda[_0x34424a(0x283)]='',showHomeSection();});}function setupPlayerControls(){const _0x93624a=_0x423034;document[_0x93624a(0x194)](_0x93624a(0x1b3))?.[_0x93624a(0x2bd)](_0x93624a(0x270),closePlayer);}function setupAccountModal(){const _0x174fa7=_0x423034;document['getElementById'](_0x174fa7(0x1dd))?.[_0x174fa7(0x2bd)](_0x174fa7(0x270),_0x501877=>{const _0x431571=_0x174fa7;_0x501877['preventDefault'](),document[_0x431571(0x194)](_0x431571(0x16b))?.[_0x431571(0x264)]['add'](_0x431571(0x280));}),document[_0x174fa7(0x194)](_0x174fa7(0x209))?.[_0x174fa7(0x2bd)]('click',()=>{const _0x2e12dd=_0x174fa7;document[_0x2e12dd(0x194)](_0x2e12dd(0x16b))?.[_0x2e12dd(0x264)][_0x2e12dd(0x2d0)](_0x2e12dd(0x280));});}function smoothTransition(_0x4d44c5,_0x1e48ed){const _0x9e8fc0=_0x423034,_0x11ad64=document[_0x9e8fc0(0x194)](_0x4d44c5),_0x3f1576=document['getElementById'](_0x1e48ed);if(!_0x11ad64||!_0x3f1576)return;_0x11ad64[_0x9e8fc0(0x264)]['add'](_0x9e8fc0(0x284)),setTimeout(()=>{const _0x468bf7=_0x9e8fc0;_0x11ad64['classList']['remove'](_0x468bf7(0x280),_0x468bf7(0x284)),_0x3f1576[_0x468bf7(0x264)][_0x468bf7(0x2c0)](_0x468bf7(0x280),_0x468bf7(0x15b)),setTimeout(()=>{const _0x9356fb=_0x468bf7;_0x3f1576[_0x9356fb(0x264)][_0x9356fb(0x2d0)](_0x9356fb(0x15b));},0x190);},0x96);}function debounce(_0x1fdaba,_0x4396be){let _0x2281fb;return function _0x2bad90(..._0x31e910){const _0xd2459=()=>{clearTimeout(_0x2281fb),_0x1fdaba(..._0x31e910);};clearTimeout(_0x2281fb),_0x2281fb=setTimeout(_0xd2459,_0x4396be);};}async function loadUser(){const _0x5c051a=_0x423034;try{const {data:_0x2c37ef,error:_0x4bd495}=await supabase[_0x5c051a(0x262)][_0x5c051a(0x15d)](),_0x4b3d1e=_0x2c37ef?.['user'],_0x57c771=domCache['elements'][_0x5c051a(0x186)];_0x57c771&&(_0x57c771[_0x5c051a(0x264)][_0x5c051a(0x2c0)](_0x5c051a(0x284)),setTimeout(()=>{const _0x2db492=_0x5c051a;_0x57c771['style'][_0x2db492(0x2b3)]=_0x2db492(0x1ae);},0x1f4)),_0x4b3d1e?(currentUser=_0x4b3d1e,await registerSessionForUser(_0x4b3d1e),await loadBookmarksFromSupabase(),await loadContinueWatching(),showAuthenticatedUI(),setTimeout(()=>{showExtensionPopup();},0x3e8)):(currentUser=null,showUnauthenticatedUI());}catch(_0xc0881f){console[_0x5c051a(0x2a4)]('Error\x20loading\x20user:',_0xc0881f),showUnauthenticatedUI(),showNotification(_0x5c051a(0x2d9),_0x5c051a(0x2a4));}}async function loadBookmarksFromSupabase(){const _0x45dde4=_0x423034;if(!currentUser)return;try{const {data:_0x4069aa,error:_0x24d580}=await supabase['from'](_0x45dde4(0x2e9))[_0x45dde4(0x175)]('*')['eq'](_0x45dde4(0x2c4),currentUser['id'])[_0x45dde4(0x24d)](_0x45dde4(0x29d),{'ascending':![]});if(_0x24d580){if(_0x24d580['code']===_0x45dde4(0x27b)||_0x24d580[_0x45dde4(0x18c)][_0x45dde4(0x187)](_0x45dde4(0x24b))){showNotification(_0x45dde4(0x2ca),_0x45dde4(0x20d)),bookmarks=[];return;}throw _0x24d580;}bookmarks=_0x4069aa[_0x45dde4(0x29a)](_0x28e37a=>({'id':_0x28e37a['media_id'],'media_type':_0x28e37a['media_type'],'title':_0x28e37a[_0x45dde4(0x289)],'name':_0x28e37a['title'],'poster_path':_0x28e37a[_0x45dde4(0x1f2)],'vote_average':_0x28e37a['vote_average']||0x0,'release_date':_0x28e37a[_0x45dde4(0x193)]||'','first_air_date':_0x28e37a[_0x45dde4(0x1b9)]||''}));}catch(_0x2eccaa){console['error'](_0x45dde4(0x2c2),_0x2eccaa),showNotification(_0x45dde4(0x2ca),'warning'),bookmarks=[];}}async function loadContinueWatching(){const _0x3d9f2c=_0x423034;if(!currentUser)return;try{const {data:_0x5f06d,error:_0x43e37f}=await supabase[_0x3d9f2c(0x26a)](_0x3d9f2c(0x1d8))[_0x3d9f2c(0x175)]('*')['eq']('user_id',currentUser['id'])['eq']('completed',![])[_0x3d9f2c(0x274)](_0x3d9f2c(0x1da),0x3c)[_0x3d9f2c(0x24d)](_0x3d9f2c(0x2a2),{'ascending':![]})[_0x3d9f2c(0x219)](0xc);if(_0x43e37f){if(_0x43e37f[_0x3d9f2c(0x1e1)]===_0x3d9f2c(0x27b)||_0x43e37f['message']['includes']('does\x20not\x20exist')){console[_0x3d9f2c(0x2c1)](_0x3d9f2c(0x1a7)),continueWatching=[];return;}throw _0x43e37f;}continueWatching=_0x5f06d['map'](_0x1c02fd=>({'id':_0x1c02fd[_0x3d9f2c(0x204)],'media_type':_0x1c02fd['media_type'],'title':_0x1c02fd[_0x3d9f2c(0x289)],'name':_0x1c02fd['title'],'poster_path':_0x1c02fd[_0x3d9f2c(0x1f2)],'watch_progress':_0x1c02fd[_0x3d9f2c(0x1da)],'total_duration':_0x1c02fd[_0x3d9f2c(0x1e0)],'progress_percentage':_0x1c02fd[_0x3d9f2c(0x1e0)]>0x0?_0x1c02fd[_0x3d9f2c(0x1da)]/_0x1c02fd[_0x3d9f2c(0x1e0)]*0x64:0x0}));const _0xdf75ad=document['getElementById'](_0x3d9f2c(0x198));_0xdf75ad&&(_0xdf75ad['style'][_0x3d9f2c(0x2b3)]=continueWatching[_0x3d9f2c(0x233)]>0x0?_0x3d9f2c(0x2b8):_0x3d9f2c(0x1ae));}catch(_0x25f66){console[_0x3d9f2c(0x2a4)](_0x3d9f2c(0x162),_0x25f66),continueWatching=[];}}function renderContinueWatching(){const _0x357a8c=_0x423034,_0x3ad0e2=domCache[_0x357a8c(0x245)][_0x357a8c(0x2b9)];if(!_0x3ad0e2)return;while(_0x3ad0e2['firstChild']){_0x3ad0e2[_0x357a8c(0x246)](_0x3ad0e2[_0x357a8c(0x2bb)]);}if(continueWatching[_0x357a8c(0x233)]===0x0){const _0x55ffb6=document[_0x357a8c(0x194)](_0x357a8c(0x198));if(_0x55ffb6)_0x55ffb6[_0x357a8c(0x1af)][_0x357a8c(0x2b3)]='none';return;}const _0x6a287d=document[_0x357a8c(0x234)]();continueWatching['forEach']((_0x59f131,_0xe73b0a)=>{const _0x14ee80=_0x357a8c,_0x19d5fc=createContinueWatchingCard(_0x59f131,_0xe73b0a);_0x6a287d[_0x14ee80(0x25b)](_0x19d5fc);}),_0x3ad0e2[_0x357a8c(0x25b)](_0x6a287d),setupLazyLoadingForGrid(_0x3ad0e2);}function createContinueWatchingCard(_0x489f40,_0x41aef7){const _0x1e3e45=_0x423034,_0x5aad1e=_0x489f40[_0x1e3e45(0x289)]||_0x489f40['name'],_0x187b55=Math[_0x1e3e45(0x1a4)](_0x489f40[_0x1e3e45(0x1ec)]||0x0,0x64),_0x3e73a7=document[_0x1e3e45(0x2ad)](_0x1e3e45(0x248));_0x3e73a7[_0x1e3e45(0x2d8)]='media-card\x20continue-watching-card\x20hover-glow',_0x3e73a7[_0x1e3e45(0x1af)][_0x1e3e45(0x23e)]=_0x41aef7*0x32+'ms',_0x3e73a7[_0x1e3e45(0x26c)]=0x0,_0x3e73a7[_0x1e3e45(0x171)]=_0x1e3e45(0x1ff)+_0x489f40['id']+_0x1e3e45(0x1f9)+_0x489f40['poster_path']+_0x1e3e45(0x164)+_0x5aad1e+_0x1e3e45(0x156)+_0x187b55+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22card-info\x22>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22card-title\x22>'+_0x5aad1e+_0x1e3e45(0x206)+Math['round'](_0x187b55)+_0x1e3e45(0x172)+(_0x489f40[_0x1e3e45(0x2e0)]==='tv'?'TV':'Movie')+_0x1e3e45(0x2e4);const _0x4591db=_0x3e73a7[_0x1e3e45(0x190)](_0x1e3e45(0x16d));_0x4591db&&_0x4591db[_0x1e3e45(0x2bd)](_0x1e3e45(0x270),_0x4d0b59=>{const _0xf44429=_0x1e3e45;_0x4d0b59[_0xf44429(0x2dd)](),openPlayer({..._0x489f40,'media_type':_0x489f40['media_type']});});_0x3e73a7[_0x1e3e45(0x2bd)](_0x1e3e45(0x270),debounce(()=>{const _0x3110ca=_0x1e3e45;openPlayer({..._0x489f40,'media_type':_0x489f40[_0x3110ca(0x2e0)]});},0x12c));const _0x56aad6=_0x3e73a7['querySelector'](_0x1e3e45(0x293));return _0x56aad6&&_0x56aad6[_0x1e3e45(0x2bd)](_0x1e3e45(0x270),_0x1b5666=>{_0x1b5666['stopPropagation'](),removeContinueWatching(_0x489f40['id']);}),_0x3e73a7;}async function removeContinueWatching(_0x59f03c){const _0x19719d=_0x423034;if(!currentUser)return;try{const {error:_0x55d9e9}=await supabase[_0x19719d(0x26a)](_0x19719d(0x1d8))[_0x19719d(0x2c7)]()['eq'](_0x19719d(0x2c4),currentUser['id'])['eq']('media_id',_0x59f03c);if(_0x55d9e9)throw _0x55d9e9;continueWatching=continueWatching[_0x19719d(0x2a5)](_0x58141a=>_0x58141a['id']!==_0x59f03c),renderContinueWatching(),showNotification('Removed\x20from\x20Continue\x20Watching',_0x19719d(0x1d0));}catch(_0x405765){console[_0x19719d(0x2a4)](_0x19719d(0x27a),_0x405765),showNotification(_0x19719d(0x1ce),'error');}}async function updateWatchProgress(_0x4d0845,_0x199532,_0x4fc0b0){const _0x13440b=_0x423034;if(!currentUser||!_0x4d0845||_0x199532<0x3c)return;try{const _0x77d607=_0x4fc0b0>0x0?_0x199532/_0x4fc0b0*0x64:0x0,_0x249c5f=_0x77d607>0x5a,{error:_0xba380e}=await supabase[_0x13440b(0x26a)](_0x13440b(0x1d8))[_0x13440b(0x2b4)]({'user_id':currentUser['id'],'media_id':_0x4d0845['id'],'media_type':_0x4d0845['media_type'],'title':_0x4d0845[_0x13440b(0x289)]||_0x4d0845[_0x13440b(0x223)],'poster_path':_0x4d0845[_0x13440b(0x1f2)],'watch_progress':Math[_0x13440b(0x1f3)](_0x199532),'total_duration':Math[_0x13440b(0x1f3)](_0x4fc0b0),'last_watched_at':new Date()['toISOString'](),'completed':_0x249c5f},{'onConflict':_0x13440b(0x14b),'returning':_0x13440b(0x195)});if(_0xba380e)throw _0xba380e;}catch(_0x5ede0b){console[_0x13440b(0x2a4)](_0x13440b(0x1ea),_0x5ede0b);}}function showAuthenticatedUI(){const _0x1819e2=_0x423034,{'auth-container':_0x1894fe,'main-header':_0x547f4c,'main-content':_0x49afb3}=domCache[_0x1819e2(0x245)];if(_0x1894fe)_0x1894fe[_0x1819e2(0x1af)][_0x1819e2(0x2b3)]='none';if(_0x547f4c)_0x547f4c[_0x1819e2(0x1af)]['display']=_0x1819e2(0x1c7);if(_0x49afb3)_0x49afb3[_0x1819e2(0x1af)][_0x1819e2(0x2b3)]=_0x1819e2(0x2b8);document[_0x1819e2(0x194)](_0x1819e2(0x174))[_0x1819e2(0x18b)]=currentUser['email'],document[_0x1819e2(0x194)](_0x1819e2(0x1fd))['textContent']=new Date(currentUser[_0x1819e2(0x2e5)])[_0x1819e2(0x2b2)](),loadSectionContent(_0x1819e2(0x240));}function showUnauthenticatedUI(){const _0xb72ea8=_0x423034,{'auth-container':_0x324270,'main-header':_0x3b719a,'main-content':_0x4cd0f3}=domCache[_0xb72ea8(0x245)];if(_0x324270)_0x324270[_0xb72ea8(0x1af)]['display']='flex';if(_0x3b719a)_0x3b719a[_0xb72ea8(0x1af)][_0xb72ea8(0x2b3)]=_0xb72ea8(0x1ae);if(_0x4cd0f3)_0x4cd0f3[_0xb72ea8(0x1af)]['display']=_0xb72ea8(0x1ae);}function showHomeSection(){const _0x247098=_0x423034;document[_0x247098(0x1a8)](_0x247098(0x2a6))[_0x247098(0x261)](_0x2e38b2=>_0x2e38b2[_0x247098(0x264)][_0x247098(0x2d0)](_0x247098(0x280))),document[_0x247098(0x194)](_0x247098(0x1b2))?.[_0x247098(0x264)][_0x247098(0x2c0)](_0x247098(0x280)),document['querySelectorAll'](_0x247098(0x1f8))[_0x247098(0x261)](_0x20a2a4=>_0x20a2a4[_0x247098(0x264)][_0x247098(0x2d0)](_0x247098(0x280))),document[_0x247098(0x190)](_0x247098(0x216))?.[_0x247098(0x264)]['add'](_0x247098(0x280));}function loadSectionContent(_0x53c175){const _0x4cfc8a=_0x423034;showLoadingForSection(_0x53c175);switch(_0x53c175){case'home':Promise[_0x4cfc8a(0x153)]([loadFeaturedContent(),loadTrending(),loadPopularMovies(),loadPopularTVShows()])['then'](()=>{renderContinueWatching();})[_0x4cfc8a(0x2d7)](()=>{const _0x326917=_0x4cfc8a;hideLoadingForSection(_0x53c175);const _0x22e3ba=document[_0x326917(0x194)](_0x326917(0x1b2));_0x22e3ba&&_0x22e3ba[_0x326917(0x264)][_0x326917(0x2a1)]('active')&&featuredQueue[_0x326917(0x233)]>0x0&&startRotation();});break;case _0x4cfc8a(0x154):loadMovies('all')[_0x4cfc8a(0x2d7)](()=>hideLoadingForSection(_0x53c175));break;case'tv':loadTVShows(_0x4cfc8a(0x153))['finally'](()=>hideLoadingForSection(_0x53c175));break;case _0x4cfc8a(0x243):loadBookmarks(),hideLoadingForSection(_0x53c175);break;}}function showLoadingForSection(_0x481341){const _0xc614e5=_0x423034,_0x3be41b=document[_0xc614e5(0x194)](_0x481341+_0xc614e5(0x2c3));if(_0x3be41b&&!_0x3be41b['querySelector'](_0xc614e5(0x212))){const _0x2225e9=document[_0xc614e5(0x2ad)](_0xc614e5(0x248));_0x2225e9[_0xc614e5(0x2d8)]='loading-indicator',_0x2225e9[_0xc614e5(0x171)]='<div\x20class=\x22spinner\x22></div><p>Loading\x20content...</p>',_0x3be41b[_0xc614e5(0x25b)](_0x2225e9);}}function hideLoadingForSection(_0x4762dc){const _0x53d03b=_0x423034,_0x3f9c4e=document[_0x53d03b(0x194)](_0x4762dc+_0x53d03b(0x2c3)),_0x5da90b=_0x3f9c4e?.[_0x53d03b(0x190)]('.loading-indicator');_0x5da90b&&_0x5da90b['remove']();}async function fetchWithTimeout(_0x2ec696,_0xf0ecec={},_0x54bbe3=0x2710){const _0x26a446=_0x423034,_0x23c3da=new AbortController(),_0x57157e=setTimeout(()=>_0x23c3da[_0x26a446(0x26f)](),_0x54bbe3);try{const _0x166f21=await fetch(_0x2ec696,{..._0xf0ecec,'signal':_0x23c3da['signal']});return clearTimeout(_0x57157e),_0x166f21;}catch(_0x5d6125){clearTimeout(_0x57157e);throw _0x5d6125;}}async function loadFeaturedContent(){const _0x32efbe=_0x423034;try{const _0x1e2994=await fetchWithTimeout('https://api.themoviedb.org/3/movie/popular?language=en-US&page=1',{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':_0x32efbe(0x225)}});if(!_0x1e2994['ok'])throw new Error(_0x32efbe(0x18d)+_0x1e2994[_0x32efbe(0x24c)]);const _0x1249bc=await _0x1e2994[_0x32efbe(0x2aa)](),_0x36963f=new Date()[_0x32efbe(0x202)](),_0x12ec7f=_0x1249bc[_0x32efbe(0x1f5)][_0x32efbe(0x2a5)](_0x1962b0=>{const _0x399c0=_0x32efbe,_0x24f374=_0x1962b0[_0x399c0(0x193)]?parseInt(_0x1962b0[_0x399c0(0x193)][_0x399c0(0x236)]('-')[0x0]):0x0;return _0x1962b0['adult']===![]&&_0x1962b0[_0x399c0(0x256)]>=0x7&&_0x24f374>=0x7e4;});featuredQueue=_0x12ec7f['slice'](0x0,0x5),featuredQueue[_0x32efbe(0x233)]>0x0&&(featuredIndex=Math[_0x32efbe(0x1f3)](Math[_0x32efbe(0x17c)]()*featuredQueue[_0x32efbe(0x233)]),featuredMedia=featuredQueue[featuredIndex],updateHeroSection(featuredMedia),featuredQueue[_0x32efbe(0x233)]>=0x2&&startRotation());}catch(_0x8a87ac){console['error']('Error\x20loading\x20featured\x20content:',_0x8a87ac);}}function startRotation(){const _0xc9423=_0x423034;if(rotationInterval||featuredQueue[_0xc9423(0x233)]<0x2)return;rotationInterval=setInterval(()=>{rotateFeatured();},0x1388);}function rotateFeatured(){const _0x54dc94=_0x423034;if(featuredQueue[_0x54dc94(0x233)]<0x2)return;const _0x549336=document[_0x54dc94(0x190)](_0x54dc94(0x21e)),_0x53dbff=document['querySelector'](_0x54dc94(0x2de));if(_0x549336)_0x549336['style'][_0x54dc94(0x1b0)]='0';if(_0x53dbff)_0x53dbff['style']['opacity']='0';setTimeout(()=>{const _0x59f83a=_0x54dc94;featuredIndex=(featuredIndex+0x1)%featuredQueue[_0x59f83a(0x233)],featuredMedia=featuredQueue[featuredIndex],updateHeroSection(featuredMedia);if(_0x549336)_0x549336['style'][_0x59f83a(0x1b0)]='1';if(_0x53dbff)_0x53dbff[_0x59f83a(0x1af)]['opacity']='0.3';},0x320);}function updateHeroSection(_0x3dcb69){const _0x59ca5b=_0x423034,_0x2d6706=document[_0x59ca5b(0x190)](_0x59ca5b(0x2de)),_0x3f8089=document[_0x59ca5b(0x194)]('hero-title'),_0x56d334=document[_0x59ca5b(0x194)](_0x59ca5b(0x29e)),_0x3ff4bc=document[_0x59ca5b(0x194)](_0x59ca5b(0x242)),_0x18cb95=document[_0x59ca5b(0x194)]('hero-watch-btn'),_0xe16856=document[_0x59ca5b(0x194)](_0x59ca5b(0x1bd));_0x2d6706&&_0x3dcb69[_0x59ca5b(0x16e)]&&(_0x2d6706[_0x59ca5b(0x1af)][_0x59ca5b(0x151)]='url(https://image.tmdb.org/t/p/original'+_0x3dcb69[_0x59ca5b(0x16e)]+')',_0x2d6706[_0x59ca5b(0x1af)]['opacity']=_0x59ca5b(0x148));_0x3f8089&&(_0x3f8089['textContent']=_0x3dcb69[_0x59ca5b(0x289)]||_0x3dcb69['name']);if(_0x56d334){const _0x54fbc1=_0x3dcb69[_0x59ca5b(0x256)]?_0x3dcb69[_0x59ca5b(0x256)][_0x59ca5b(0x2b1)](0x1):'N/A',_0x53fc9d=(_0x3dcb69[_0x59ca5b(0x193)]||_0x3dcb69['first_air_date']||'')[_0x59ca5b(0x236)]('-')[0x0],_0x543a92=_0x3dcb69['media_type']==='tv'?_0x59ca5b(0x160):'Movie',_0x339472=_0x3dcb69[_0x59ca5b(0x2e1)]?_0x3dcb69['genre_ids'][_0x59ca5b(0x1d1)](0x0,0x2)['map'](_0x2a8e01=>getGenreName(_0x2a8e01))[_0x59ca5b(0x2a5)](Boolean)[_0x59ca5b(0x1b7)](',\x20'):_0x59ca5b(0x18f);_0x56d334[_0x59ca5b(0x171)]=_0x59ca5b(0x22f)+_0x54fbc1+'</span>\x0a\x20\x20\x20\x20\x20\x20<span>'+(_0x53fc9d||'N/A')+'</span>\x0a\x20\x20\x20\x20\x20\x20<span>'+(_0x339472||_0x543a92)+_0x59ca5b(0x1e9);}if(_0x3ff4bc){const _0x3a4dfa=_0x3dcb69['overview']||_0x59ca5b(0x241);_0x3ff4bc[_0x59ca5b(0x18b)]=_0x3a4dfa[_0x59ca5b(0x233)]>0xfa?_0x3a4dfa['substring'](0x0,0xfa)+_0x59ca5b(0x2da):_0x3a4dfa;}_0x18cb95&&(_0x18cb95[_0x59ca5b(0x20c)]=()=>{const _0x4c4fdf=_0x59ca5b;openPlayer({..._0x3dcb69,'media_type':_0x3dcb69['media_type']||_0x4c4fdf(0x14c)});});if(_0xe16856&&currentUser){const _0x515893=bookmarks[_0x59ca5b(0x20b)](_0xc95e68=>_0xc95e68['id']===_0x3dcb69['id']),_0x54b57f=_0xe16856[_0x59ca5b(0x190)]('i'),_0x139808=_0xe16856[_0x59ca5b(0x190)](_0x59ca5b(0x1ba));_0xe16856[_0x59ca5b(0x264)][_0x59ca5b(0x2c0)](_0x59ca5b(0x16a));if(_0x515893){_0x54b57f[_0x59ca5b(0x2d8)]=_0x59ca5b(0x2d4),_0xe16856[_0x59ca5b(0x264)][_0x59ca5b(0x2c0)](_0x59ca5b(0x1ee));if(_0x139808)_0x139808[_0x59ca5b(0x18b)]='Remove\x20from\x20List';}else{_0x54b57f['className']='far\x20fa-bookmark',_0xe16856[_0x59ca5b(0x264)][_0x59ca5b(0x2d0)](_0x59ca5b(0x1ee));if(_0x139808)_0x139808[_0x59ca5b(0x18b)]=_0x59ca5b(0x15a);}_0xe16856['onclick']=()=>{const _0x5b23bc=_0x59ca5b;toggleBookmark(_0x3dcb69,_0x3dcb69[_0x5b23bc(0x2e0)]||_0x5b23bc(0x14c),_0xe16856);};}else _0xe16856&&_0xe16856['classList'][_0x59ca5b(0x2d0)](_0x59ca5b(0x16a));}function getGenreName(_0x120c47){const _0x2f4946=_0x423034,_0x29b20a={0x1c:_0x2f4946(0x1c2),0xc:'Adventure',0x10:_0x2f4946(0x1bb),0x23:_0x2f4946(0x21a),0x50:_0x2f4946(0x15c),0x63:_0x2f4946(0x228),0x12:'Drama',0x29ff:'Family',0xe:_0x2f4946(0x210),0x24:_0x2f4946(0x2e6),0x1b:_0x2f4946(0x22b),0x28a2:_0x2f4946(0x279),0x25b0:_0x2f4946(0x1fc),0x29fd:_0x2f4946(0x1d2),0x36e:_0x2f4946(0x263),0x2a12:_0x2f4946(0x257),0x35:_0x2f4946(0x179),0x2a00:'War',0x25:'Western',0x2a07:_0x2f4946(0x1c2),0x2a0d:'Sci-Fi'};return _0x29b20a[_0x120c47]||'';}async function loadTrending(){const _0x51987e=_0x423034;try{const _0x204003=await fetchWithTimeout(_0x51987e(0x28e),{'headers':{'Authorization':_0x51987e(0x2df)+TMDB_TOKEN,'Content-Type':_0x51987e(0x225)}});if(!_0x204003['ok'])throw new Error(_0x51987e(0x18d)+_0x204003[_0x51987e(0x24c)]);const _0x183f80=await _0x204003[_0x51987e(0x2aa)]();renderMediaCards(_0x183f80[_0x51987e(0x1f5)]['slice'](0x0,0xc),_0x51987e(0x239));}catch(_0x56b1a8){console[_0x51987e(0x2a4)](_0x51987e(0x158),_0x56b1a8),showNotification(_0x51987e(0x269),'error');}}async function loadPopularMovies(){const _0x3fe789=_0x423034;try{const _0x4e4a98=await fetchWithTimeout(_0x3fe789(0x1db),{'headers':{'Authorization':_0x3fe789(0x2df)+TMDB_TOKEN,'Content-Type':_0x3fe789(0x225)}});if(!_0x4e4a98['ok'])throw new Error('HTTP\x20'+_0x4e4a98['status']);const _0x7d8328=await _0x4e4a98[_0x3fe789(0x2aa)]();renderMediaCards(_0x7d8328[_0x3fe789(0x1f5)][_0x3fe789(0x1d1)](0x0,0xc),_0x3fe789(0x200));}catch(_0x1569fb){console[_0x3fe789(0x2a4)]('Error\x20loading\x20popular\x20movies:',_0x1569fb),showNotification(_0x3fe789(0x29b),_0x3fe789(0x2a4));}}async function loadPopularTVShows(){const _0x163fe1=_0x423034;try{const _0x94f167=await fetchWithTimeout(_0x163fe1(0x255),{'headers':{'Authorization':_0x163fe1(0x2df)+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x94f167['ok'])throw new Error(_0x163fe1(0x18d)+_0x94f167[_0x163fe1(0x24c)]);const _0x461639=await _0x94f167[_0x163fe1(0x2aa)]();renderMediaCards(_0x461639[_0x163fe1(0x1f5)][_0x163fe1(0x1d1)](0x0,0xc),_0x163fe1(0x2a3));}catch(_0xd26c5e){console[_0x163fe1(0x2a4)](_0x163fe1(0x181),_0xd26c5e),showNotification(_0x163fe1(0x250),_0x163fe1(0x2a4));}}async function loadMovies(_0x282448){const _0x36c03b=_0x423034;try{let _0x4a5ac8=_0x36c03b(0x276);_0x282448!==_0x36c03b(0x153)&&(_0x4a5ac8+='&with_genres='+_0x282448);const _0x3b1491=await fetchWithTimeout(_0x4a5ac8,{'headers':{'Authorization':_0x36c03b(0x2df)+TMDB_TOKEN,'Content-Type':_0x36c03b(0x225)}});if(!_0x3b1491['ok'])throw new Error('HTTP\x20'+_0x3b1491[_0x36c03b(0x24c)]);const _0x313336=await _0x3b1491['json']();renderMediaCards(_0x313336[_0x36c03b(0x1f5)],_0x36c03b(0x2af));}catch(_0x2efadc){console[_0x36c03b(0x2a4)]('Error\x20loading\x20movies:',_0x2efadc),showNotification(_0x36c03b(0x2a7),_0x36c03b(0x2a4));}}async function loadTVShows(_0x5eb700){const _0x4b42d3=_0x423034;try{let _0x4b7f='https://api.themoviedb.org/3/discover/tv?sort_by=popularity.desc';_0x5eb700!==_0x4b42d3(0x153)&&(_0x4b7f+=_0x4b42d3(0x2cf)+_0x5eb700);const _0x475c43=await fetchWithTimeout(_0x4b7f,{'headers':{'Authorization':_0x4b42d3(0x2df)+TMDB_TOKEN,'Content-Type':_0x4b42d3(0x225)}});if(!_0x475c43['ok'])throw new Error(_0x4b42d3(0x18d)+_0x475c43[_0x4b42d3(0x24c)]);const _0x24dac3=await _0x475c43[_0x4b42d3(0x2aa)]();renderMediaCards(_0x24dac3[_0x4b42d3(0x1f5)],_0x4b42d3(0x23a));}catch(_0x3a6d8c){console[_0x4b42d3(0x2a4)](_0x4b42d3(0x180),_0x3a6d8c),showNotification('Error\x20loading\x20TV\x20shows','error');}}function renderMediaCards(_0x24f065,_0x21777d){const _0x5ba41c=_0x423034,_0x4af9d1=document[_0x5ba41c(0x194)](_0x21777d);if(!_0x4af9d1)return;while(_0x4af9d1[_0x5ba41c(0x2bb)]){_0x4af9d1[_0x5ba41c(0x246)](_0x4af9d1['firstChild']);}if(!_0x24f065||_0x24f065['length']===0x0){_0x4af9d1[_0x5ba41c(0x171)]=_0x5ba41c(0x244);return;}const _0x84db84=document[_0x5ba41c(0x234)]();_0x24f065['forEach']((_0x5c64b2,_0x1ee05b)=>{const _0x577d7e=_0x5ba41c,_0x1e308e=_0x5c64b2[_0x577d7e(0x2e0)]||(_0x5c64b2['first_air_date']?'tv':_0x577d7e(0x14c)),_0x5c1699=createMediaCard(_0x5c64b2,_0x1e308e,_0x1ee05b);_0x84db84[_0x577d7e(0x25b)](_0x5c1699);}),_0x4af9d1[_0x5ba41c(0x25b)](_0x84db84),setupLazyLoadingForGrid(_0x4af9d1);}function createMediaCard(_0x5afd87,_0x1d3284,_0x4b0cb5){const _0x2f464c=_0x423034,_0x4bad1d=_0x5afd87[_0x2f464c(0x289)]||_0x5afd87[_0x2f464c(0x223)],_0x1e06b2=(_0x5afd87[_0x2f464c(0x193)]||_0x5afd87[_0x2f464c(0x1b9)]||'')['split']('-')[0x0],_0x383efe=_0x5afd87['vote_average']?_0x5afd87[_0x2f464c(0x256)][_0x2f464c(0x2b1)](0x1):_0x2f464c(0x281),_0x2c7158=bookmarks[_0x2f464c(0x20b)](_0x5250da=>_0x5250da['id']===_0x5afd87['id']),_0x1bfaa8=document[_0x2f464c(0x2ad)](_0x2f464c(0x248));_0x1bfaa8['className']='media-card\x20hover-glow',_0x1bfaa8['style'][_0x2f464c(0x23e)]=_0x4b0cb5*0x32+'ms',_0x1bfaa8[_0x2f464c(0x26c)]=0x0;const _0x267d41=currentUser?'\x0a\x20\x20\x20\x20<button\x20class=\x22bookmark-btn\x20'+(_0x2c7158?_0x2f464c(0x1ee):'')+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22'+_0x5afd87['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22'+(_0x2c7158?'Remove\x20from\x20List':_0x2f464c(0x15a))+_0x2f464c(0x266)+(_0x2c7158?_0x2f464c(0x1f7):_0x2f464c(0x1f0))+_0x2f464c(0x1c6)+(_0x2c7158?_0x2f464c(0x2be):_0x2f464c(0x2b5))+_0x2f464c(0x22c):'';_0x1bfaa8['innerHTML']=_0x2f464c(0x2ab)+_0x267d41+_0x2f464c(0x272)+_0x5afd87[_0x2f464c(0x1f2)]+_0x2f464c(0x164)+_0x4bad1d+_0x2f464c(0x1cd)+_0x4bad1d+_0x2f464c(0x2e3)+_0x383efe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1e06b2+_0x2f464c(0x1e8)+(_0x1d3284==='tv'?'TV':'Movie')+'</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20';const _0x36a7af=_0x1bfaa8[_0x2f464c(0x190)](_0x2f464c(0x16d));_0x36a7af&&_0x36a7af['addEventListener'](_0x2f464c(0x270),_0xe51034=>{const _0x4b6990=_0x2f464c;_0xe51034[_0x4b6990(0x2dd)](),openPlayer({..._0x5afd87,'media_type':_0x1d3284});});_0x1bfaa8[_0x2f464c(0x2bd)]('click',debounce(()=>{openPlayer({..._0x5afd87,'media_type':_0x1d3284});},0x12c)),_0x1bfaa8[_0x2f464c(0x2bd)](_0x2f464c(0x1cc),_0x1455e2=>{const _0x181a26=_0x2f464c;(_0x1455e2[_0x181a26(0x1e6)]==='Enter'||_0x1455e2[_0x181a26(0x1e6)]==='\x20')&&(_0x1455e2['preventDefault'](),openPlayer({..._0x5afd87,'media_type':_0x1d3284}));});const _0x4982f8=_0x1bfaa8[_0x2f464c(0x190)](_0x2f464c(0x178));return _0x4982f8&&_0x4982f8[_0x2f464c(0x2bd)](_0x2f464c(0x270),_0x17d269=>{const _0x1ec758=_0x2f464c;_0x17d269[_0x1ec758(0x2dd)](),animateButton(_0x4982f8),toggleBookmark(_0x5afd87,_0x1d3284,_0x4982f8);}),_0x1bfaa8;}function setupLazyLoadingForGrid(_0x3f3c21){const _0x23e6e0=_0x423034,_0x15a9f3=domCache[_0x23e6e0(0x17d)][_0x23e6e0(0x292)]('images');_0x15a9f3&&_0x3f3c21['querySelectorAll'](_0x23e6e0(0x288))[_0x23e6e0(0x261)](_0x1dd568=>{const _0x46007e=_0x23e6e0;_0x15a9f3[_0x46007e(0x177)](_0x1dd568);});}function _0x14b8(_0x2ae41e,_0x3e8439){const _0x5e64f6=_0x5e64();return _0x14b8=function(_0x14b81d,_0x511bd9){_0x14b81d=_0x14b81d-0x147;let _0x4b4ef4=_0x5e64f6[_0x14b81d];return _0x4b4ef4;},_0x14b8(_0x2ae41e,_0x3e8439);}function animateButton(_0x2b59e8){const _0x39d2c4=_0x423034;_0x2b59e8[_0x39d2c4(0x1af)][_0x39d2c4(0x19c)]=_0x39d2c4(0x23b),setTimeout(()=>{const _0x13e429=_0x39d2c4;_0x2b59e8['style']['transform']=_0x13e429(0x2d3);},0x96);}function loadBookmarks(){const _0x2ead38=_0x423034,_0x505058=document[_0x2ead38(0x194)]('mylist-grid');if(!_0x505058)return;if(bookmarks[_0x2ead38(0x233)]===0x0){_0x505058[_0x2ead38(0x171)]=_0x2ead38(0x1ac);return;}renderMediaCards(bookmarks,'mylist-grid');}function toggleBookmark(_0x54fa29,_0x469c4e,_0x50a1e2){const _0x2f93c2=_0x423034;if(!currentUser){showNotification('Please\x20log\x20in\x20to\x20manage\x20your\x20list',_0x2f93c2(0x2a4));return;}const _0x3f1544=bookmarks[_0x2f93c2(0x14a)](_0x18bcd0=>_0x18bcd0['id']===_0x54fa29['id']),_0x3c292c=_0x50a1e2[_0x2f93c2(0x190)]('i');_0x3f1544>-0x1?(bookmarks[_0x2f93c2(0x159)](_0x3f1544,0x1),showNotification(_0x2f93c2(0x231),_0x2f93c2(0x1d0)),removeBookmarkFromSupabase(_0x54fa29['id']),_0x3c292c&&(_0x3c292c['className']='far\x20fa-bookmark'),_0x50a1e2[_0x2f93c2(0x264)]['remove']('bookmarked'),_0x50a1e2[_0x2f93c2(0x289)]=_0x2f93c2(0x15a)):(bookmarks[_0x2f93c2(0x2ba)]({..._0x54fa29,'media_type':_0x469c4e}),showNotification(_0x2f93c2(0x157),_0x2f93c2(0x1d0)),addBookmarkToSupabase(_0x54fa29,_0x469c4e),_0x3c292c&&(_0x3c292c[_0x2f93c2(0x2d8)]=_0x2f93c2(0x2d4)),_0x50a1e2[_0x2f93c2(0x264)]['add']('bookmarked'),_0x50a1e2[_0x2f93c2(0x289)]='Remove\x20from\x20List'),document[_0x2f93c2(0x194)]('mylist-section')?.['classList'][_0x2f93c2(0x2a1)](_0x2f93c2(0x280))&&loadBookmarks(),featuredMedia&&featuredMedia['id']===_0x54fa29['id']&&updateHeroSection(featuredMedia);}async function addBookmarkToSupabase(_0x4e58ef,_0xf1f6f0){const _0x1930c9=_0x423034;try{const {error:_0x3b392a}=await supabase[_0x1930c9(0x26a)](_0x1930c9(0x2e9))[_0x1930c9(0x1cb)]({'user_id':currentUser['id'],'media_id':_0x4e58ef['id'],'media_type':_0xf1f6f0,'title':_0x4e58ef[_0x1930c9(0x289)]||_0x4e58ef[_0x1930c9(0x223)],'poster_path':_0x4e58ef[_0x1930c9(0x1f2)],'vote_average':_0x4e58ef[_0x1930c9(0x256)],'release_date':_0x4e58ef[_0x1930c9(0x193)]||null,'first_air_date':_0x4e58ef['first_air_date']||null,'added_at':new Date()['toISOString']()});if(_0x3b392a)throw _0x3b392a;}catch(_0x4779f9){console[_0x1930c9(0x2a4)](_0x1930c9(0x1fb),_0x4779f9);}}async function removeBookmarkFromSupabase(_0x1aa75a){const _0x104b74=_0x423034;try{const {error:_0x3af002}=await supabase[_0x104b74(0x26a)](_0x104b74(0x2e9))[_0x104b74(0x2c7)]()['eq'](_0x104b74(0x2c4),currentUser['id'])['eq'](_0x104b74(0x204),_0x1aa75a);if(_0x3af002)throw _0x3af002;}catch(_0x2590fb){console[_0x104b74(0x2a4)](_0x104b74(0x213),_0x2590fb);}}async function performSearch(_0x33f4c2){const _0x2570ed=_0x423034;if(!_0x33f4c2[_0x2570ed(0x1a9)]()){showHomeSection();return;}try{showLoadingForSection(_0x2570ed(0x29c));const _0x45b01f=await fetchWithTimeout(_0x2570ed(0x1c0)+encodeURIComponent(_0x33f4c2),{'headers':{'Authorization':_0x2570ed(0x2df)+TMDB_TOKEN,'Content-Type':_0x2570ed(0x225)}});if(!_0x45b01f['ok'])throw new Error(_0x2570ed(0x18d)+_0x45b01f[_0x2570ed(0x24c)]);const _0x3abe5a=await _0x45b01f['json'](),_0x30f4fc=_0x3abe5a[_0x2570ed(0x1f5)]['filter'](_0x4d3622=>!_0x4d3622['adult']&&(_0x4d3622['media_type']==='movie'||_0x4d3622[_0x2570ed(0x2e0)]==='tv')&&_0x4d3622[_0x2570ed(0x1f2)]);currentUser&&recordSearchHistory(_0x33f4c2),document[_0x2570ed(0x1a8)](_0x2570ed(0x2a6))[_0x2570ed(0x261)](_0x609c0e=>_0x609c0e[_0x2570ed(0x264)][_0x2570ed(0x2d0)](_0x2570ed(0x280))),document['getElementById']('search-section')?.[_0x2570ed(0x264)][_0x2570ed(0x2c0)]('active'),renderMediaCards(_0x30f4fc,_0x2570ed(0x28f)),setTimeout(()=>{const _0xa4f9a9=_0x2570ed,_0x136712=document[_0xa4f9a9(0x194)](_0xa4f9a9(0x1eb));if(_0x136712){const _0x5645a7=document[_0xa4f9a9(0x190)](_0xa4f9a9(0x19d))?.['offsetHeight']||0x50,_0x5262e9=_0x136712[_0xa4f9a9(0x150)]-_0x5645a7-0x14;window[_0xa4f9a9(0x278)]({'top':_0x5262e9,'behavior':_0xa4f9a9(0x173)});}},0x64);}catch(_0x3ac6f0){console[_0x2570ed(0x2a4)](_0x2570ed(0x24f),_0x3ac6f0),showNotification(_0x2570ed(0x2c9),'error');}finally{hideLoadingForSection('search');}}async function recordSearchHistory(_0x4967c3){const _0x9dbb88=_0x423034;try{const {error:_0x57f6ab}=await supabase[_0x9dbb88(0x26a)](_0x9dbb88(0x2cd))[_0x9dbb88(0x1cb)]({'user_id':currentUser['id'],'query':_0x4967c3,'searched_at':new Date()['toISOString']()});if(_0x57f6ab)throw _0x57f6ab;}catch(_0x40d298){console[_0x9dbb88(0x2a4)](_0x9dbb88(0x28a),_0x40d298);}}async function recordWatchHistory(_0x116935,_0x4d857c=null,_0x4dd1be=null,_0x27d1ba=0x0){const _0x5238e7=_0x423034;try{const {error:_0x550355}=await supabase[_0x5238e7(0x26a)](_0x5238e7(0x2d2))[_0x5238e7(0x1cb)]({'user_id':currentUser['id'],'media_id':_0x116935['id'],'media_type':_0x116935[_0x5238e7(0x2e0)],'title':_0x116935[_0x5238e7(0x289)]||_0x116935[_0x5238e7(0x223)],'season':_0x4d857c,'episode':_0x4dd1be,'duration':_0x27d1ba,'watched_at':new Date()[_0x5238e7(0x285)]()});if(_0x550355)throw _0x550355;}catch(_0x106999){console['error'](_0x5238e7(0x2db),_0x106999);}}function openPlayer(_0x4e803e){const _0x27e658=_0x423034;if(!currentUser){showNotification(_0x27e658(0x1d7),'error');return;}currentMediaType=_0x4e803e[_0x27e658(0x2e0)],currentMediaId=_0x4e803e['id'],currentMediaTitle=_0x4e803e[_0x27e658(0x289)]||_0x4e803e['name'],currentMediaData=_0x4e803e,document[_0x27e658(0x194)](_0x27e658(0x16c))[_0x27e658(0x18b)]=currentMediaTitle,document[_0x27e658(0x194)]('player-description')['textContent']=_0x4e803e[_0x27e658(0x27e)]||'No\x20description\x20available';const _0x18834e=document[_0x27e658(0x194)]('player-rating-value'),_0xf1b17d=document[_0x27e658(0x194)](_0x27e658(0x268)),_0x1c72c1=document[_0x27e658(0x194)](_0x27e658(0x2c6));_0x18834e&&(_0x18834e[_0x27e658(0x18b)]=_0x4e803e[_0x27e658(0x256)]?_0x4e803e[_0x27e658(0x256)]['toFixed'](0x1):_0x27e658(0x281));if(_0xf1b17d){const _0x3fcad4=(_0x4e803e['release_date']||_0x4e803e[_0x27e658(0x1b9)]||'')[_0x27e658(0x236)]('-')[0x0];_0xf1b17d[_0x27e658(0x18b)]=_0x3fcad4||_0x27e658(0x281);}_0x1c72c1&&(_0x1c72c1[_0x27e658(0x18b)]=currentMediaType==='tv'?_0x27e658(0x160):'Movie');const _0x465d21=document[_0x27e658(0x194)]('tv-controls');_0x465d21&&(_0x465d21[_0x27e658(0x1af)][_0x27e658(0x2b3)]=currentMediaType==='tv'?_0x27e658(0x1c7):_0x27e658(0x1ae));currentMediaType==='tv'&&(currentSeason=0x1,currentEpisode=0x1,loadSeasons(currentMediaId));buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date();if(playerInterval)clearInterval(playerInterval);playerInterval=setInterval(()=>{trackPlayerProgress();},0x7530);const _0x5c6b46=domCache[_0x27e658(0x245)][_0x27e658(0x1c9)];_0x5c6b46&&(_0x5c6b46['classList'][_0x27e658(0x2c0)]('active'),setTimeout(()=>{const _0x31b775=_0x27e658;_0x5c6b46[_0x31b775(0x264)][_0x31b775(0x2c0)](_0x31b775(0x22a));},0x32));}function trackPlayerProgress(){const _0xe230e9=_0x423034;if(!currentUser||!currentMediaData)return;const _0x376ce0=domCache[_0xe230e9(0x245)][_0xe230e9(0x224)];if(!_0x376ce0||!_0x376ce0[_0xe230e9(0x252)])return;const _0x583b98=watchStartTime?(new Date()-watchStartTime)/0x3e8:0x0,_0x2eaaf2=currentMediaType===_0xe230e9(0x14c)?0x1c20:0xa8c;_0x583b98>0x3c&&updateWatchProgress(currentMediaData,_0x583b98,_0x2eaaf2);}function closePlayer(){const _0x3b805f=_0x423034;if(watchStartTime&&currentUser&&currentMediaData){const _0x367cde=new Date(),_0x2b30ca=(_0x367cde-watchStartTime)/0x3e8;if(_0x2b30ca>0x1e){const _0x3a9d2e={'id':currentMediaId,'media_type':currentMediaType,'title':currentMediaTitle};recordWatchHistory(_0x3a9d2e,currentMediaType==='tv'?currentSeason:null,currentMediaType==='tv'?currentEpisode:null,_0x2b30ca);const _0x16c9a1=currentMediaType===_0x3b805f(0x14c)?0x1c20:0xa8c;updateWatchProgress(currentMediaData,_0x2b30ca,_0x16c9a1);}}cleanupPlayer();const _0x4f7260=domCache['elements']['player-modal'];_0x4f7260&&(_0x4f7260['classList'][_0x3b805f(0x2d0)]('opened'),setTimeout(()=>{const _0x1e78c0=_0x3b805f;_0x4f7260[_0x1e78c0(0x264)]['remove']('active'),document[_0x1e78c0(0x220)]['style']['overflow']='';},0x12c)),document[_0x3b805f(0x194)]('home-section')?.['classList'][_0x3b805f(0x2a1)](_0x3b805f(0x280))&&loadContinueWatching()[_0x3b805f(0x1f6)](()=>renderContinueWatching());}function cleanupPlayer(){const _0x4760c5=_0x423034;playerInterval&&(clearInterval(playerInterval),playerInterval=null);const _0xde5b6e=domCache['elements']['video-frame'];_0xde5b6e&&(_0xde5b6e[_0x4760c5(0x252)]=_0x4760c5(0x21c)),currentMediaType==='tv'&&(currentSeason=0x1,currentEpisode=0x1),watchStartTime=null;}function buildEmbedSources(){const _0x4760d4=_0x423034;if(currentMediaType===_0x4760d4(0x14c))embedSources=[{'name':'Source\x201','url':'https://111movies.com/movie/'+currentMediaId},{'name':_0x4760d4(0x1f1),'url':'https://vidjoy.pro/embed/movie/'+currentMediaId},{'name':'Source\x203','url':_0x4760d4(0x19f)+currentMediaId}];else currentMediaType==='tv'&&(embedSources=[{'name':_0x4760d4(0x2a8),'url':'https://111movies.com/tv/'+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':'Source\x202','url':_0x4760d4(0x277)+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':'Source\x203','url':_0x4760d4(0x1d3)+currentMediaId+'/'+currentSeason+'/'+currentEpisode}]);}function populateSourceButtons(){const _0x47dea7=_0x423034,_0xb532ce=document[_0x47dea7(0x194)]('source-buttons');if(!_0xb532ce)return;_0xb532ce[_0x47dea7(0x171)]='',embedSources[_0x47dea7(0x261)]((_0x3971fc,_0x2f7aa1)=>{const _0x1cff17=_0x47dea7,_0x731d14=document['createElement'](_0x1cff17(0x25c));_0x731d14['className']='source-btn\x20hover-glow';if(_0x2f7aa1===0x0)_0x731d14[_0x1cff17(0x264)][_0x1cff17(0x2c0)](_0x1cff17(0x280));_0x731d14[_0x1cff17(0x18b)]=_0x3971fc[_0x1cff17(0x223)],_0x731d14[_0x1cff17(0x1af)][_0x1cff17(0x23e)]=_0x2f7aa1*0x64+'ms',_0x731d14['addEventListener'](_0x1cff17(0x270),debounce(()=>{const _0x22212a=_0x1cff17;document['querySelectorAll']('.source-btn')['forEach'](_0x18181c=>_0x18181c[_0x22212a(0x264)][_0x22212a(0x2d0)]('active')),_0x731d14[_0x22212a(0x264)][_0x22212a(0x2c0)]('active'),loadSource(_0x2f7aa1);},0xc8)),_0xb532ce['appendChild'](_0x731d14);});}function loadSource(_0x209a4b){const _0x58514b=_0x423034;if(_0x209a4b<0x0||_0x209a4b>=embedSources['length'])return;const _0x15bfbe=embedSources[_0x209a4b],_0x5ced2c=domCache[_0x58514b(0x245)][_0x58514b(0x224)];if(!_0x5ced2c)return;_0x5ced2c[_0x58514b(0x149)]('allow',_0x58514b(0x2b7)),_0x5ced2c[_0x58514b(0x149)](_0x58514b(0x20f),'no-referrer-when-downgrade'),showVideoLoadingState();let _0x481be8=0x0;const _0x499690=0x2;function _0x6ce5d8(){const _0x410817=_0x58514b;_0x5ced2c[_0x410817(0x1b1)]=()=>{const _0x47de89=_0x410817;_0x481be8++,_0x481be8<=_0x499690?(showNotification('Retrying\x20'+_0x15bfbe[_0x47de89(0x223)]+_0x47de89(0x221)+_0x481be8+'/'+_0x499690+')','warning'),setTimeout(_0x6ce5d8,0x3e8*_0x481be8)):handleSourceFailure(_0x209a4b);},_0x5ced2c[_0x410817(0x2a9)]=()=>{hideVideoLoadingState();},_0x5ced2c['src']=_0x15bfbe[_0x410817(0x26b)]+(_0x15bfbe[_0x410817(0x26b)][_0x410817(0x187)]('?')?'&':'?')+'t='+Date['now']();}const _0x3e4d2f=setTimeout(()=>{const _0x3759b0=_0x58514b;_0x5ced2c[_0x3759b0(0x252)]&&!_0x5ced2c['contentWindow']?.[_0x3759b0(0x233)]&&handleSourceFailure(_0x209a4b);},0x2710);_0x5ced2c[_0x58514b(0x2bd)](_0x58514b(0x21f),()=>clearTimeout(_0x3e4d2f),{'once':!![]}),_0x6ce5d8();}function handleSourceFailure(_0x401b24){const _0x1ee33c=_0x423034;hideVideoLoadingState();const _0x11c67b=(_0x401b24+0x1)%embedSources[_0x1ee33c(0x233)];_0x11c67b!==_0x401b24?(showNotification('Trying\x20'+embedSources[_0x11c67b][_0x1ee33c(0x223)]+'...',_0x1ee33c(0x20d)),setTimeout(()=>loadSource(_0x11c67b),0x3e8)):showNotification(_0x1ee33c(0x208),_0x1ee33c(0x2a4));}function showVideoLoadingState(){const _0x3b539f=_0x423034,_0x2955c4=document[_0x3b539f(0x190)](_0x3b539f(0x189));if(_0x2955c4&&!_0x2955c4['querySelector'](_0x3b539f(0x28d))){const _0x21391b=document[_0x3b539f(0x2ad)](_0x3b539f(0x248));_0x21391b[_0x3b539f(0x2d8)]=_0x3b539f(0x1c4),_0x21391b['innerHTML']=_0x3b539f(0x294),_0x2955c4['appendChild'](_0x21391b);}}function hideVideoLoadingState(){const _0x22352a=_0x423034,_0x48c088=document[_0x22352a(0x190)](_0x22352a(0x28d));_0x48c088&&_0x48c088[_0x22352a(0x2d0)]();}async function loadSeasons(_0x2a6409){const _0x2fb37b=_0x423034;try{const _0x985743=await fetchWithTimeout('https://api.themoviedb.org/3/tv/'+_0x2a6409,{'headers':{'Authorization':_0x2fb37b(0x2df)+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x985743['ok'])throw new Error('HTTP\x20'+_0x985743[_0x2fb37b(0x24c)]);const _0x95d454=await _0x985743[_0x2fb37b(0x2aa)](),_0xe85c61=_0x95d454[_0x2fb37b(0x27f)]['filter'](_0x142169=>_0x142169[_0x2fb37b(0x299)]>0x0),_0x26d259=document[_0x2fb37b(0x194)](_0x2fb37b(0x211));if(!_0x26d259)return;_0x26d259['innerHTML']='',_0xe85c61[_0x2fb37b(0x261)](_0x32b776=>{const _0x283ef6=_0x2fb37b,_0x7d922c=document[_0x283ef6(0x2ad)](_0x283ef6(0x286));_0x7d922c[_0x283ef6(0x283)]=_0x32b776['season_number'],_0x7d922c[_0x283ef6(0x18b)]='Season\x20'+_0x32b776[_0x283ef6(0x299)],_0x32b776['season_number']===currentSeason&&(_0x7d922c[_0x283ef6(0x20e)]=!![]),_0x26d259[_0x283ef6(0x25b)](_0x7d922c);}),_0x26d259[_0x2fb37b(0x2bd)](_0x2fb37b(0x207),debounce(_0x1705b1=>{const _0x16c11a=_0x2fb37b;currentSeason=parseInt(_0x1705b1[_0x16c11a(0x258)][_0x16c11a(0x283)]),currentEpisode=0x1,reloadTVContent();},0x12c)),await loadEpisodes(_0x2a6409,currentSeason);}catch(_0x4228fc){console[_0x2fb37b(0x2a4)](_0x2fb37b(0x24e),_0x4228fc),showNotification(_0x2fb37b(0x17e),_0x2fb37b(0x2a4));}}async function loadEpisodes(_0x550aa2,_0x2045ae){const _0x5e419e=_0x423034;try{const _0xa7d49a=await fetchWithTimeout(_0x5e419e(0x1b5)+_0x550aa2+_0x5e419e(0x163)+_0x2045ae,{'headers':{'Authorization':_0x5e419e(0x2df)+TMDB_TOKEN,'Content-Type':_0x5e419e(0x225)}});if(!_0xa7d49a['ok'])throw new Error(_0x5e419e(0x18d)+_0xa7d49a[_0x5e419e(0x24c)]);const _0x2400d6=await _0xa7d49a[_0x5e419e(0x2aa)]();renderEpisodeCards(_0x2400d6[_0x5e419e(0x14d)]);}catch(_0x188a25){console['error']('Error\x20loading\x20episodes:',_0x188a25),showNotification(_0x5e419e(0x1bc),_0x5e419e(0x2a4));}}function renderEpisodeCards(_0x5b9609){const _0x4df807=_0x423034,_0xd7fad5=document[_0x4df807(0x194)](_0x4df807(0x1c8));if(!_0xd7fad5)return;_0xd7fad5['innerHTML']='';if(!_0x5b9609||_0x5b9609['length']===0x0){_0xd7fad5[_0x4df807(0x171)]=_0x4df807(0x182);return;}const _0x3bfab0=document[_0x4df807(0x234)]();_0x5b9609[_0x4df807(0x261)]((_0x387a1c,_0x28fffb)=>{const _0x331fd8=_0x4df807,_0x1b6909=document[_0x331fd8(0x2ad)]('div');_0x1b6909[_0x331fd8(0x2d8)]='episode-card\x20hover-glow\x20'+(_0x387a1c[_0x331fd8(0x1a2)]===currentEpisode?_0x331fd8(0x280):''),_0x1b6909[_0x331fd8(0x1af)][_0x331fd8(0x23e)]=_0x28fffb*0x32+'ms',_0x1b6909['innerHTML']=_0x331fd8(0x23c)+_0x387a1c[_0x331fd8(0x1a2)]+_0x331fd8(0x1d4)+(_0x387a1c[_0x331fd8(0x223)]||_0x331fd8(0x168)+_0x387a1c[_0x331fd8(0x1a2)])+_0x331fd8(0x2bc)+(_0x387a1c[_0x331fd8(0x20a)]?_0x387a1c[_0x331fd8(0x20a)]+_0x331fd8(0x152):'')+_0x331fd8(0x26d)+(_0x387a1c[_0x331fd8(0x2c8)]?new Date(_0x387a1c[_0x331fd8(0x2c8)])['getFullYear']():'TBA')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x1b6909['addEventListener']('click',debounce(()=>{const _0x539f8a=_0x331fd8;document[_0x539f8a(0x1a8)](_0x539f8a(0x15e))['forEach'](_0x19b3ab=>_0x19b3ab[_0x539f8a(0x264)]['remove'](_0x539f8a(0x280))),_0x1b6909[_0x539f8a(0x264)][_0x539f8a(0x2c0)](_0x539f8a(0x280)),currentEpisode=_0x387a1c[_0x539f8a(0x1a2)],reloadTVContent();},0x12c)),_0x3bfab0[_0x331fd8(0x25b)](_0x1b6909);}),_0xd7fad5['appendChild'](_0x3bfab0);}function reloadTVContent(){showVideoLoadingState(),buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date();}function showNotification(_0x4c3e91,_0x3cd8c0='success'){const _0x256390=_0x423034,_0x3a14c5=document[_0x256390(0x194)](_0x256390(0x22e));if(!_0x3a14c5)return;const _0x55fc95=document[_0x256390(0x2ad)](_0x256390(0x248));_0x55fc95[_0x256390(0x2d8)]='notification\x20'+_0x3cd8c0+_0x256390(0x1a5),_0x55fc95[_0x256390(0x149)](_0x256390(0x267),_0x256390(0x201)),_0x55fc95[_0x256390(0x171)]='\x0a\x20\x20\x20\x20<i\x20class=\x22notification-icon\x20fas\x20'+(_0x3cd8c0===_0x256390(0x1d0)?_0x256390(0x14f):_0x3cd8c0===_0x256390(0x2a4)?_0x256390(0x254):_0x256390(0x271))+'\x22></i>\x0a\x20\x20\x20\x20<span>'+_0x4c3e91+_0x256390(0x24a),_0x3a14c5['appendChild'](_0x55fc95),setTimeout(()=>_0x55fc95[_0x256390(0x264)][_0x256390(0x2c0)](_0x256390(0x16a)),0x64);const _0x3e3ab5=setTimeout(()=>{removeNotification(_0x55fc95);},0x1388),_0x3f6f98=_0x55fc95[_0x256390(0x190)](_0x256390(0x205));_0x3f6f98[_0x256390(0x2bd)](_0x256390(0x270),()=>{clearTimeout(_0x3e3ab5),removeNotification(_0x55fc95);}),_0x55fc95[_0x256390(0x2bd)](_0x256390(0x270),_0x3c9742=>{const _0x52c9fe=_0x256390;(_0x3c9742[_0x52c9fe(0x258)]===_0x55fc95||_0x3c9742[_0x52c9fe(0x258)]['closest'](_0x52c9fe(0x205)))&&(clearTimeout(_0x3e3ab5),removeNotification(_0x55fc95));});}function removeNotification(_0x5424db){const _0x197dd0=_0x423034;_0x5424db[_0x197dd0(0x264)][_0x197dd0(0x2c0)](_0x197dd0(0x284)),setTimeout(()=>{const _0x3629b8=_0x197dd0;_0x5424db[_0x3629b8(0x238)]&&_0x5424db[_0x3629b8(0x2d0)]();},0x12c);}document['addEventListener']('keydown',_0x270df4=>{const _0x5de7e5=_0x423034;if(!isPlayerOpen)return;switch(_0x270df4[_0x5de7e5(0x1e6)]){case _0x5de7e5(0x1d9):closePlayer();break;}});let scrollTimeout;window[_0x423034(0x2bd)]('scroll',()=>{!scrollTimeout&&(scrollTimeout=setTimeout(()=>{const _0x321af7=_0x14b8,_0x5dcc86=domCache[_0x321af7(0x245)][_0x321af7(0x295)];_0x5dcc86&&_0x5dcc86[_0x321af7(0x264)][_0x321af7(0x1cf)](_0x321af7(0x2dc),window[_0x321af7(0x23f)]>0x32),scrollTimeout=null;},0xa));}),window['addEventListener'](_0x423034(0x1ca),()=>{const _0x2faa86=_0x423034;if(playerInterval)clearInterval(playerInterval);if(scrollTimeout)clearTimeout(scrollTimeout);if(searchDebounce)clearTimeout(searchDebounce);domCache[_0x2faa86(0x17d)][_0x2faa86(0x261)](_0x18428b=>_0x18428b[_0x2faa86(0x19a)]());}),window['NekoFlix']={'closePlayer':closePlayer,'showNotification':showNotification,'toggleBookmark':(_0x46012f,_0xe307be)=>{const _0x38ce47=_0x423034,_0x50a965=document[_0x38ce47(0x2ad)](_0x38ce47(0x25c));toggleBookmark(_0x46012f,_0xe307be,_0x50a965);}};