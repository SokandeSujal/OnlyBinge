const _0x3f2976=_0x2b37;(function(_0x344289,_0x21fc69){const _0x4c3bac=_0x2b37,_0x33c142=_0x344289();while(!![]){try{const _0x1afde4=parseInt(_0x4c3bac(0x1d3))/0x1*(parseInt(_0x4c3bac(0x28c))/0x2)+parseInt(_0x4c3bac(0x233))/0x3*(-parseInt(_0x4c3bac(0x224))/0x4)+-parseInt(_0x4c3bac(0x311))/0x5+parseInt(_0x4c3bac(0x22f))/0x6+-parseInt(_0x4c3bac(0x194))/0x7*(-parseInt(_0x4c3bac(0x2e1))/0x8)+-parseInt(_0x4c3bac(0x1c0))/0x9+-parseInt(_0x4c3bac(0x2fd))/0xa*(parseInt(_0x4c3bac(0x2a9))/0xb);if(_0x1afde4===_0x21fc69)break;else _0x33c142['push'](_0x33c142['shift']());}catch(_0x248574){_0x33c142['push'](_0x33c142['shift']());}}}(_0x3a24,0x4247a));const SUPABASE_URL=_0x3f2976(0x255),SUPABASE_ANON_KEY='__SUPABASE_ANON_KEY__',TMDB_TOKEN=_0x3f2976(0x270),supabase=window['supabase'][_0x3f2976(0x21c)](SUPABASE_URL,SUPABASE_ANON_KEY);let currentUser=null,currentMediaType=null,currentMediaId=null,currentMediaTitle=null,currentMediaData=null,embedSources=[],currentSeason=0x1,currentEpisode=0x1,bookmarks=[],continueWatching=[],searchDebounce=null,watchStartTime=null,playerInterval=null,isPlayerOpen=![],featuredMedia=null,featuredQueue=[],featuredIndex=0x0,rotationInterval=null,rotationPaused=![],isUserApproved=![];const domCache={'elements':{},'observers':new Map()};document['addEventListener'](_0x3f2976(0x222),function(){const _0x57f08b=_0x3f2976;try{initApp(),cacheCommonElements(),setupIntersectionObservers(),preventBodyScrollWhenNeeded();}catch(_0x428d95){console['error'](_0x57f08b(0x265),_0x428d95),showNotification(_0x57f08b(0x267),_0x57f08b(0x2a5));}});function cacheCommonElements(){const _0x3075ac=_0x3f2976,_0x125dcd=[_0x3075ac(0x243),_0x3075ac(0x167),_0x3075ac(0x227),_0x3075ac(0x216),'video-frame','loading-screen',_0x3075ac(0x28f),_0x3075ac(0x248),_0x3075ac(0x269),'mylist-grid',_0x3075ac(0x1b0),_0x3075ac(0x29b),_0x3075ac(0x2e8),_0x3075ac(0x180),'payment-modal',_0x3075ac(0x308),_0x3075ac(0x32f)];_0x125dcd[_0x3075ac(0x2a4)](_0x249af4=>{const _0x1e3ae0=_0x3075ac;domCache[_0x1e3ae0(0x2f2)][_0x249af4]=document[_0x1e3ae0(0x1b6)](_0x249af4);});}function setupIntersectionObservers(){const _0x169004=_0x3f2976;if(_0x169004(0x2b4)in window){const _0x14615d=new IntersectionObserver(_0x309092=>{_0x309092['forEach'](_0x59ab05=>{const _0x205d12=_0x2b37;if(_0x59ab05[_0x205d12(0x21b)]){const _0x16d0c1=_0x59ab05['target'];_0x16d0c1[_0x205d12(0x184)][_0x205d12(0x275)]&&(_0x16d0c1[_0x205d12(0x275)]=_0x16d0c1['dataset'][_0x205d12(0x275)],_0x16d0c1['classList'][_0x205d12(0x1c5)](_0x205d12(0x245)),_0x14615d[_0x205d12(0x2dd)](_0x16d0c1));}});},{'rootMargin':'100px\x200px','threshold':0.01});domCache['observers'][_0x169004(0x2ab)](_0x169004(0x301),_0x14615d);}}function preventBodyScrollWhenNeeded(){const _0x3034ca=_0x3f2976,_0x357c08=new MutationObserver(_0x454680=>{const _0x11dcd8=_0x2b37;_0x454680[_0x11dcd8(0x2a4)](_0x3f9d86=>{const _0x2c99ff=_0x11dcd8;if(_0x3f9d86['type']===_0x2c99ff(0x16b)&&_0x3f9d86[_0x2c99ff(0x32d)]===_0x2c99ff(0x1dc)){const _0x39ff7d=domCache['elements']['player-modal'],_0x153efc=domCache[_0x2c99ff(0x2f2)][_0x2c99ff(0x1a1)];_0x39ff7d&&_0x39ff7d[_0x2c99ff(0x32c)][_0x2c99ff(0x16f)]('active')||_0x153efc&&_0x153efc['classList'][_0x2c99ff(0x16f)](_0x2c99ff(0x266))?(document[_0x2c99ff(0x1be)][_0x2c99ff(0x279)][_0x2c99ff(0x188)]='hidden',isPlayerOpen=!![]):(document[_0x2c99ff(0x1be)]['style'][_0x2c99ff(0x188)]='',isPlayerOpen=![]);}});});domCache['elements'][_0x3034ca(0x216)]&&_0x357c08[_0x3034ca(0x1e4)](domCache[_0x3034ca(0x2f2)][_0x3034ca(0x216)],{'attributes':!![],'attributeFilter':[_0x3034ca(0x1dc)]}),domCache['elements'][_0x3034ca(0x1a1)]&&_0x357c08[_0x3034ca(0x1e4)](domCache['elements']['payment-modal'],{'attributes':!![],'attributeFilter':[_0x3034ca(0x1dc)]});}async function isAllowedUser(_0x3d7d78){const _0x2fc850=_0x3f2976;try{const {data:_0x2e2635,error:_0x3fc88c}=await supabase['from'](_0x2fc850(0x25c))[_0x2fc850(0x1ac)]('email,\x20approved,\x20expiry_date')['eq']('email',_0x3d7d78)['single']();if(_0x3fc88c&&_0x3fc88c[_0x2fc850(0x24c)]!=='PGRST116')return console[_0x2fc850(0x2a5)](_0x2fc850(0x26c),_0x3fc88c),{'allowed':![],'reason':_0x2fc850(0x2a5)};if(!_0x2e2635)return{'allowed':![],'reason':_0x2fc850(0x27c)};if(_0x2e2635[_0x2fc850(0x1f0)]!==!![])return{'allowed':![],'reason':_0x2fc850(0x1a3)};if(_0x2e2635['expiry_date']){const _0x3d5712=new Date(_0x2e2635[_0x2fc850(0x187)]),_0xbd9a07=new Date();if(_0x3d5712<_0xbd9a07)return{'allowed':![],'reason':_0x2fc850(0x262)};}return{'allowed':!![],'expiryDate':_0x2e2635[_0x2fc850(0x187)]};}catch(_0x266015){return console[_0x2fc850(0x2a5)](_0x2fc850(0x284),_0x266015),{'allowed':![],'reason':_0x2fc850(0x2a5)};}}function initApp(){const _0x4798fa=_0x3f2976;try{setupAuthForms(),setupNavigation(),setupGenreFilters(),setupSearch(),setupPlayerControls(),setupAccountModal(),setupPaymentModal(),setupLogout(),setupHeroRotation(),setupExtensionPopup(),loadUser();}catch(_0x364e6a){console['error'](_0x4798fa(0x17e),_0x364e6a),showNotification(_0x4798fa(0x2b3),_0x4798fa(0x2a5));}}function setupPaymentModal(){const _0x15708f=_0x3f2976,_0x34996e=document['getElementById'](_0x15708f(0x1a1)),_0x127194=document[_0x15708f(0x206)]('#open-payment-modal,\x20#subscribe-link,\x20#pay-now-btn'),_0x5acdac=document['getElementById']('payment-close'),_0x4d9f63=_0x34996e?.[_0x15708f(0x24e)](_0x15708f(0x2ec)),_0x30d66c=document[_0x15708f(0x1b6)]('submit-transaction-btn'),_0x495cf0=document[_0x15708f(0x1b6)](_0x15708f(0x260));_0x127194[_0x15708f(0x2a4)](_0x2d3252=>{const _0x5bac41=_0x15708f;_0x2d3252?.['addEventListener'](_0x5bac41(0x2c5),_0x350578=>{const _0xb01f18=_0x5bac41;_0x350578[_0xb01f18(0x25d)](),openPaymentModal();});}),_0x5acdac?.[_0x15708f(0x290)](_0x15708f(0x2c5),closePaymentModal),_0x4d9f63?.['addEventListener'](_0x15708f(0x2c5),closePaymentModal),_0x30d66c&&_0x495cf0&&_0x30d66c[_0x15708f(0x290)](_0x15708f(0x2c5),async()=>{const _0xa12b24=_0x15708f,_0x1afdf6=_0x495cf0[_0xa12b24(0x338)][_0xa12b24(0x223)]();if(!_0x1afdf6){showNotification(_0xa12b24(0x191),_0xa12b24(0x2a5));return;}if(!currentUser){showNotification(_0xa12b24(0x1db),_0xa12b24(0x2a5));return;}_0x30d66c[_0xa12b24(0x2b2)]=!![],_0x30d66c['innerHTML']=_0xa12b24(0x1ee);try{const {error:_0x166d17}=await supabase[_0xa12b24(0x2c4)](_0xa12b24(0x2a3))[_0xa12b24(0x285)]({'user_email':currentUser[_0xa12b24(0x177)],'transaction_id':_0x1afdf6,'status':_0xa12b24(0x1bb),'created_at':new Date()[_0xa12b24(0x333)]()});if(_0x166d17)throw _0x166d17;showNotification(_0xa12b24(0x2b8),'success'),_0x495cf0['value']='',closePaymentModal();}catch(_0x52ff8e){console[_0xa12b24(0x2a5)]('Error\x20submitting\x20transaction:',_0x52ff8e),showNotification(_0xa12b24(0x1fd),_0xa12b24(0x2a5));}finally{_0x30d66c[_0xa12b24(0x2b2)]=![],_0x30d66c[_0xa12b24(0x25b)]=_0xa12b24(0x298);}}),document[_0x15708f(0x290)](_0x15708f(0x2bd),_0x2de695=>{const _0x10a65c=_0x15708f;_0x2de695['key']===_0x10a65c(0x1c7)&&_0x34996e&&_0x34996e[_0x10a65c(0x32c)][_0x10a65c(0x16f)]('active')&&closePaymentModal();});}function _0x2b37(_0x2dc575,_0x1a29fd){const _0x3a2436=_0x3a24();return _0x2b37=function(_0x2b3792,_0x27fe03){_0x2b3792=_0x2b3792-0x162;let _0x374ff9=_0x3a2436[_0x2b3792];return _0x374ff9;},_0x2b37(_0x2dc575,_0x1a29fd);}function openPaymentModal(){const _0x3e481d=_0x3f2976,_0x18c365=document[_0x3e481d(0x1b6)]('payment-modal');_0x18c365&&(_0x18c365['classList']['add']('active'),setTimeout(()=>{const _0x394c08=_0x3e481d;_0x18c365['classList'][_0x394c08(0x2bb)]('show');},0x32));}function closePaymentModal(){const _0x5d5968=_0x3f2976,_0x202177=document[_0x5d5968(0x1b6)](_0x5d5968(0x1a1));_0x202177&&(_0x202177[_0x5d5968(0x32c)][_0x5d5968(0x1c5)]('show'),setTimeout(()=>{const _0x4915a1=_0x5d5968;_0x202177[_0x4915a1(0x32c)][_0x4915a1(0x1c5)]('active');},0x12c));}function setupExtensionPopup(){const _0x574c83=_0x3f2976,_0x2a8000=document[_0x574c83(0x1b6)](_0x574c83(0x180)),_0x11c1bd=document[_0x574c83(0x1b6)](_0x574c83(0x22d)),_0x2adaf0=document[_0x574c83(0x1b6)](_0x574c83(0x19b));_0x11c1bd&&_0x11c1bd['addEventListener']('click',()=>{const _0x54e883=_0x574c83;window[_0x54e883(0x2c2)](_0x54e883(0x32a),'_blank');}),_0x2adaf0&&_0x2adaf0[_0x574c83(0x290)](_0x574c83(0x2c5),()=>{closeExtensionPopup();}),document[_0x574c83(0x290)](_0x574c83(0x2bd),_0x509715=>{const _0x40b8e2=_0x574c83;_0x509715[_0x40b8e2(0x318)]===_0x40b8e2(0x1c7)&&_0x2a8000&&_0x2a8000[_0x40b8e2(0x32c)][_0x40b8e2(0x16f)](_0x40b8e2(0x266))&&closeExtensionPopup();});}function showExtensionPopup(){const _0x1f37a8=_0x3f2976,_0x40a5e4=document[_0x1f37a8(0x1b6)](_0x1f37a8(0x180));_0x40a5e4&&(_0x40a5e4[_0x1f37a8(0x32c)]['add']('active'),setTimeout(()=>{const _0x132f04=_0x1f37a8;_0x40a5e4[_0x132f04(0x32c)][_0x132f04(0x2bb)](_0x132f04(0x29d));},0x32));}function closeExtensionPopup(){const _0x38aeb5=_0x3f2976,_0x1c8e15=document[_0x38aeb5(0x1b6)](_0x38aeb5(0x180));_0x1c8e15&&(_0x1c8e15[_0x38aeb5(0x32c)][_0x38aeb5(0x1c5)](_0x38aeb5(0x29d)),setTimeout(()=>{const _0x51be6f=_0x38aeb5;_0x1c8e15[_0x51be6f(0x32c)][_0x51be6f(0x1c5)](_0x51be6f(0x266));},0x12c));}function setupHeroRotation(){const _0x1aaaf7=_0x3f2976,_0x291051=document[_0x1aaaf7(0x1b6)]('hero-section');_0x291051&&(_0x291051[_0x1aaaf7(0x290)](_0x1aaaf7(0x2cd),()=>{rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null,rotationPaused=!![]);}),_0x291051[_0x1aaaf7(0x290)](_0x1aaaf7(0x1d1),()=>{rotationPaused&&featuredQueue['length']>=0x2&&(startRotation(),rotationPaused=![]);}));}function setupAuthForms(){const _0x3628a=_0x3f2976;document['getElementById']('show-signup')?.[_0x3628a(0x290)](_0x3628a(0x2c5),_0x5b3fe8=>{const _0x526400=_0x3628a;_0x5b3fe8[_0x526400(0x25d)](),smoothTransition(_0x526400(0x1aa),_0x526400(0x24f));}),document[_0x3628a(0x1b6)](_0x3628a(0x1f6))?.['addEventListener'](_0x3628a(0x2c5),_0x9c382d=>{const _0x53772b=_0x3628a;_0x9c382d['preventDefault'](),smoothTransition(_0x53772b(0x24f),_0x53772b(0x1aa));}),document[_0x3628a(0x1b6)](_0x3628a(0x28a))?.[_0x3628a(0x290)](_0x3628a(0x2c5),_0x501ff2=>{const _0x51bba5=_0x3628a;_0x501ff2[_0x51bba5(0x25d)](),smoothTransition(_0x51bba5(0x1aa),_0x51bba5(0x1ec));}),document['getElementById'](_0x3628a(0x316))?.[_0x3628a(0x290)](_0x3628a(0x2c5),_0x3ae565=>{const _0x5bfe15=_0x3628a;_0x3ae565[_0x5bfe15(0x25d)](),smoothTransition(_0x5bfe15(0x1ec),'signin-form');}),setupFormSubmission(_0x3628a(0x24f),handleSignup),setupFormSubmission(_0x3628a(0x1aa),handleSignin),setupFormSubmission(_0x3628a(0x1ec),handleReset);}function setupFormSubmission(_0x2cce7e,_0x4b878e){const _0x113509=_0x3f2976,_0x25bd27=document['getElementById'](_0x2cce7e)?.['querySelector'](_0x113509(0x2b0));_0x25bd27&&_0x25bd27[_0x113509(0x290)]('submit',_0x4b878e);}async function handleSignup(_0x23d71b){const _0x50eaaf=_0x3f2976;_0x23d71b[_0x50eaaf(0x25d)]();const _0x8837fd=_0x23d71b[_0x50eaaf(0x330)][_0x50eaaf(0x24e)](_0x50eaaf(0x1c4)),_0x5148e6=_0x8837fd['textContent'];_0x8837fd[_0x50eaaf(0x19c)]=_0x50eaaf(0x193),_0x8837fd[_0x50eaaf(0x2b2)]=!![];try{const _0x354376=document[_0x50eaaf(0x1b6)](_0x50eaaf(0x1d5))[_0x50eaaf(0x338)],_0x290512=document[_0x50eaaf(0x1b6)](_0x50eaaf(0x1cf))['value'],_0xd465b9=document['getElementById'](_0x50eaaf(0x2d8))[_0x50eaaf(0x338)];if(_0x290512!==_0xd465b9){showNotification(_0x50eaaf(0x2d4),_0x50eaaf(0x2a5));return;}if(_0x290512['length']<0x6){showNotification(_0x50eaaf(0x174),_0x50eaaf(0x2a5));return;}const {data:_0x94f4e8,error:_0x203d6e}=await supabase[_0x50eaaf(0x198)][_0x50eaaf(0x276)]({'email':_0x354376,'password':_0x290512,'options':{'emailRedirectTo':window[_0x50eaaf(0x271)][_0x50eaaf(0x274)]+_0x50eaaf(0x317)}});_0x203d6e?showNotification(_0x203d6e['message'],_0x50eaaf(0x2a5)):(showNotification(_0x50eaaf(0x30a),_0x50eaaf(0x322)),smoothTransition('signup-form',_0x50eaaf(0x1aa)));}catch(_0x474082){showNotification('Unexpected\x20error\x20during\x20signup',_0x50eaaf(0x2a5));}finally{_0x8837fd[_0x50eaaf(0x19c)]=_0x5148e6,_0x8837fd[_0x50eaaf(0x2b2)]=![];}}async function handleSignin(_0x33a825){const _0x8b7c37=_0x3f2976;_0x33a825[_0x8b7c37(0x25d)]();const _0x1c94fd=_0x33a825[_0x8b7c37(0x330)][_0x8b7c37(0x24e)]('button[type=\x22submit\x22]'),_0x4d34c7=_0x1c94fd[_0x8b7c37(0x19c)];_0x1c94fd[_0x8b7c37(0x19c)]=_0x8b7c37(0x1ba),_0x1c94fd[_0x8b7c37(0x2b2)]=!![];try{const _0xfc34d2=document['getElementById'](_0x8b7c37(0x178))[_0x8b7c37(0x338)],_0x1e7078=document[_0x8b7c37(0x1b6)](_0x8b7c37(0x26e))[_0x8b7c37(0x338)],{data:_0x35ff02,error:_0x24084f}=await supabase[_0x8b7c37(0x198)]['signInWithPassword']({'email':_0xfc34d2,'password':_0x1e7078});if(_0x24084f){showNotification(_0x24084f['message'],'error');return;}const _0x34d407=_0x35ff02?.[_0x8b7c37(0x2ac)];if(!_0x34d407){showNotification(_0x8b7c37(0x1a7),_0x8b7c37(0x2a5));return;}const _0x47bf68=await registerSessionForUser(_0x34d407);if(!_0x47bf68)return;showNotification(_0x8b7c37(0x1ae),_0x8b7c37(0x322)),await loadUser();}catch(_0x31f8b4){console[_0x8b7c37(0x2a5)](_0x31f8b4),showNotification('Unexpected\x20error\x20during\x20signin',_0x8b7c37(0x2a5));}finally{_0x1c94fd[_0x8b7c37(0x19c)]=_0x4d34c7,_0x1c94fd[_0x8b7c37(0x2b2)]=![];}}async function handleReset(_0x46d9d2){const _0x37c19f=_0x3f2976;_0x46d9d2['preventDefault']();const _0xa55967=_0x46d9d2[_0x37c19f(0x330)]['querySelector'](_0x37c19f(0x1c4)),_0x43dee2=_0xa55967[_0x37c19f(0x19c)];_0xa55967[_0x37c19f(0x19c)]='Sending\x20Reset\x20Link...',_0xa55967[_0x37c19f(0x2b2)]=!![];try{const _0x4d4a3f=document[_0x37c19f(0x1b6)](_0x37c19f(0x278))['value'],{error:_0x211bef}=await supabase[_0x37c19f(0x198)][_0x37c19f(0x305)](_0x4d4a3f);_0x211bef?showNotification(_0x211bef['message'],_0x37c19f(0x2a5)):showNotification(_0x37c19f(0x17b),'success');}catch(_0x4a865d){showNotification(_0x37c19f(0x232),_0x37c19f(0x2a5));}finally{_0xa55967[_0x37c19f(0x19c)]=_0x43dee2,_0xa55967['disabled']=![];}}let _sessionChannel=null,_heartbeatIntervalId=null;function getDeviceId(){const _0x2a26f6=_0x3f2976,_0x3e9766=_0x2a26f6(0x30f);let _0x5cf4d8=localStorage['getItem'](_0x3e9766);if(!_0x5cf4d8){try{_0x5cf4d8=crypto[_0x2a26f6(0x1fc)]();}catch(_0x10393a){_0x5cf4d8=Date[_0x2a26f6(0x286)]()[_0x2a26f6(0x199)](0x24)+Math[_0x2a26f6(0x1cb)]()[_0x2a26f6(0x199)](0x24)[_0x2a26f6(0x1e9)](0x2);}localStorage[_0x2a26f6(0x27b)](_0x3e9766,_0x5cf4d8);}return _0x5cf4d8;}async function registerSessionForUser(_0x196797){const _0x36634c=_0x3f2976,_0x4b90fb=getDeviceId();try{const {data:_0xc67515,error:_0x58135a}=await supabase['from'](_0x36634c(0x283))[_0x36634c(0x1ac)]('*')['eq'](_0x36634c(0x18f),_0x196797['id'])['maybeSingle']();_0x58135a&&console[_0x36634c(0x2a5)](_0x36634c(0x29c),_0x58135a);if(_0xc67515&&_0xc67515[_0x36634c(0x181)]&&_0xc67515[_0x36634c(0x31e)]&&_0xc67515[_0x36634c(0x31e)]!==_0x4b90fb)return await supabase[_0x36634c(0x198)][_0x36634c(0x2c0)](),showNotification(_0x36634c(0x29a),_0x36634c(0x2a5)),![];return await supabase['from'](_0x36634c(0x283))[_0x36634c(0x30b)]({'user_id':_0x196797['id'],'device_id':_0x4b90fb,'is_active':!![],'session_flag':'S','last_heartbeat':new Date()[_0x36634c(0x333)]()},{'returning':_0x36634c(0x2d5)}),startSessionRealtimeSubscription(_0x196797['id'],_0x4b90fb),startHeartbeat(_0x196797['id'],_0x4b90fb),!![];}catch(_0x32ee81){return console[_0x36634c(0x2a5)](_0x36634c(0x197),_0x32ee81),![];}}function startHeartbeat(_0x3ee315,_0x39fc34){stopHeartbeat(),_heartbeatIntervalId=setInterval(async()=>{const _0x3ac570=_0x2b37;try{await supabase[_0x3ac570(0x2c4)](_0x3ac570(0x283))[_0x3ac570(0x30b)]({'user_id':_0x3ee315,'device_id':_0x39fc34,'last_heartbeat':new Date()[_0x3ac570(0x333)]()},{'returning':_0x3ac570(0x2d5)});}catch(_0x19912b){console[_0x3ac570(0x2a5)](_0x3ac570(0x18d),_0x19912b);}},0xea60);}function stopHeartbeat(){_heartbeatIntervalId&&(clearInterval(_heartbeatIntervalId),_heartbeatIntervalId=null);}function startSessionRealtimeSubscription(_0xc19e12,_0x2ff749){const _0x1092d5=_0x3f2976;if(_sessionChannel){try{supabase['removeChannel'](_sessionChannel);}catch(_0x314799){}_sessionChannel=null;}const _0x3a1c07=_0x1092d5(0x210)+_0xc19e12;_sessionChannel=supabase[_0x1092d5(0x204)](_0x3a1c07)['on'](_0x1092d5(0x1ff),{'event':'*','schema':'public','table':'active_sessions','filter':_0x1092d5(0x2c3)+_0xc19e12},_0x292ebc=>{handleSessionChange(_0x292ebc,_0x2ff749);})[_0x1092d5(0x2c9)](_0x5c13ce=>{});}function stopSessionRealtimeSubscription(){const _0x39c366=_0x3f2976;if(!_sessionChannel)return;try{supabase['removeChannel'](_sessionChannel);}catch(_0x12ac21){try{_sessionChannel[_0x39c366(0x168)]();}catch(_0x1dac26){}}_sessionChannel=null;}async function handleSessionChange(_0x57161e,_0x2ac97f){const _0xbbf27=_0x3f2976;try{const _0x4d95bf=_0x57161e['eventType']||_0x57161e[_0xbbf27(0x1fb)],_0x80e314=_0x57161e['new'],_0xc44f73=_0x57161e[_0xbbf27(0x20c)],_0x1e5f60=_0x80e314||_0xc44f73;if(!_0x1e5f60)return;if(_0x4d95bf===_0xbbf27(0x263)){_0xc44f73['device_id']===_0x2ac97f&&await forceLocalSignOut(_0xbbf27(0x16a));return;}if(_0x1e5f60[_0xbbf27(0x181)]===![]||_0x1e5f60[_0xbbf27(0x287)]&&_0x1e5f60[_0xbbf27(0x287)][_0xbbf27(0x28e)]()==='N'){await forceLocalSignOut('Your\x20session\x20was\x20disabled\x20by\x20admin\x20â€“\x20you\x20have\x20been\x20signed\x20out.');return;}if(_0x1e5f60[_0xbbf27(0x31e)]&&_0x1e5f60[_0xbbf27(0x31e)]!==_0x2ac97f){await forceLocalSignOut(_0xbbf27(0x295));return;}}catch(_0x20fc74){console['error'](_0xbbf27(0x2ad),_0x20fc74);}}async function forceLocalSignOut(_0x5770a0){const _0x2dd8f3=_0x3f2976;stopHeartbeat(),stopSessionRealtimeSubscription();try{await supabase[_0x2dd8f3(0x198)][_0x2dd8f3(0x2c0)]();}catch(_0x3efdba){console[_0x2dd8f3(0x1cd)](_0x2dd8f3(0x1f1),_0x3efdba);}showNotification(_0x5770a0,_0x2dd8f3(0x321)),showUnauthenticatedUI();}async function endSessionForUser(_0x5e8c95){const _0x182c21=_0x3f2976;try{const _0x48df19=getDeviceId();await supabase[_0x182c21(0x2c4)]('active_sessions')[_0x182c21(0x30b)]({'user_id':_0x5e8c95['id'],'device_id':_0x48df19,'is_active':![],'session_flag':'N','last_heartbeat':new Date()[_0x182c21(0x333)]()},{'returning':_0x182c21(0x2d5)});}catch(_0x2ef7e5){console[_0x182c21(0x2a5)]('endSessionForUser\x20error',_0x2ef7e5);}finally{stopHeartbeat(),stopSessionRealtimeSubscription();}}function setupLogout(){const _0x5ead6c=_0x3f2976;document[_0x5ead6c(0x1b6)](_0x5ead6c(0x17d))?.['addEventListener'](_0x5ead6c(0x2c5),async _0x4c870b=>{const _0x4262bd=_0x5ead6c;_0x4c870b[_0x4262bd(0x25d)]();try{rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null);const _0x3aa771=currentUser;_0x3aa771&&await endSessionForUser(_0x3aa771),await supabase['auth']['signOut'](),currentUser=null,bookmarks=[],continueWatching=[],featuredQueue=[],featuredIndex=0x0,isUserApproved=![],showNotification(_0x4262bd(0x2de),_0x4262bd(0x322)),showUnauthenticatedUI();}catch(_0xb78763){console[_0x4262bd(0x2a5)](_0xb78763),showNotification(_0x4262bd(0x205),_0x4262bd(0x2a5));}});}function setupNavigation(){const _0x8b6c4a=_0x3f2976;document[_0x8b6c4a(0x206)](_0x8b6c4a(0x2e2))[_0x8b6c4a(0x2a4)](_0x54a835=>{const _0x53e709=_0x8b6c4a;_0x54a835[_0x53e709(0x290)](_0x53e709(0x2c5),debounce(_0x4ebb4f=>{const _0x3e5419=_0x53e709;_0x4ebb4f[_0x3e5419(0x25d)](),document[_0x3e5419(0x206)](_0x3e5419(0x2e2))['forEach'](_0x4a5f09=>_0x4a5f09[_0x3e5419(0x32c)][_0x3e5419(0x1c5)](_0x3e5419(0x266))),_0x54a835['classList'][_0x3e5419(0x2bb)](_0x3e5419(0x266)),document[_0x3e5419(0x206)]('.content-section')[_0x3e5419(0x2a4)](_0x5eef4d=>_0x5eef4d[_0x3e5419(0x32c)][_0x3e5419(0x1c5)](_0x3e5419(0x266)));const _0x3f812d=document[_0x3e5419(0x1b6)](_0x54a835[_0x3e5419(0x184)][_0x3e5419(0x215)]+'-section');_0x3f812d&&(_0x3f812d['classList']['add']('active'),_0x54a835[_0x3e5419(0x184)][_0x3e5419(0x215)]!==_0x3e5419(0x2e4)&&rotationInterval&&(clearInterval(rotationInterval),rotationInterval=null),loadSectionContent(_0x54a835[_0x3e5419(0x184)][_0x3e5419(0x215)]));},0x96));});}function setupGenreFilters(){const _0x5aae51=_0x3f2976;document[_0x5aae51(0x206)](_0x5aae51(0x164))[_0x5aae51(0x2a4)](_0x3c44de=>{const _0x2b56b6=_0x5aae51;_0x3c44de[_0x2b56b6(0x290)](_0x2b56b6(0x2c5),debounce(()=>{const _0x101626=_0x2b56b6,_0x30aeea=document[_0x101626(0x24e)]('.content-section.active');if(!_0x30aeea)return;const _0x3ddb33=_0x30aeea['id'],_0x273452=_0x3c44de[_0x101626(0x184)][_0x101626(0x329)];document[_0x101626(0x206)](_0x101626(0x164))[_0x101626(0x2a4)](_0x43fa80=>_0x43fa80[_0x101626(0x32c)][_0x101626(0x1c5)]('active')),_0x3c44de['classList']['add']('active');if(_0x3ddb33===_0x101626(0x323))loadMovies(_0x273452);else _0x3ddb33===_0x101626(0x26d)&&loadTVShows(_0x273452);},0xc8));});}function setupSearch(){const _0x15202f=_0x3f2976,_0x4e7e35=document[_0x15202f(0x1b6)]('main-search-input');if(!_0x4e7e35)return;_0x4e7e35[_0x15202f(0x290)]('input',_0x5cd19f=>{clearTimeout(searchDebounce),searchDebounce=setTimeout(()=>{const _0x5932d9=_0x2b37;performSearch(_0x5cd19f[_0x5932d9(0x330)][_0x5932d9(0x338)][_0x5932d9(0x223)]());},0x320);}),document[_0x15202f(0x1b6)](_0x15202f(0x1f5))?.['addEventListener'](_0x15202f(0x2c5),()=>{_0x4e7e35['value']='',showHomeSection();});}function setupPlayerControls(){const _0x5f746e=_0x3f2976;document[_0x5f746e(0x1b6)](_0x5f746e(0x2ee))?.[_0x5f746e(0x290)](_0x5f746e(0x2c5),closePlayer);}function setupAccountModal(){const _0x31c835=_0x3f2976;document[_0x31c835(0x1b6)](_0x31c835(0x17a))?.[_0x31c835(0x290)](_0x31c835(0x2c5),_0x5e18c8=>{const _0x195296=_0x31c835;_0x5e18c8['preventDefault'](),document['getElementById'](_0x195296(0x2ba))?.[_0x195296(0x32c)][_0x195296(0x2bb)](_0x195296(0x266)),updateAccountModal();}),document[_0x31c835(0x1b6)](_0x31c835(0x19a))?.[_0x31c835(0x290)](_0x31c835(0x2c5),()=>{const _0x391726=_0x31c835;document['getElementById'](_0x391726(0x2ba))?.[_0x391726(0x32c)][_0x391726(0x1c5)](_0x391726(0x266));});}function smoothTransition(_0x16d11c,_0x4a2200){const _0x1e8cde=_0x3f2976,_0x4c2d24=document[_0x1e8cde(0x1b6)](_0x16d11c),_0x2c4dfd=document['getElementById'](_0x4a2200);if(!_0x4c2d24||!_0x2c4dfd)return;_0x4c2d24[_0x1e8cde(0x32c)][_0x1e8cde(0x2bb)](_0x1e8cde(0x201)),setTimeout(()=>{const _0x122cd8=_0x1e8cde;_0x4c2d24[_0x122cd8(0x32c)][_0x122cd8(0x1c5)](_0x122cd8(0x266),_0x122cd8(0x201)),_0x2c4dfd['classList'][_0x122cd8(0x2bb)](_0x122cd8(0x266),_0x122cd8(0x172)),setTimeout(()=>{_0x2c4dfd['classList']['remove']('slide-in-right');},0x190);},0x96);}function debounce(_0x3ded32,_0x1f163f){let _0xdce719;return function _0x4c67e4(..._0x19a0bf){const _0x3c4aca=()=>{clearTimeout(_0xdce719),_0x3ded32(..._0x19a0bf);};clearTimeout(_0xdce719),_0xdce719=setTimeout(_0x3c4aca,_0x1f163f);};}async function loadUser(){const _0x5effe4=_0x3f2976;try{const {data:_0x14a21f,error:_0x552739}=await supabase[_0x5effe4(0x198)]['getUser'](),_0x195860=_0x14a21f?.['user'],_0xc4f814=domCache[_0x5effe4(0x2f2)][_0x5effe4(0x327)];_0xc4f814&&(_0xc4f814[_0x5effe4(0x32c)][_0x5effe4(0x2bb)](_0x5effe4(0x201)),setTimeout(()=>{const _0x433afd=_0x5effe4;_0xc4f814[_0x433afd(0x279)][_0x433afd(0x209)]=_0x433afd(0x30d);},0x1f4));if(_0x195860){currentUser=_0x195860;const _0x169c57=await isAllowedUser(_0x195860[_0x5effe4(0x177)]);isUserApproved=_0x169c57[_0x5effe4(0x312)],console[_0x5effe4(0x289)](_0x5effe4(0x259),{'email':_0x195860[_0x5effe4(0x177)],'isUserApproved':isUserApproved,'reason':_0x169c57[_0x5effe4(0x214)]});if(!_0x169c57[_0x5effe4(0x312)]){await registerSessionForUser(_0x195860),await loadBookmarksFromSupabase(),await loadContinueWatching(),showAuthenticatedUIWithPaymentPrompt(_0x169c57['reason']);return;}await registerSessionForUser(_0x195860),await loadBookmarksFromSupabase(),await loadContinueWatching(),await updateSubscriptionStatus(_0x169c57['expiryDate']),showAuthenticatedUI(),setTimeout(()=>{showExtensionPopup();},0x3e8);}else currentUser=null,isUserApproved=![],showUnauthenticatedUI();}catch(_0x559b4b){console[_0x5effe4(0x2a5)](_0x5effe4(0x1e0),_0x559b4b),showUnauthenticatedUI(),showNotification(_0x5effe4(0x2d6),_0x5effe4(0x2a5));}}function updateAccountModal(){const _0x12c399=_0x3f2976,_0x60dc4f=document['getElementById'](_0x12c399(0x1e6)),_0x21e64e=document['getElementById'](_0x12c399(0x166)),_0x1bdc85=document[_0x12c399(0x1b6)](_0x12c399(0x296));if(!currentUser)return;_0x60dc4f&&(_0x60dc4f[_0x12c399(0x19c)]=currentUser['email']);_0x21e64e&&(_0x21e64e[_0x12c399(0x19c)]=new Date(currentUser['created_at'])[_0x12c399(0x212)]());if(_0x1bdc85){const _0x60551a=isUserApproved?_0x12c399(0x324):_0x12c399(0x236),_0x144725=isUserApproved?_0x12c399(0x266):_0x12c399(0x1bb);_0x1bdc85[_0x12c399(0x19c)]=_0x60551a,_0x1bdc85[_0x12c399(0x2d9)]=_0x12c399(0x1df)+_0x144725;}}function showAuthenticatedUIWithPaymentPrompt(_0x71f04d){const _0x171e22=_0x3f2976,{'auth-container':_0x110502,'main-header':_0x547bb5,'main-content':_0x3236d7}=domCache[_0x171e22(0x2f2)];if(_0x110502)_0x110502[_0x171e22(0x279)]['display']=_0x171e22(0x30d);if(_0x547bb5)_0x547bb5[_0x171e22(0x279)]['display']=_0x171e22(0x303);if(_0x3236d7)_0x3236d7[_0x171e22(0x279)][_0x171e22(0x209)]=_0x171e22(0x30e);document[_0x171e22(0x1b6)](_0x171e22(0x1e6))['textContent']=currentUser[_0x171e22(0x177)],document[_0x171e22(0x1b6)](_0x171e22(0x166))[_0x171e22(0x19c)]=new Date(currentUser[_0x171e22(0x2e9)])[_0x171e22(0x212)]();const _0x23a96d=document['getElementById']('subscription-status-text');if(_0x23a96d){if(_0x71f04d==='not_found'||_0x71f04d===_0x171e22(0x1a3))_0x23a96d['textContent']=_0x171e22(0x236),_0x23a96d['className']=_0x171e22(0x1f3);else _0x71f04d===_0x171e22(0x262)&&(_0x23a96d[_0x171e22(0x19c)]='Subscription\x20expired',_0x23a96d[_0x171e22(0x2d9)]=_0x171e22(0x33a));}if(_0x71f04d===_0x171e22(0x27c)||_0x71f04d===_0x171e22(0x1a3))showNotification(_0x171e22(0x18c),_0x171e22(0x321));else _0x71f04d==='expired'&&showNotification('Your\x20subscription\x20has\x20expired.\x20Please\x20renew.','warning');document[_0x171e22(0x206)](_0x171e22(0x2e2))[_0x171e22(0x2a4)](_0x2bdff2=>{const _0x464700=_0x171e22;_0x2bdff2[_0x464700(0x279)]['display']='block';}),loadSectionContent('home');}function showAuthenticatedUI(){const _0x3c2d82=_0x3f2976,{'auth-container':_0x9a008e,'main-header':_0x5c4f54,'main-content':_0x166deb}=domCache[_0x3c2d82(0x2f2)];if(_0x9a008e)_0x9a008e[_0x3c2d82(0x279)][_0x3c2d82(0x209)]='none';if(_0x5c4f54)_0x5c4f54['style'][_0x3c2d82(0x209)]='flex';if(_0x166deb)_0x166deb[_0x3c2d82(0x279)]['display']=_0x3c2d82(0x30e);document[_0x3c2d82(0x1b6)]('account-email')[_0x3c2d82(0x19c)]=currentUser[_0x3c2d82(0x177)],document[_0x3c2d82(0x1b6)](_0x3c2d82(0x166))[_0x3c2d82(0x19c)]=new Date(currentUser['created_at'])['toLocaleDateString']();const _0x5eaf8a=document['getElementById'](_0x3c2d82(0x296));_0x5eaf8a&&(_0x5eaf8a[_0x3c2d82(0x19c)]=_0x3c2d82(0x324),_0x5eaf8a[_0x3c2d82(0x2d9)]='subscription-status\x20active'),document[_0x3c2d82(0x206)](_0x3c2d82(0x2e2))[_0x3c2d82(0x2a4)](_0x4b9b4f=>{const _0x5bd352=_0x3c2d82;_0x4b9b4f[_0x5bd352(0x279)][_0x5bd352(0x209)]=_0x5bd352(0x30e);}),loadSectionContent(_0x3c2d82(0x2e4));}async function updateSubscriptionStatus(_0x4c4b48){const _0x15e911=_0x3f2976,_0xb92fb3=document[_0x15e911(0x1b6)](_0x15e911(0x296));if(!_0xb92fb3||!_0x4c4b48)return;const _0x463b67=new Date(_0x4c4b48),_0xeaae3d=new Date(),_0x13c0fa=Math[_0x15e911(0x18b)]((_0x463b67-_0xeaae3d)/(0x3e8*0x3c*0x3c*0x18));_0x13c0fa>0x0?(_0xb92fb3[_0x15e911(0x19c)]=_0x13c0fa+_0x15e911(0x1eb)+(_0x13c0fa!==0x1?'s':'')+_0x15e911(0x2b6),_0xb92fb3[_0x15e911(0x2d9)]=_0x15e911(0x190)):(_0xb92fb3[_0x15e911(0x19c)]=_0x15e911(0x244),_0xb92fb3['className']=_0x15e911(0x33a));}async function loadBookmarksFromSupabase(){const _0x23d45a=_0x3f2976;if(!currentUser)return;try{const {data:_0x3a27e4,error:_0x11998d}=await supabase[_0x23d45a(0x2c4)](_0x23d45a(0x32b))['select']('*')['eq']('user_id',currentUser['id'])['order']('added_at',{'ascending':![]});if(_0x11998d){if(_0x11998d[_0x23d45a(0x24c)]===_0x23d45a(0x1e2)||_0x11998d[_0x23d45a(0x20a)][_0x23d45a(0x240)](_0x23d45a(0x31f))){showNotification(_0x23d45a(0x238),'warning'),bookmarks=[];return;}throw _0x11998d;}bookmarks=_0x3a27e4['map'](_0x130141=>({'id':_0x130141['media_id'],'media_type':_0x130141[_0x23d45a(0x310)],'title':_0x130141['title'],'name':_0x130141[_0x23d45a(0x2db)],'poster_path':_0x130141['poster_path'],'vote_average':_0x130141['vote_average']||0x0,'release_date':_0x130141[_0x23d45a(0x25a)]||'','first_air_date':_0x130141['first_air_date']||''}));}catch(_0x5d9c63){console['error']('Error\x20loading\x20bookmarks:',_0x5d9c63),showNotification('Failed\x20to\x20load\x20bookmarks.\x20Table\x20may\x20need\x20to\x20be\x20created.',_0x23d45a(0x321)),bookmarks=[];}}async function loadContinueWatching(){const _0xb9f118=_0x3f2976;if(!currentUser)return;try{const {data:_0xd99059,error:_0x2b1ecf}=await supabase[_0xb9f118(0x2c4)](_0xb9f118(0x1b2))[_0xb9f118(0x1ac)]('*')['eq'](_0xb9f118(0x18f),currentUser['id'])['eq']('completed',![])[_0xb9f118(0x2ff)](_0xb9f118(0x31a),0x3c)[_0xb9f118(0x1b8)](_0xb9f118(0x281),{'ascending':![]})[_0xb9f118(0x20b)](0xc);if(_0x2b1ecf){if(_0x2b1ecf['code']===_0xb9f118(0x1e2)||_0x2b1ecf[_0xb9f118(0x20a)][_0xb9f118(0x240)]('does\x20not\x20exist')){console[_0xb9f118(0x289)](_0xb9f118(0x1fa)),continueWatching=[];return;}throw _0x2b1ecf;}continueWatching=_0xd99059['map'](_0x3b5a23=>({'id':_0x3b5a23[_0xb9f118(0x300)],'media_type':_0x3b5a23['media_type'],'title':_0x3b5a23[_0xb9f118(0x2db)],'name':_0x3b5a23[_0xb9f118(0x2db)],'poster_path':_0x3b5a23['poster_path'],'watch_progress':_0x3b5a23[_0xb9f118(0x31a)],'total_duration':_0x3b5a23[_0xb9f118(0x291)],'progress_percentage':_0x3b5a23['total_duration']>0x0?_0x3b5a23['watch_progress']/_0x3b5a23['total_duration']*0x64:0x0}));const _0x2a2584=document[_0xb9f118(0x1b6)](_0xb9f118(0x32f));_0x2a2584&&(_0x2a2584[_0xb9f118(0x279)][_0xb9f118(0x209)]=continueWatching[_0xb9f118(0x2ed)]>0x0?_0xb9f118(0x30e):_0xb9f118(0x30d));}catch(_0xe21956){console['error'](_0xb9f118(0x230),_0xe21956),continueWatching=[];}}function renderContinueWatching(){const _0x5d8914=_0x3f2976,_0x4cf320=domCache[_0x5d8914(0x2f2)]['continue-watching-grid'];if(!_0x4cf320)return;while(_0x4cf320['firstChild']){_0x4cf320[_0x5d8914(0x29f)](_0x4cf320[_0x5d8914(0x30c)]);}if(continueWatching[_0x5d8914(0x2ed)]===0x0){const _0x5e2b36=document[_0x5d8914(0x1b6)](_0x5d8914(0x32f));if(_0x5e2b36)_0x5e2b36['style']['display']=_0x5d8914(0x30d);return;}const _0x32acab=document[_0x5d8914(0x16c)]();continueWatching[_0x5d8914(0x2a4)]((_0x55713a,_0x8b3d88)=>{const _0x536e71=_0x5d8914,_0x263a2d=createContinueWatchingCard(_0x55713a,_0x8b3d88);_0x32acab[_0x536e71(0x1d9)](_0x263a2d);}),_0x4cf320['appendChild'](_0x32acab),setupLazyLoadingForGrid(_0x4cf320);}function createContinueWatchingCard(_0x47e876,_0x3c19b4){const _0x314a98=_0x3f2976,_0x1c10cc=_0x47e876[_0x314a98(0x2db)]||_0x47e876[_0x314a98(0x208)],_0x4a004d=Math[_0x314a98(0x207)](_0x47e876[_0x314a98(0x1f2)]||0x0,0x64),_0xf1084c=document[_0x314a98(0x226)](_0x314a98(0x182));_0xf1084c['className']=_0x314a98(0x1c9),_0xf1084c[_0x314a98(0x279)]['animationDelay']=_0x3c19b4*0x32+'ms',_0xf1084c[_0x314a98(0x314)]=0x0;const _0x4e9a44=isUserApproved?_0x314a98(0x241):_0x314a98(0x27d),_0x451489=isUserApproved?'Continue\x20watching':_0x314a98(0x195);_0xf1084c[_0x314a98(0x25b)]=_0x314a98(0x237)+_0x47e876['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22Remove\x20from\x20Continue\x20Watching\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22Remove\x20from\x20continue\x20watching\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20data-src=\x22https://image.tmdb.org/t/p/w500'+_0x47e876[_0x314a98(0x1bf)]+_0x314a98(0x1ab)+_0x1c10cc+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20class=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20loading=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27https://via.placeholder.com/500x750?text=No+Image\x27\x22\x0a\x20\x20\x20\x20\x20\x20>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-overlay\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22play-btn\x20hover-glow\x22\x20title=\x22'+_0x451489+_0x314a98(0x1f8)+_0x4e9a44+'\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x4a004d+_0x314a98(0x1cc)+_0x1c10cc+_0x314a98(0x257)+Math[_0x314a98(0x31b)](_0x4a004d)+_0x314a98(0x2b1)+(_0x47e876['media_type']==='tv'?'TV':_0x314a98(0x29e))+_0x314a98(0x2be);const _0x57f74e=_0xf1084c[_0x314a98(0x24e)](_0x314a98(0x21f));_0x57f74e&&_0x57f74e['addEventListener'](_0x314a98(0x2c5),_0x53a2dd=>{const _0x34994f=_0x314a98;_0x53a2dd['stopPropagation'](),isUserApproved?openPlayer({..._0x47e876,'media_type':_0x47e876[_0x34994f(0x310)]}):(showNotification(_0x34994f(0x217),_0x34994f(0x2a5)),openPaymentModal());});_0xf1084c['addEventListener']('click',debounce(()=>{const _0x9d4245=_0x314a98;isUserApproved?openPlayer({..._0x47e876,'media_type':_0x47e876['media_type']}):(showNotification(_0x9d4245(0x217),_0x9d4245(0x2a5)),openPaymentModal());},0x12c));const _0x4d83ea=_0xf1084c['querySelector']('.remove-continue-btn');return _0x4d83ea&&_0x4d83ea[_0x314a98(0x290)]('click',_0x40208=>{const _0x5de8a7=_0x314a98;_0x40208[_0x5de8a7(0x20d)](),removeContinueWatching(_0x47e876['id']);}),_0xf1084c;}async function removeContinueWatching(_0x16e4dd){const _0x470624=_0x3f2976;if(!currentUser)return;try{const {error:_0x37a94c}=await supabase['from']('continue_watching')[_0x470624(0x282)]()['eq'](_0x470624(0x18f),currentUser['id'])['eq'](_0x470624(0x300),_0x16e4dd);if(_0x37a94c)throw _0x37a94c;continueWatching=continueWatching[_0x470624(0x299)](_0x496383=>_0x496383['id']!==_0x16e4dd),renderContinueWatching(),showNotification('Removed\x20from\x20Continue\x20Watching','success');}catch(_0x161cdf){console['error'](_0x470624(0x185),_0x161cdf),showNotification(_0x470624(0x2aa),_0x470624(0x2a5));}}async function updateWatchProgress(_0x55a2cd,_0x37903d,_0x4a944b){const _0x30c6de=_0x3f2976;if(!currentUser||!_0x55a2cd||_0x37903d<0x3c)return;try{const _0x2858fd=_0x4a944b>0x0?_0x37903d/_0x4a944b*0x64:0x0,_0x57ac77=_0x2858fd>0x5a,{error:_0x2707b5}=await supabase[_0x30c6de(0x2c4)](_0x30c6de(0x1b2))[_0x30c6de(0x30b)]({'user_id':currentUser['id'],'media_id':_0x55a2cd['id'],'media_type':_0x55a2cd[_0x30c6de(0x310)],'title':_0x55a2cd['title']||_0x55a2cd[_0x30c6de(0x208)],'poster_path':_0x55a2cd[_0x30c6de(0x1bf)],'watch_progress':Math['floor'](_0x37903d),'total_duration':Math[_0x30c6de(0x225)](_0x4a944b),'last_watched_at':new Date()[_0x30c6de(0x333)](),'completed':_0x57ac77},{'onConflict':_0x30c6de(0x297),'returning':'minimal'});if(_0x2707b5)throw _0x2707b5;}catch(_0xf4760f){console[_0x30c6de(0x2a5)]('Error\x20updating\x20watch\x20progress:',_0xf4760f);}}function showUnauthenticatedUI(){const _0x1d279d=_0x3f2976,{'auth-container':_0x3093df,'main-header':_0x4a9480,'main-content':_0x35fbeb}=domCache['elements'];if(_0x3093df)_0x3093df[_0x1d279d(0x279)]['display']='flex';if(_0x4a9480)_0x4a9480[_0x1d279d(0x279)][_0x1d279d(0x209)]=_0x1d279d(0x30d);if(_0x35fbeb)_0x35fbeb[_0x1d279d(0x279)][_0x1d279d(0x209)]=_0x1d279d(0x30d);}function showHomeSection(){const _0x4bed28=_0x3f2976;document[_0x4bed28(0x206)](_0x4bed28(0x2fa))[_0x4bed28(0x2a4)](_0x1e6fbf=>_0x1e6fbf[_0x4bed28(0x32c)]['remove'](_0x4bed28(0x266))),document['getElementById']('home-section')?.[_0x4bed28(0x32c)][_0x4bed28(0x2bb)](_0x4bed28(0x266)),document[_0x4bed28(0x206)](_0x4bed28(0x2e2))[_0x4bed28(0x2a4)](_0x497591=>_0x497591[_0x4bed28(0x32c)][_0x4bed28(0x1c5)]('active')),document[_0x4bed28(0x24e)](_0x4bed28(0x252))?.[_0x4bed28(0x32c)][_0x4bed28(0x2bb)](_0x4bed28(0x266));}function loadSectionContent(_0x5822fc){const _0x1b88c0=_0x3f2976;showLoadingForSection(_0x5822fc);switch(_0x5822fc){case'home':Promise[_0x1b88c0(0x1ce)]([loadFeaturedContent(),loadTrending(),loadPopularMovies(),loadPopularTVShows()])[_0x1b88c0(0x1c8)](()=>{renderContinueWatching();})[_0x1b88c0(0x2ef)](()=>{const _0x950db2=_0x1b88c0;hideLoadingForSection(_0x5822fc);const _0x454cf=document[_0x950db2(0x1b6)](_0x950db2(0x292));_0x454cf&&_0x454cf[_0x950db2(0x32c)][_0x950db2(0x16f)]('active')&&featuredQueue[_0x950db2(0x2ed)]>0x0&&startRotation();});break;case _0x1b88c0(0x2d3):loadMovies(_0x1b88c0(0x1ce))['finally'](()=>hideLoadingForSection(_0x5822fc));break;case'tv':loadTVShows(_0x1b88c0(0x1ce))[_0x1b88c0(0x2ef)](()=>hideLoadingForSection(_0x5822fc));break;case _0x1b88c0(0x288):loadBookmarks(),hideLoadingForSection(_0x5822fc);break;}}function showLoadingForSection(_0x41679b){const _0x878f8c=_0x3f2976,_0x2d1932=document[_0x878f8c(0x1b6)](_0x41679b+_0x878f8c(0x2e6));if(_0x2d1932&&!_0x2d1932['querySelector']('.loading-indicator')){const _0xe4fd2e=document['createElement'](_0x878f8c(0x182));_0xe4fd2e['className']=_0x878f8c(0x33b),_0xe4fd2e[_0x878f8c(0x25b)]=_0x878f8c(0x1e1),_0x2d1932[_0x878f8c(0x1d9)](_0xe4fd2e);}}function hideLoadingForSection(_0x2b3693){const _0x2c5480=_0x3f2976,_0x25a5e3=document[_0x2c5480(0x1b6)](_0x2b3693+'-section'),_0x23eb05=_0x25a5e3?.[_0x2c5480(0x24e)](_0x2c5480(0x2f1));_0x23eb05&&_0x23eb05[_0x2c5480(0x1c5)]();}async function fetchWithTimeout(_0x50e5bf,_0x78d397={},_0x103ef7=0x2710){const _0x54aed5=_0x3f2976,_0x21cfc4=new AbortController(),_0x2e4290=setTimeout(()=>_0x21cfc4[_0x54aed5(0x319)](),_0x103ef7);try{const _0x56ba39=await fetch(_0x50e5bf,{..._0x78d397,'signal':_0x21cfc4[_0x54aed5(0x192)]});return clearTimeout(_0x2e4290),_0x56ba39;}catch(_0x2ca7d7){clearTimeout(_0x2e4290);throw _0x2ca7d7;}}async function loadFeaturedContent(){const _0x588cd7=_0x3f2976;try{const _0x21c16e=await fetchWithTimeout(_0x588cd7(0x1b9),{'headers':{'Authorization':_0x588cd7(0x23e)+TMDB_TOKEN,'Content-Type':_0x588cd7(0x1da)}});if(!_0x21c16e['ok'])throw new Error(_0x588cd7(0x25e)+_0x21c16e['status']);const _0x4d8cd2=await _0x21c16e['json'](),_0x1c562d=new Date()[_0x588cd7(0x264)](),_0x2b8c27=_0x4d8cd2[_0x588cd7(0x2e5)]['filter'](_0x236877=>{const _0x4ea0d9=_0x588cd7,_0x24c586=_0x236877[_0x4ea0d9(0x25a)]?parseInt(_0x236877[_0x4ea0d9(0x25a)][_0x4ea0d9(0x302)]('-')[0x0]):0x0;return _0x236877[_0x4ea0d9(0x273)]===![]&&_0x236877[_0x4ea0d9(0x28b)]>=0x7&&_0x24c586>=0x7e4;});featuredQueue=_0x2b8c27[_0x588cd7(0x1e9)](0x0,0x5),featuredQueue['length']>0x0&&(featuredIndex=Math[_0x588cd7(0x225)](Math[_0x588cd7(0x1cb)]()*featuredQueue[_0x588cd7(0x2ed)]),featuredMedia=featuredQueue[featuredIndex],updateHeroSection(featuredMedia),featuredQueue[_0x588cd7(0x2ed)]>=0x2&&startRotation());}catch(_0x43f627){console[_0x588cd7(0x2a5)](_0x588cd7(0x1a5),_0x43f627);}}function startRotation(){const _0x592af2=_0x3f2976;if(rotationInterval||featuredQueue[_0x592af2(0x2ed)]<0x2)return;rotationInterval=setInterval(()=>{rotateFeatured();},0x1388);}function rotateFeatured(){const _0x144902=_0x3f2976;if(featuredQueue[_0x144902(0x2ed)]<0x2)return;const _0x47cb66=document[_0x144902(0x24e)](_0x144902(0x334)),_0x2f1000=document[_0x144902(0x24e)](_0x144902(0x179));if(_0x47cb66)_0x47cb66[_0x144902(0x279)][_0x144902(0x1bc)]='0';if(_0x2f1000)_0x2f1000[_0x144902(0x279)][_0x144902(0x1bc)]='0';setTimeout(()=>{const _0x423601=_0x144902;featuredIndex=(featuredIndex+0x1)%featuredQueue[_0x423601(0x2ed)],featuredMedia=featuredQueue[featuredIndex],updateHeroSection(featuredMedia);if(_0x47cb66)_0x47cb66['style'][_0x423601(0x1bc)]='1';if(_0x2f1000)_0x2f1000[_0x423601(0x279)][_0x423601(0x1bc)]=_0x423601(0x24b);},0x320);}function updateHeroSection(_0x214f6b){const _0x592301=_0x3f2976,_0x2d72ca=document[_0x592301(0x24e)](_0x592301(0x179)),_0x3ed5e5=document[_0x592301(0x1b6)](_0x592301(0x2d7)),_0x737d18=document[_0x592301(0x1b6)](_0x592301(0x2cb)),_0x119ce9=document[_0x592301(0x1b6)](_0x592301(0x2c7)),_0x10d9f4=document[_0x592301(0x1b6)]('hero-watch-btn'),_0x39528f=document['getElementById'](_0x592301(0x2a6));_0x2d72ca&&_0x214f6b[_0x592301(0x2c1)]&&(_0x2d72ca[_0x592301(0x279)][_0x592301(0x234)]=_0x592301(0x1e5)+_0x214f6b[_0x592301(0x2c1)]+')',_0x2d72ca['style'][_0x592301(0x1bc)]=_0x592301(0x24b));_0x3ed5e5&&(_0x3ed5e5[_0x592301(0x19c)]=_0x214f6b[_0x592301(0x2db)]||_0x214f6b['name']);if(_0x737d18){const _0x48773c=_0x214f6b['vote_average']?_0x214f6b[_0x592301(0x28b)]['toFixed'](0x1):_0x592301(0x2c6),_0x1e8542=(_0x214f6b[_0x592301(0x25a)]||_0x214f6b[_0x592301(0x2eb)]||'')[_0x592301(0x302)]('-')[0x0],_0x612a31=_0x214f6b[_0x592301(0x310)]==='tv'?_0x592301(0x17f):_0x592301(0x29e),_0xf2b0a2=_0x214f6b[_0x592301(0x2fc)]?_0x214f6b[_0x592301(0x2fc)][_0x592301(0x1e9)](0x0,0x2)[_0x592301(0x1a9)](_0x5288dd=>getGenreName(_0x5288dd))['filter'](Boolean)['join'](',\x20'):_0x592301(0x1ef);_0x737d18[_0x592301(0x25b)]=_0x592301(0x27f)+_0x48773c+_0x592301(0x1f9)+(_0x1e8542||'N/A')+'</span>\x0a\x20\x20\x20\x20\x20\x20<span>'+(_0xf2b0a2||_0x612a31)+_0x592301(0x239);}if(_0x119ce9){const _0x4eb475=_0x214f6b['overview']||_0x592301(0x19e);_0x119ce9[_0x592301(0x19c)]=_0x4eb475[_0x592301(0x2ed)]>0xfa?_0x4eb475[_0x592301(0x320)](0x0,0xfa)+'...':_0x4eb475;}_0x10d9f4&&(isUserApproved?(_0x10d9f4['innerHTML']='<i\x20class=\x22fas\x20fa-play\x22></i>\x20Watch\x20Now',_0x10d9f4[_0x592301(0x221)]=()=>{const _0x31f731=_0x592301;openPlayer({..._0x214f6b,'media_type':_0x214f6b[_0x31f731(0x310)]||_0x31f731(0x175)});}):(_0x10d9f4[_0x592301(0x25b)]='<i\x20class=\x22fas\x20fa-lock\x22></i>\x20Premium\x20Required',_0x10d9f4[_0x592301(0x221)]=()=>{const _0x52843f=_0x592301;showNotification(_0x52843f(0x2da),_0x52843f(0x2a5)),openPaymentModal();}));if(_0x39528f&&currentUser){const _0x1eff46=bookmarks['some'](_0x409007=>_0x409007['id']===_0x214f6b['id']),_0x1cbae1=_0x39528f['querySelector']('i'),_0x364088=_0x39528f[_0x592301(0x24e)]('span');_0x39528f['classList'][_0x592301(0x2bb)](_0x592301(0x29d));if(_0x1eff46){_0x1cbae1[_0x592301(0x2d9)]=_0x592301(0x1ea),_0x39528f[_0x592301(0x32c)][_0x592301(0x2bb)](_0x592301(0x171));if(_0x364088)_0x364088[_0x592301(0x19c)]=_0x592301(0x2ea);}else{_0x1cbae1['className']=_0x592301(0x256),_0x39528f[_0x592301(0x32c)][_0x592301(0x1c5)](_0x592301(0x171));if(_0x364088)_0x364088[_0x592301(0x19c)]='Add\x20to\x20List';}_0x39528f[_0x592301(0x221)]=()=>{const _0x492e76=_0x592301;isUserApproved?toggleBookmark(_0x214f6b,_0x214f6b['media_type']||_0x492e76(0x175),_0x39528f):(showNotification(_0x492e76(0x1c6),_0x492e76(0x2a5)),openPaymentModal());};}else _0x39528f&&_0x39528f['classList']['remove'](_0x592301(0x29d));}function getGenreName(_0x5aa42c){const _0x17cc02=_0x3f2976,_0x459fd1={0x1c:_0x17cc02(0x31d),0xc:_0x17cc02(0x1c3),0x10:_0x17cc02(0x1d0),0x23:'Comedy',0x50:_0x17cc02(0x2f5),0x63:_0x17cc02(0x189),0x12:_0x17cc02(0x336),0x29ff:_0x17cc02(0x251),0xe:_0x17cc02(0x1b4),0x24:'History',0x1b:_0x17cc02(0x1e8),0x28a2:_0x17cc02(0x2a8),0x25b0:'Mystery',0x29fd:_0x17cc02(0x202),0x36e:_0x17cc02(0x203),0x2a12:_0x17cc02(0x229),0x35:_0x17cc02(0x1e7),0x2a00:_0x17cc02(0x228),0x25:_0x17cc02(0x2d1),0x2a07:'Action',0x2a0d:_0x17cc02(0x203)};return _0x459fd1[_0x5aa42c]||'';}async function loadTrending(){const _0x15070c=_0x3f2976;try{const _0x2516eb=await fetchWithTimeout(_0x15070c(0x1ca),{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x2516eb['ok'])throw new Error(_0x15070c(0x25e)+_0x2516eb[_0x15070c(0x162)]);const _0x4fec00=await _0x2516eb['json']();renderMediaCards(_0x4fec00['results'][_0x15070c(0x1e9)](0x0,0xc),_0x15070c(0x2dc));}catch(_0x2be429){console['error'](_0x15070c(0x24a),_0x2be429),showNotification(_0x15070c(0x2a2),_0x15070c(0x2a5));}}async function loadPopularMovies(){const _0x5b7fc5=_0x3f2976;try{const _0x3ffa13=await fetchWithTimeout(_0x5b7fc5(0x2f8),{'headers':{'Authorization':_0x5b7fc5(0x23e)+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x3ffa13['ok'])throw new Error(_0x5b7fc5(0x25e)+_0x3ffa13[_0x5b7fc5(0x162)]);const _0x734994=await _0x3ffa13[_0x5b7fc5(0x18a)]();renderMediaCards(_0x734994[_0x5b7fc5(0x2e5)]['slice'](0x0,0xc),_0x5b7fc5(0x2ca));}catch(_0x4f901a){console[_0x5b7fc5(0x2a5)](_0x5b7fc5(0x2c8),_0x4f901a),showNotification(_0x5b7fc5(0x2f6),_0x5b7fc5(0x2a5));}}async function loadPopularTVShows(){const _0x3c5d94=_0x3f2976;try{const _0xd9b485=await fetchWithTimeout(_0x3c5d94(0x24d),{'headers':{'Authorization':_0x3c5d94(0x23e)+TMDB_TOKEN,'Content-Type':_0x3c5d94(0x1da)}});if(!_0xd9b485['ok'])throw new Error(_0x3c5d94(0x25e)+_0xd9b485[_0x3c5d94(0x162)]);const _0x1a8efd=await _0xd9b485[_0x3c5d94(0x18a)]();renderMediaCards(_0x1a8efd[_0x3c5d94(0x2e5)][_0x3c5d94(0x1e9)](0x0,0xc),_0x3c5d94(0x18e));}catch(_0x2ee2ac){console['error'](_0x3c5d94(0x26a),_0x2ee2ac),showNotification('Error\x20loading\x20popular\x20TV\x20shows',_0x3c5d94(0x2a5));}}async function loadMovies(_0x40e494){const _0x4e8298=_0x3f2976;try{let _0x52b243=_0x4e8298(0x25f);_0x40e494!==_0x4e8298(0x1ce)&&(_0x52b243+=_0x4e8298(0x1d8)+_0x40e494);const _0x1db478=await fetchWithTimeout(_0x52b243,{'headers':{'Authorization':'Bearer\x20'+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x1db478['ok'])throw new Error(_0x4e8298(0x25e)+_0x1db478['status']);const _0x3e8a77=await _0x1db478['json']();renderMediaCards(_0x3e8a77[_0x4e8298(0x2e5)],_0x4e8298(0x248));}catch(_0x5f4bb2){console[_0x4e8298(0x2a5)](_0x4e8298(0x253),_0x5f4bb2),showNotification('Error\x20loading\x20movies',_0x4e8298(0x2a5));}}async function loadTVShows(_0x4f40df){const _0x51e05d=_0x3f2976;try{let _0x1f3418=_0x51e05d(0x1c1);_0x4f40df!==_0x51e05d(0x1ce)&&(_0x1f3418+=_0x51e05d(0x1d8)+_0x4f40df);const _0x274145=await fetchWithTimeout(_0x1f3418,{'headers':{'Authorization':_0x51e05d(0x23e)+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x274145['ok'])throw new Error(_0x51e05d(0x25e)+_0x274145[_0x51e05d(0x162)]);const _0x1eeb87=await _0x274145[_0x51e05d(0x18a)]();renderMediaCards(_0x1eeb87[_0x51e05d(0x2e5)],_0x51e05d(0x269));}catch(_0x647de1){console[_0x51e05d(0x2a5)](_0x51e05d(0x2ce),_0x647de1),showNotification(_0x51e05d(0x1a4),_0x51e05d(0x2a5));}}function renderMediaCards(_0x5d6f72,_0x480200){const _0x4f5a72=_0x3f2976,_0x32fe50=document[_0x4f5a72(0x1b6)](_0x480200);if(!_0x32fe50)return;while(_0x32fe50['firstChild']){_0x32fe50[_0x4f5a72(0x29f)](_0x32fe50[_0x4f5a72(0x30c)]);}if(!_0x5d6f72||_0x5d6f72['length']===0x0){_0x32fe50[_0x4f5a72(0x25b)]=_0x4f5a72(0x335);return;}const _0x275793=document[_0x4f5a72(0x16c)]();_0x5d6f72[_0x4f5a72(0x2a4)]((_0x439605,_0x358653)=>{const _0x3acd12=_0x4f5a72,_0x5a9052=_0x439605[_0x3acd12(0x310)]||(_0x439605[_0x3acd12(0x2eb)]?'tv':'movie'),_0x3fbb4e=createMediaCard(_0x439605,_0x5a9052,_0x358653);_0x275793[_0x3acd12(0x1d9)](_0x3fbb4e);}),_0x32fe50[_0x4f5a72(0x1d9)](_0x275793),setupLazyLoadingForGrid(_0x32fe50);}function createMediaCard(_0x1a461f,_0x32e05d,_0x28b2c8){const _0x96d845=_0x3f2976,_0x489233=_0x1a461f[_0x96d845(0x2db)]||_0x1a461f['name'],_0xa3b5b1=(_0x1a461f[_0x96d845(0x25a)]||_0x1a461f[_0x96d845(0x2eb)]||'')['split']('-')[0x0],_0x26ba8e=_0x1a461f[_0x96d845(0x28b)]?_0x1a461f[_0x96d845(0x28b)]['toFixed'](0x1):_0x96d845(0x2c6),_0x95b724=bookmarks[_0x96d845(0x293)](_0x41acad=>_0x41acad['id']===_0x1a461f['id']),_0x564790=isUserApproved?_0x96d845(0x241):_0x96d845(0x27d),_0x48e6ad=isUserApproved?_0x96d845(0x250)+_0x489233:_0x96d845(0x195),_0xfc38e=document[_0x96d845(0x226)](_0x96d845(0x182));_0xfc38e['className']=_0x96d845(0x331),_0xfc38e[_0x96d845(0x279)][_0x96d845(0x1bd)]=_0x28b2c8*0x32+'ms',_0xfc38e[_0x96d845(0x314)]=0x0;const _0x57903b=currentUser&&isUserApproved?_0x96d845(0x219)+(_0x95b724?'bookmarked':'')+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22'+_0x1a461f['id']+_0x96d845(0x2f3)+(_0x95b724?'Remove\x20from\x20List':_0x96d845(0x170))+_0x96d845(0x183)+(_0x95b724?'Remove\x20from\x20bookmarks':_0x96d845(0x21d))+_0x96d845(0x242)+(_0x95b724?_0x96d845(0x307):_0x96d845(0x2ae))+_0x96d845(0x231):'';_0xfc38e[_0x96d845(0x25b)]=_0x96d845(0x21a)+_0x57903b+_0x96d845(0x2bc)+_0x1a461f[_0x96d845(0x1bf)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22'+_0x489233+_0x96d845(0x2e3)+_0x48e6ad+_0x96d845(0x1f8)+_0x564790+_0x96d845(0x1c2)+_0x489233+'</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22card-rating\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x26ba8e+_0x96d845(0x1d7)+_0xa3b5b1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>'+(_0x32e05d==='tv'?'TV':_0x96d845(0x29e))+_0x96d845(0x2be);const _0x57fc92=_0xfc38e[_0x96d845(0x24e)](_0x96d845(0x21f));_0x57fc92&&_0x57fc92[_0x96d845(0x290)]('click',_0x3bbc92=>{const _0x313021=_0x96d845;_0x3bbc92[_0x313021(0x20d)](),isUserApproved?openPlayer({..._0x1a461f,'media_type':_0x32e05d}):(showNotification('Premium\x20access\x20required\x20to\x20watch\x20content',_0x313021(0x2a5)),openPaymentModal());});_0xfc38e['addEventListener'](_0x96d845(0x2c5),debounce(()=>{const _0xefe8dc=_0x96d845;isUserApproved?openPlayer({..._0x1a461f,'media_type':_0x32e05d}):(showNotification(_0xefe8dc(0x217),_0xefe8dc(0x2a5)),openPaymentModal());},0x12c)),_0xfc38e[_0x96d845(0x290)](_0x96d845(0x1f4),_0x234a04=>{const _0x309267=_0x96d845;(_0x234a04[_0x309267(0x318)]==='Enter'||_0x234a04[_0x309267(0x318)]==='\x20')&&(_0x234a04[_0x309267(0x25d)](),isUserApproved?openPlayer({..._0x1a461f,'media_type':_0x32e05d}):(showNotification(_0x309267(0x217),_0x309267(0x2a5)),openPaymentModal()));});const _0xa63111=_0xfc38e['querySelector'](_0x96d845(0x31c));return _0xa63111&&_0xa63111[_0x96d845(0x290)](_0x96d845(0x2c5),_0x23897b=>{const _0x3633bd=_0x96d845;_0x23897b[_0x3633bd(0x20d)](),isUserApproved?(animateButton(_0xa63111),toggleBookmark(_0x1a461f,_0x32e05d,_0xa63111)):(showNotification(_0x3633bd(0x1c6),_0x3633bd(0x2a5)),openPaymentModal());}),_0xfc38e;}function setupLazyLoadingForGrid(_0xf9e523){const _0xb2cf92=_0x3f2976,_0x22100b=domCache[_0xb2cf92(0x186)][_0xb2cf92(0x328)](_0xb2cf92(0x301));_0x22100b&&_0xf9e523[_0xb2cf92(0x206)](_0xb2cf92(0x2cc))[_0xb2cf92(0x2a4)](_0x3cfcd4=>{const _0x359545=_0xb2cf92;_0x22100b[_0x359545(0x1e4)](_0x3cfcd4);});}function _0x3a24(){const _0x3dfb15=['push','Signed\x20in\x20successfully!','scroll','search-grid','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','continue_watching','user_watch_history','Fantasy','episode-card\x20hover-glow\x20','getElementById','search-section','order','https://api.themoviedb.org/3/movie/popular?language=en-US&page=1','Signing\x20In...','pending','opacity','animationDelay','body','poster_path','133785UtrLXi','https://api.themoviedb.org/3/discover/tv?sort_by=popularity.desc','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22card-info\x22>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22card-title\x22>','Adventure','button[type=\x22submit\x22]','remove','Subscribe\x20to\x20use\x20bookmark\x20feature','Escape','then','media-card\x20continue-watching-card\x20hover-glow','https://api.themoviedb.org/3/trending/all/week','random','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22card-info\x22>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22card-title\x22>','warn','all','signup-password','Animation','mouseleave','https://111movies.com/tv/','438841eiEPzk','autoplay;\x20fullscreen;\x20encrypted-media;\x20picture-in-picture','signup-email','.source-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','&with_genres=','appendChild','application/json;charset=utf-8','Please\x20log\x20in\x20first','class','fa-check-circle','onload','subscription-status\x20','Error\x20loading\x20user:','<div\x20class=\x22spinner\x22></div><p>Loading\x20content...</p>','42P01','findIndex','observe','url(https://image.tmdb.org/t/p/original','account-email','Thriller','Horror','slice','fas\x20fa-bookmark','\x20day','reset-form','https://api.themoviedb.org/3/search/multi?query=','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Submitting...','Action,\x20Adventure','approved','force\x20signout\x20supabase.auth.signOut\x20failed','progress_percentage','subscription-status\x20pending','keypress','clear-search','show-signin','search','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</span>\x0a\x20\x20\x20\x20\x20\x20<span>','Continue\x20watching\x20table\x20doesn\x27t\x20exist\x20yet','event','randomUUID','Failed\x20to\x20submit\x20transaction\x20ID.\x20Please\x20try\x20again.','source-buttons','postgres_changes','offsetTop','fade-out','Romance','Sci-Fi','channel','Error\x20signing\x20out','querySelectorAll','min','name','display','message','limit','old','stopPropagation','selected','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22video-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20<p>Loading\x20video\x20source...</p>\x0a\x20\x20\x20\x20','session-channel-','\x20slide-in-right','toLocaleDateString','episodes-list','reason','section','player-modal','Premium\x20access\x20required\x20to\x20watch\x20content','setAttribute','\x0a\x20\x20\x20\x20<button\x20class=\x22bookmark-btn\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22card-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20','isIntersecting','createClient','Add\x20to\x20bookmarks','onerror','.play-btn','Error\x20loading\x20seasons:','onclick','DOMContentLoaded','trim','92QfboiV','floor','createElement','main-content','War','TV\x20Movie','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','notification\x20','url','install-extension-btn','https://player.videasy.net/tv/','1759404AtDvZK','Error\x20loading\x20continue\x20watching:','\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20','Unexpected\x20error\x20during\x20password\x20reset','43743LwGzeg','backgroundImage','offsetHeight','Payment\x20Required','\x0a\x20\x20\x20\x20<div\x20class=\x22card-image-container\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-continue-btn\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22','Failed\x20to\x20load\x20bookmarks.\x20Table\x20may\x20need\x20to\x20be\x20created.','</span>\x0a\x20\x20\x20\x20','toFixed','player-rating-value','referrerpolicy','load','Bearer\x20','m\x20â€¢\x20','includes','fa-play','\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22','auth-container','Subscription\x20expired','lazy','option','Removed\x20from\x20your\x20list','movies-grid','air_date','Error\x20loading\x20trending:','0.3','code','https://api.themoviedb.org/3/tv/popular','querySelector','signup-form','Play\x20','Family','[data-section=\x22home\x22]','Error\x20loading\x20movies:','contentWindow','__SUPABASE_URL__','far\x20fa-bookmark','</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22continue-progress\x22>','NekoFlix','User\x20loaded:','release_date','innerHTML','allowed_users','preventDefault','HTTP\x20','https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc','transaction-id-input','overview','expired','DELETE','getFullYear','App\x20initialization\x20failed:','active','Application\x20failed\x20to\x20load.\x20Please\x20refresh.','...\x20(','tv-grid','Error\x20loading\x20popular\x20TV\x20shows:','player-description','Error\x20checking\x20allowed\x20users:','tv-section','signin-password','runtime','__TMDB_TOKEN__','location','parentNode','adult','origin','src','signUp','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-title\x22>','reset-email','style','no-referrer-when-downgrade','setItem','not_found','fa-lock','closest','\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22hero-rating\x22><i\x20class=\x22fas\x20fa-star\x22></i>\x20','Error\x20recording\x20search\x20history:','last_watched_at','delete','active_sessions','Unexpected\x20error\x20checking\x20allowed\x20users:','insert','now','session_flag','mylist','log','show-reset','vote_average','2xymkLH','</span>\x0a\x20\x20\x20\x20<button\x20class=\x22notification-close\x22\x20aria-label=\x22Close\x20notification\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20','toUpperCase','notification-container','addEventListener','total_duration','home-section','some','transform','Your\x20account\x20was\x20used\x20on\x20another\x20device\x20â€“\x20signed\x20out\x20here.','subscription-status-text','user_id,media_id','<i\x20class=\x22fas\x20fa-check\x22></i>\x20Submit','filter','Account\x20already\x20active\x20on\x20another\x20device.\x20Please\x20sign\x20out\x20there\x20first.','hero-section','Error\x20checking\x20active_sessions:','show','Movie','removeChild','scale(1)','All\x20sources\x20failed.\x20Please\x20try\x20again\x20later.','Error\x20loading\x20trending\x20content','pending_payments','forEach','error','hero-bookmark-btn-new','Error\x20removing\x20bookmark\x20from\x20Supabase:','Music','11lwZlQe','Failed\x20to\x20remove\x20item','set','user','handleSessionChange\x20error','far','.episode-card','form','%\x20watched</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','disabled','Error\x20initializing\x20application','IntersectionObserver','tv-controls','\x20remaining','Episode\x20','Transaction\x20ID\x20submitted!\x20We\x27ll\x20verify\x20your\x20payment\x20soon.','<p\x20class=\x27no-episodes\x27>No\x20episodes\x20available</p>','account-modal','add','\x0a\x20\x20\x20\x20\x20\x20<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20data-src=\x22https://image.tmdb.org/t/p/w500','keydown','</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','mylist-section','signOut','backdrop_path','open','user_id=eq.','from','click','N/A','hero-description','Error\x20loading\x20popular\x20movies:','subscribe','popular-movies-grid','hero-meta','img.lazy','mouseenter','Error\x20loading\x20TV\x20shows:','.notification-close','Please\x20log\x20in\x20to\x20manage\x20your\x20list','Western','opened','movies','Passwords\x20do\x20not\x20match','minimal','Error\x20loading\x20user.\x20Please\x20refresh.','hero-title','signup-confirm','className','Subscribe\x20to\x20unlock\x20premium\x20content','title','trending-grid','unobserve','Signed\x20out\x20successfully!','fa-exclamation-circle','.main-header','8ZsHGYb','.nav-link','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20class=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20loading=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.src=\x27https://via.placeholder.com/500x750?text=No+Image\x27\x22\x0a\x20\x20\x20\x20\x20\x20>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-overlay\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22play-btn\x20hover-glow\x22\x20title=\x22','home','results','-section','Source\x202','player-overlay','created_at','Remove\x20from\x20List','first_air_date','.payment-overlay','length','player-close','finally','https://api.themoviedb.org/3/tv/','.loading-indicator','elements','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22','player-title','Crime','Error\x20loading\x20popular\x20movies','scrolled','https://api.themoviedb.org/3/movie/popular','beforeunload','.content-section','scale(0.9)','genre_ids','4368200KuWdeT','Added\x20to\x20your\x20list','gte','media_id','images','split','flex','https://111movies.com/movie/','resetPasswordForEmail','change','fas','continue-watching-grid','.video-loading','Sign\x20up\x20successful!\x20Please\x20check\x20your\x20email\x20to\x20confirm\x20your\x20account.','upsert','firstChild','none','block','nf_device_id','media_type','961160JDALLb','allowed','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22no-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bookmark\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20items\x20in\x20your\x20list\x20yet.\x20Add\x20some\x20movies\x20or\x20TV\x20shows!</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tabIndex','alert','back-signin','/index.html','key','abort','watch_progress','round','.bookmark-btn','Action','device_id','does\x20not\x20exist','substring','warning','success','movies-section','Active','Error\x20loading\x20episodes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loading-screen','get','genre','https://chromewebstore.google.com/detail/bkkbcggnhapdmkeljlodobbkopceiche?utm_source=item-share-cb','user_bookmarks','classList','attributeName','seasons','continue-watching-row','target','media-card\x20hover-glow','/season/','toISOString','.hero-content','<p\x20class=\x27no-content\x27>No\x20content\x20available</p>','Drama','role','value','episode_number','subscription-status\x20expired','loading-indicator','status','.player-video-section','.genre-btn','Source\x201','account-member-since','main-header','unsubscribe','episodes','Your\x20session\x20was\x20ended\x20(deleted)\x20â€“\x20you\x20have\x20been\x20signed\x20out.','attributes','createDocumentFragment','https://vidjoy.pro/embed/movie/','video-loading','contains','Add\x20to\x20List','bookmarked','slide-in-right','Please\x20log\x20in\x20to\x20stream\x20content','Password\x20must\x20be\x20at\x20least\x206\x20characters','movie','\x22></i>\x0a\x20\x20\x20\x20<span>','email','signin-email','.hero-backdrop','account-link','Reset\x20link\x20sent\x20to\x20your\x20email!','season_number','logout-link','App\x20initialization\x20error:','TV\x20Show','extension-popup','is_active','div','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22','dataset','Error\x20removing\x20from\x20continue\x20watching:','observers','expiry_date','overflow','Documentary','json','ceil','Please\x20complete\x20payment\x20to\x20access\x20all\x20content','heartbeat\x20error','popular-tv-grid','user_id','subscription-status\x20active','Please\x20enter\x20a\x20transaction\x20ID','signal','Creating\x20Account...','3630809AviUtY','Premium\x20access\x20required','video-frame','registerSessionForUser\x20error','auth','toString','account-close','close-extension-popup','textContent','scrollTo','No\x20description\x20available','about:blank','smooth','payment-modal','toggle','not_approved','Error\x20loading\x20TV\x20shows','Error\x20loading\x20featured\x20content:','TBA','Sign-in\x20did\x20not\x20return\x20a\x20user\x20object.','mylist-grid','map','signin-form','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22','select'];_0x3a24=function(){return _0x3dfb15;};return _0x3a24();}function animateButton(_0x4094a4){const _0x3a2913=_0x3f2976;_0x4094a4[_0x3a2913(0x279)][_0x3a2913(0x294)]=_0x3a2913(0x2fb),setTimeout(()=>{const _0x33e714=_0x3a2913;_0x4094a4[_0x33e714(0x279)][_0x33e714(0x294)]=_0x33e714(0x2a0);},0x96);}function loadBookmarks(){const _0x55fa7e=_0x3f2976,_0xbdb6f6=document[_0x55fa7e(0x1b6)](_0x55fa7e(0x1a8));if(!_0xbdb6f6)return;if(bookmarks['length']===0x0){_0xbdb6f6['innerHTML']=_0x55fa7e(0x313);return;}renderMediaCards(bookmarks,_0x55fa7e(0x1a8));}function toggleBookmark(_0x5a4fb0,_0x417f86,_0x2eaa7f){const _0x12fed4=_0x3f2976;if(!currentUser){showNotification(_0x12fed4(0x2d0),'error');return;}if(!isUserApproved){showNotification(_0x12fed4(0x1c6),_0x12fed4(0x2a5)),openPaymentModal();return;}const _0x1a68b2=bookmarks[_0x12fed4(0x1e3)](_0x4571c6=>_0x4571c6['id']===_0x5a4fb0['id']),_0x24e45d=_0x2eaa7f[_0x12fed4(0x24e)]('i');_0x1a68b2>-0x1?(bookmarks['splice'](_0x1a68b2,0x1),showNotification(_0x12fed4(0x247),_0x12fed4(0x322)),removeBookmarkFromSupabase(_0x5a4fb0['id']),_0x24e45d&&(_0x24e45d[_0x12fed4(0x2d9)]=_0x12fed4(0x256)),_0x2eaa7f[_0x12fed4(0x32c)]['remove']('bookmarked'),_0x2eaa7f['title']='Add\x20to\x20List'):(bookmarks[_0x12fed4(0x1ad)]({..._0x5a4fb0,'media_type':_0x417f86}),showNotification(_0x12fed4(0x2fe),_0x12fed4(0x322)),addBookmarkToSupabase(_0x5a4fb0,_0x417f86),_0x24e45d&&(_0x24e45d['className']=_0x12fed4(0x1ea)),_0x2eaa7f[_0x12fed4(0x32c)][_0x12fed4(0x2bb)]('bookmarked'),_0x2eaa7f[_0x12fed4(0x2db)]=_0x12fed4(0x2ea)),document[_0x12fed4(0x1b6)](_0x12fed4(0x2bf))?.[_0x12fed4(0x32c)][_0x12fed4(0x16f)](_0x12fed4(0x266))&&loadBookmarks(),featuredMedia&&featuredMedia['id']===_0x5a4fb0['id']&&updateHeroSection(featuredMedia);}async function addBookmarkToSupabase(_0x1a85d4,_0x181a15){const _0x3810ca=_0x3f2976;try{const {error:_0x4f650b}=await supabase[_0x3810ca(0x2c4)](_0x3810ca(0x32b))[_0x3810ca(0x285)]({'user_id':currentUser['id'],'media_id':_0x1a85d4['id'],'media_type':_0x181a15,'title':_0x1a85d4['title']||_0x1a85d4[_0x3810ca(0x208)],'poster_path':_0x1a85d4[_0x3810ca(0x1bf)],'vote_average':_0x1a85d4[_0x3810ca(0x28b)],'release_date':_0x1a85d4[_0x3810ca(0x25a)]||null,'first_air_date':_0x1a85d4[_0x3810ca(0x2eb)]||null,'added_at':new Date()[_0x3810ca(0x333)]()});if(_0x4f650b)throw _0x4f650b;}catch(_0x22a48a){console[_0x3810ca(0x2a5)]('Error\x20adding\x20bookmark\x20to\x20Supabase:',_0x22a48a);}}async function removeBookmarkFromSupabase(_0xaddea4){const _0x4a76ff=_0x3f2976;try{const {error:_0x32beec}=await supabase[_0x4a76ff(0x2c4)](_0x4a76ff(0x32b))[_0x4a76ff(0x282)]()['eq']('user_id',currentUser['id'])['eq']('media_id',_0xaddea4);if(_0x32beec)throw _0x32beec;}catch(_0x763702){console[_0x4a76ff(0x2a5)](_0x4a76ff(0x2a7),_0x763702);}}async function performSearch(_0x31e570){const _0x58d4fe=_0x3f2976;if(!_0x31e570['trim']()){showHomeSection();return;}try{showLoadingForSection(_0x58d4fe(0x1f7));const _0x5afcc0=await fetchWithTimeout(_0x58d4fe(0x1ed)+encodeURIComponent(_0x31e570),{'headers':{'Authorization':_0x58d4fe(0x23e)+TMDB_TOKEN,'Content-Type':'application/json;charset=utf-8'}});if(!_0x5afcc0['ok'])throw new Error(_0x58d4fe(0x25e)+_0x5afcc0['status']);const _0x397b49=await _0x5afcc0[_0x58d4fe(0x18a)](),_0x5d4e84=_0x397b49['results']['filter'](_0x4482d2=>!_0x4482d2[_0x58d4fe(0x273)]&&(_0x4482d2[_0x58d4fe(0x310)]===_0x58d4fe(0x175)||_0x4482d2['media_type']==='tv')&&_0x4482d2['poster_path']);currentUser&&recordSearchHistory(_0x31e570),document[_0x58d4fe(0x206)](_0x58d4fe(0x2fa))['forEach'](_0xc58926=>_0xc58926['classList'][_0x58d4fe(0x1c5)](_0x58d4fe(0x266))),document[_0x58d4fe(0x1b6)](_0x58d4fe(0x1b7))?.[_0x58d4fe(0x32c)][_0x58d4fe(0x2bb)](_0x58d4fe(0x266)),renderMediaCards(_0x5d4e84,'search-grid'),setTimeout(()=>{const _0x132623=_0x58d4fe,_0x338313=document[_0x132623(0x1b6)]('search-section');if(_0x338313){const _0xc141e8=document['querySelector'](_0x132623(0x2e0))?.[_0x132623(0x235)]||0x50,_0x565fd5=_0x338313[_0x132623(0x200)]-_0xc141e8-0x14;window[_0x132623(0x19d)]({'top':_0x565fd5,'behavior':_0x132623(0x1a0)});}},0x64);}catch(_0x28026b){console[_0x58d4fe(0x2a5)]('Error\x20searching:',_0x28026b),showNotification('Error\x20performing\x20search',_0x58d4fe(0x2a5));}finally{hideLoadingForSection(_0x58d4fe(0x1f7));}}async function recordSearchHistory(_0x1daffc){const _0x16eff2=_0x3f2976;try{const {error:_0x6a1d10}=await supabase['from']('user_search_history')[_0x16eff2(0x285)]({'user_id':currentUser['id'],'query':_0x1daffc,'searched_at':new Date()[_0x16eff2(0x333)]()});if(_0x6a1d10)throw _0x6a1d10;}catch(_0x51612b){console['error'](_0x16eff2(0x280),_0x51612b);}}async function recordWatchHistory(_0x194a0a,_0x119e0a=null,_0x12ef61=null,_0x33b8f1=0x0){const _0x2828b8=_0x3f2976;try{const {error:_0x3c0229}=await supabase[_0x2828b8(0x2c4)](_0x2828b8(0x1b3))['insert']({'user_id':currentUser['id'],'media_id':_0x194a0a['id'],'media_type':_0x194a0a[_0x2828b8(0x310)],'title':_0x194a0a[_0x2828b8(0x2db)]||_0x194a0a[_0x2828b8(0x208)],'season':_0x119e0a,'episode':_0x12ef61,'duration':_0x33b8f1,'watched_at':new Date()[_0x2828b8(0x333)]()});if(_0x3c0229)throw _0x3c0229;}catch(_0x18da64){console[_0x2828b8(0x2a5)]('Error\x20recording\x20watch\x20history:',_0x18da64);}}function openPlayer(_0x470554){const _0x5ed1fd=_0x3f2976;if(!currentUser){showNotification(_0x5ed1fd(0x173),_0x5ed1fd(0x2a5));return;}if(!isUserApproved){showNotification('Premium\x20access\x20required\x20to\x20watch\x20content.\x20Please\x20subscribe\x20to\x20continue.',_0x5ed1fd(0x2a5)),openPaymentModal();return;}currentMediaType=_0x470554['media_type'],currentMediaId=_0x470554['id'],currentMediaTitle=_0x470554[_0x5ed1fd(0x2db)]||_0x470554[_0x5ed1fd(0x208)],currentMediaData=_0x470554,document[_0x5ed1fd(0x1b6)](_0x5ed1fd(0x2f4))['textContent']=currentMediaTitle,document[_0x5ed1fd(0x1b6)](_0x5ed1fd(0x26b))[_0x5ed1fd(0x19c)]=_0x470554[_0x5ed1fd(0x261)]||_0x5ed1fd(0x19e);const _0x1caf9e=document[_0x5ed1fd(0x1b6)](_0x5ed1fd(0x23b)),_0x1a8386=document[_0x5ed1fd(0x1b6)]('player-year'),_0x52cf87=document[_0x5ed1fd(0x1b6)]('player-type');_0x1caf9e&&(_0x1caf9e['textContent']=_0x470554['vote_average']?_0x470554[_0x5ed1fd(0x28b)][_0x5ed1fd(0x23a)](0x1):_0x5ed1fd(0x2c6));if(_0x1a8386){const _0x558bfa=(_0x470554[_0x5ed1fd(0x25a)]||_0x470554[_0x5ed1fd(0x2eb)]||'')[_0x5ed1fd(0x302)]('-')[0x0];_0x1a8386['textContent']=_0x558bfa||'N/A';}_0x52cf87&&(_0x52cf87[_0x5ed1fd(0x19c)]=currentMediaType==='tv'?_0x5ed1fd(0x17f):'Movie');const _0x15dd7c=document[_0x5ed1fd(0x1b6)](_0x5ed1fd(0x2b5));_0x15dd7c&&(_0x15dd7c['style'][_0x5ed1fd(0x209)]=currentMediaType==='tv'?_0x5ed1fd(0x303):_0x5ed1fd(0x30d));currentMediaType==='tv'&&(currentSeason=0x1,currentEpisode=0x1,loadSeasons(currentMediaId));buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date();if(playerInterval)clearInterval(playerInterval);playerInterval=setInterval(()=>{trackPlayerProgress();},0x7530);const _0x1a6a8d=domCache[_0x5ed1fd(0x2f2)][_0x5ed1fd(0x216)];_0x1a6a8d&&(_0x1a6a8d[_0x5ed1fd(0x32c)]['add'](_0x5ed1fd(0x266)),setTimeout(()=>{const _0x244bc7=_0x5ed1fd;_0x1a6a8d['classList'][_0x244bc7(0x2bb)](_0x244bc7(0x2d2));},0x32));}function trackPlayerProgress(){const _0x2c099b=_0x3f2976;if(!currentUser||!currentMediaData)return;const _0x381fb3=domCache[_0x2c099b(0x2f2)]['video-frame'];if(!_0x381fb3||!_0x381fb3['src'])return;const _0x507ce2=watchStartTime?(new Date()-watchStartTime)/0x3e8:0x0,_0x48256d=currentMediaType===_0x2c099b(0x175)?0x1c20:0xa8c;_0x507ce2>0x3c&&updateWatchProgress(currentMediaData,_0x507ce2,_0x48256d);}function closePlayer(){const _0x1c5d74=_0x3f2976;if(watchStartTime&&currentUser&&currentMediaData){const _0x54a286=new Date(),_0x7af697=(_0x54a286-watchStartTime)/0x3e8;if(_0x7af697>0x1e){const _0x211e59={'id':currentMediaId,'media_type':currentMediaType,'title':currentMediaTitle};recordWatchHistory(_0x211e59,currentMediaType==='tv'?currentSeason:null,currentMediaType==='tv'?currentEpisode:null,_0x7af697);const _0x376a8b=currentMediaType===_0x1c5d74(0x175)?0x1c20:0xa8c;updateWatchProgress(currentMediaData,_0x7af697,_0x376a8b);}}cleanupPlayer();const _0x4635e0=domCache[_0x1c5d74(0x2f2)][_0x1c5d74(0x216)];_0x4635e0&&(_0x4635e0['classList'][_0x1c5d74(0x1c5)](_0x1c5d74(0x2d2)),setTimeout(()=>{const _0x4b3c39=_0x1c5d74;_0x4635e0[_0x4b3c39(0x32c)][_0x4b3c39(0x1c5)](_0x4b3c39(0x266)),document[_0x4b3c39(0x1be)][_0x4b3c39(0x279)]['overflow']='';},0x12c)),document[_0x1c5d74(0x1b6)](_0x1c5d74(0x292))?.[_0x1c5d74(0x32c)][_0x1c5d74(0x16f)](_0x1c5d74(0x266))&&loadContinueWatching()[_0x1c5d74(0x1c8)](()=>renderContinueWatching());}function cleanupPlayer(){const _0x146a3d=_0x3f2976;playerInterval&&(clearInterval(playerInterval),playerInterval=null);const _0x459f43=domCache[_0x146a3d(0x2f2)][_0x146a3d(0x196)];_0x459f43&&(_0x459f43[_0x146a3d(0x275)]=_0x146a3d(0x19f)),currentMediaType==='tv'&&(currentSeason=0x1,currentEpisode=0x1),watchStartTime=null;}function buildEmbedSources(){const _0x13aa9a=_0x3f2976;if(currentMediaType==='movie')embedSources=[{'name':_0x13aa9a(0x165),'url':_0x13aa9a(0x304)+currentMediaId},{'name':_0x13aa9a(0x2e7),'url':_0x13aa9a(0x16d)+currentMediaId},{'name':'Source\x203','url':'https://player.videasy.net/movie/'+currentMediaId}];else currentMediaType==='tv'&&(embedSources=[{'name':_0x13aa9a(0x165),'url':_0x13aa9a(0x1d2)+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':'Source\x202','url':'https://vidjoy.pro/embed/tv/'+currentMediaId+'/'+currentSeason+'/'+currentEpisode},{'name':'Source\x203','url':_0x13aa9a(0x22e)+currentMediaId+'/'+currentSeason+'/'+currentEpisode}]);}function populateSourceButtons(){const _0x1764c7=_0x3f2976,_0x5ed031=document['getElementById'](_0x1764c7(0x1fe));if(!_0x5ed031)return;_0x5ed031[_0x1764c7(0x25b)]='',embedSources[_0x1764c7(0x2a4)]((_0x202725,_0x1da02b)=>{const _0x21726d=_0x1764c7,_0x27329a=document[_0x21726d(0x226)]('button');_0x27329a['className']='source-btn\x20hover-glow';if(_0x1da02b===0x0)_0x27329a[_0x21726d(0x32c)]['add']('active');_0x27329a[_0x21726d(0x19c)]=_0x202725[_0x21726d(0x208)],_0x27329a['style']['animationDelay']=_0x1da02b*0x64+'ms',_0x27329a[_0x21726d(0x290)](_0x21726d(0x2c5),debounce(()=>{const _0x4470c3=_0x21726d;document[_0x4470c3(0x206)](_0x4470c3(0x1d6))[_0x4470c3(0x2a4)](_0x3d5c8e=>_0x3d5c8e[_0x4470c3(0x32c)][_0x4470c3(0x1c5)]('active')),_0x27329a['classList']['add'](_0x4470c3(0x266)),loadSource(_0x1da02b);},0xc8)),_0x5ed031[_0x21726d(0x1d9)](_0x27329a);});}function loadSource(_0x2b4b91){const _0x7ca391=_0x3f2976;if(_0x2b4b91<0x0||_0x2b4b91>=embedSources[_0x7ca391(0x2ed)])return;const _0x20c5de=embedSources[_0x2b4b91],_0x13fe5a=domCache['elements'][_0x7ca391(0x196)];if(!_0x13fe5a)return;_0x13fe5a[_0x7ca391(0x218)]('allow',_0x7ca391(0x1d4)),_0x13fe5a[_0x7ca391(0x218)](_0x7ca391(0x23c),_0x7ca391(0x27a)),showVideoLoadingState();let _0x5b1b31=0x0;const _0x356638=0x2;function _0xb6b6ca(){const _0x107b8f=_0x7ca391;_0x13fe5a[_0x107b8f(0x21e)]=()=>{const _0xb000e7=_0x107b8f;_0x5b1b31++,_0x5b1b31<=_0x356638?(showNotification('Retrying\x20'+_0x20c5de[_0xb000e7(0x208)]+_0xb000e7(0x268)+_0x5b1b31+'/'+_0x356638+')','warning'),setTimeout(_0xb6b6ca,0x3e8*_0x5b1b31)):handleSourceFailure(_0x2b4b91);},_0x13fe5a[_0x107b8f(0x1de)]=()=>{hideVideoLoadingState();},_0x13fe5a[_0x107b8f(0x275)]=_0x20c5de[_0x107b8f(0x22c)]+(_0x20c5de[_0x107b8f(0x22c)][_0x107b8f(0x240)]('?')?'&':'?')+'t='+Date['now']();}const _0x7cba01=setTimeout(()=>{const _0x2461ee=_0x7ca391;_0x13fe5a[_0x2461ee(0x275)]&&!_0x13fe5a[_0x2461ee(0x254)]?.['length']&&handleSourceFailure(_0x2b4b91);},0x2710);_0x13fe5a['addEventListener'](_0x7ca391(0x23d),()=>clearTimeout(_0x7cba01),{'once':!![]}),_0xb6b6ca();}function handleSourceFailure(_0x2a35e3){const _0x5db24d=_0x3f2976;hideVideoLoadingState();const _0x478376=(_0x2a35e3+0x1)%embedSources[_0x5db24d(0x2ed)];_0x478376!==_0x2a35e3?(showNotification('Trying\x20'+embedSources[_0x478376][_0x5db24d(0x208)]+'...',_0x5db24d(0x321)),setTimeout(()=>loadSource(_0x478376),0x3e8)):showNotification(_0x5db24d(0x2a1),_0x5db24d(0x2a5));}function showVideoLoadingState(){const _0x4e6f95=_0x3f2976,_0x2de332=document[_0x4e6f95(0x24e)](_0x4e6f95(0x163));if(_0x2de332&&!_0x2de332['querySelector'](_0x4e6f95(0x309))){const _0x5c855d=document[_0x4e6f95(0x226)](_0x4e6f95(0x182));_0x5c855d[_0x4e6f95(0x2d9)]=_0x4e6f95(0x16e),_0x5c855d[_0x4e6f95(0x25b)]=_0x4e6f95(0x20f),_0x2de332[_0x4e6f95(0x1d9)](_0x5c855d);}}function hideVideoLoadingState(){const _0x34952b=_0x3f2976,_0x12f3fd=document[_0x34952b(0x24e)]('.video-loading');_0x12f3fd&&_0x12f3fd[_0x34952b(0x1c5)]();}async function loadSeasons(_0x32c160){const _0xeb7009=_0x3f2976;try{const _0x434ce4=await fetchWithTimeout(_0xeb7009(0x2f0)+_0x32c160,{'headers':{'Authorization':_0xeb7009(0x23e)+TMDB_TOKEN,'Content-Type':_0xeb7009(0x1da)}});if(!_0x434ce4['ok'])throw new Error(_0xeb7009(0x25e)+_0x434ce4['status']);const _0x799fa1=await _0x434ce4[_0xeb7009(0x18a)](),_0xfdce7c=_0x799fa1[_0xeb7009(0x32e)][_0xeb7009(0x299)](_0x368f5c=>_0x368f5c[_0xeb7009(0x17c)]>0x0),_0x4645dc=document['getElementById']('season-select');if(!_0x4645dc)return;_0x4645dc[_0xeb7009(0x25b)]='',_0xfdce7c[_0xeb7009(0x2a4)](_0x46f333=>{const _0xd857e0=_0xeb7009,_0x48afde=document['createElement'](_0xd857e0(0x246));_0x48afde[_0xd857e0(0x338)]=_0x46f333[_0xd857e0(0x17c)],_0x48afde[_0xd857e0(0x19c)]='Season\x20'+_0x46f333[_0xd857e0(0x17c)],_0x46f333['season_number']===currentSeason&&(_0x48afde[_0xd857e0(0x20e)]=!![]),_0x4645dc['appendChild'](_0x48afde);}),_0x4645dc[_0xeb7009(0x290)](_0xeb7009(0x306),debounce(_0x4a681d=>{const _0x1f2e99=_0xeb7009;currentSeason=parseInt(_0x4a681d[_0x1f2e99(0x330)][_0x1f2e99(0x338)]),currentEpisode=0x1,reloadTVContent();},0x12c)),await loadEpisodes(_0x32c160,currentSeason);}catch(_0x5a07dd){console[_0xeb7009(0x2a5)](_0xeb7009(0x220),_0x5a07dd),showNotification('Error\x20loading\x20seasons','error');}}async function loadEpisodes(_0x2767d3,_0x4ded1d){const _0x269163=_0x3f2976;try{const _0x501246=await fetchWithTimeout('https://api.themoviedb.org/3/tv/'+_0x2767d3+_0x269163(0x332)+_0x4ded1d,{'headers':{'Authorization':_0x269163(0x23e)+TMDB_TOKEN,'Content-Type':_0x269163(0x1da)}});if(!_0x501246['ok'])throw new Error(_0x269163(0x25e)+_0x501246[_0x269163(0x162)]);const _0x286dc9=await _0x501246['json']();renderEpisodeCards(_0x286dc9[_0x269163(0x169)]);}catch(_0x484d64){console[_0x269163(0x2a5)]('Error\x20loading\x20episodes:',_0x484d64),showNotification(_0x269163(0x325),_0x269163(0x2a5));}}function renderEpisodeCards(_0x271866){const _0x3ff045=_0x3f2976,_0x382f8c=document['getElementById'](_0x3ff045(0x213));if(!_0x382f8c)return;_0x382f8c[_0x3ff045(0x25b)]='';if(!_0x271866||_0x271866[_0x3ff045(0x2ed)]===0x0){_0x382f8c[_0x3ff045(0x25b)]=_0x3ff045(0x2b9);return;}const _0xe8d1cf=document[_0x3ff045(0x16c)]();_0x271866[_0x3ff045(0x2a4)]((_0x35f693,_0x13b59c)=>{const _0x19b1f1=_0x3ff045,_0x27f5cb=document[_0x19b1f1(0x226)](_0x19b1f1(0x182));_0x27f5cb[_0x19b1f1(0x2d9)]=_0x19b1f1(0x1b5)+(_0x35f693['episode_number']===currentEpisode?_0x19b1f1(0x266):''),_0x27f5cb['style'][_0x19b1f1(0x1bd)]=_0x13b59c*0x32+'ms',_0x27f5cb[_0x19b1f1(0x25b)]='\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22episode-number\x22>'+_0x35f693['episode_number']+_0x19b1f1(0x277)+(_0x35f693[_0x19b1f1(0x208)]||_0x19b1f1(0x2b7)+_0x35f693[_0x19b1f1(0x339)])+_0x19b1f1(0x1b1)+(_0x35f693[_0x19b1f1(0x26f)]?_0x35f693[_0x19b1f1(0x26f)]+_0x19b1f1(0x23f):'')+_0x19b1f1(0x326)+(_0x35f693[_0x19b1f1(0x249)]?new Date(_0x35f693[_0x19b1f1(0x249)])[_0x19b1f1(0x264)]():_0x19b1f1(0x1a6))+_0x19b1f1(0x22a),_0x27f5cb['addEventListener'](_0x19b1f1(0x2c5),debounce(()=>{const _0x4c0a8f=_0x19b1f1;document[_0x4c0a8f(0x206)](_0x4c0a8f(0x2af))[_0x4c0a8f(0x2a4)](_0x4edd97=>_0x4edd97[_0x4c0a8f(0x32c)][_0x4c0a8f(0x1c5)]('active')),_0x27f5cb['classList'][_0x4c0a8f(0x2bb)](_0x4c0a8f(0x266)),currentEpisode=_0x35f693['episode_number'],reloadTVContent();},0x12c)),_0xe8d1cf[_0x19b1f1(0x1d9)](_0x27f5cb);}),_0x382f8c[_0x3ff045(0x1d9)](_0xe8d1cf);}function reloadTVContent(){showVideoLoadingState(),buildEmbedSources(),populateSourceButtons(),loadSource(0x0),watchStartTime=new Date();}function showNotification(_0x390bea,_0x516890=_0x3f2976(0x322)){const _0x425bc3=_0x3f2976,_0x498dfa=document[_0x425bc3(0x1b6)]('notification-container');if(!_0x498dfa)return;const _0x2b9f69=document[_0x425bc3(0x226)](_0x425bc3(0x182));_0x2b9f69[_0x425bc3(0x2d9)]=_0x425bc3(0x22b)+_0x516890+_0x425bc3(0x211),_0x2b9f69[_0x425bc3(0x218)](_0x425bc3(0x337),_0x425bc3(0x315)),_0x2b9f69[_0x425bc3(0x25b)]='\x0a\x20\x20\x20\x20<i\x20class=\x22notification-icon\x20fas\x20'+(_0x516890===_0x425bc3(0x322)?_0x425bc3(0x1dd):_0x516890===_0x425bc3(0x2a5)?_0x425bc3(0x2df):'fa-exclamation-triangle')+_0x425bc3(0x176)+_0x390bea+_0x425bc3(0x28d),_0x498dfa[_0x425bc3(0x1d9)](_0x2b9f69),setTimeout(()=>_0x2b9f69['classList'][_0x425bc3(0x2bb)](_0x425bc3(0x29d)),0x64);const _0xf7ef00=setTimeout(()=>{removeNotification(_0x2b9f69);},0x1388),_0x1cf7aa=_0x2b9f69[_0x425bc3(0x24e)](_0x425bc3(0x2cf));_0x1cf7aa[_0x425bc3(0x290)]('click',()=>{clearTimeout(_0xf7ef00),removeNotification(_0x2b9f69);}),_0x2b9f69[_0x425bc3(0x290)]('click',_0x1f63db=>{const _0x36dac2=_0x425bc3;(_0x1f63db[_0x36dac2(0x330)]===_0x2b9f69||_0x1f63db[_0x36dac2(0x330)][_0x36dac2(0x27e)](_0x36dac2(0x2cf)))&&(clearTimeout(_0xf7ef00),removeNotification(_0x2b9f69));});}function removeNotification(_0x24b6c5){const _0x2b7290=_0x3f2976;_0x24b6c5[_0x2b7290(0x32c)][_0x2b7290(0x2bb)]('fade-out'),setTimeout(()=>{const _0x48a5f7=_0x2b7290;_0x24b6c5[_0x48a5f7(0x272)]&&_0x24b6c5['remove']();},0x12c);}document[_0x3f2976(0x290)]('keydown',_0x2e98f8=>{const _0x200d49=_0x3f2976;if(!isPlayerOpen)return;switch(_0x2e98f8[_0x200d49(0x318)]){case _0x200d49(0x1c7):closePlayer();break;}});let scrollTimeout;window['addEventListener'](_0x3f2976(0x1af),()=>{!scrollTimeout&&(scrollTimeout=setTimeout(()=>{const _0x353c38=_0x2b37,_0x48041a=domCache[_0x353c38(0x2f2)]['main-header'];_0x48041a&&_0x48041a[_0x353c38(0x32c)][_0x353c38(0x1a2)](_0x353c38(0x2f7),window['scrollY']>0x32),scrollTimeout=null;},0xa));}),window[_0x3f2976(0x290)](_0x3f2976(0x2f9),()=>{const _0x38ef37=_0x3f2976;if(playerInterval)clearInterval(playerInterval);if(scrollTimeout)clearTimeout(scrollTimeout);if(searchDebounce)clearTimeout(searchDebounce);domCache[_0x38ef37(0x186)][_0x38ef37(0x2a4)](_0x8a2786=>_0x8a2786['disconnect']());}),window[_0x3f2976(0x258)]={'closePlayer':closePlayer,'showNotification':showNotification,'toggleBookmark':(_0x181b39,_0x4724ef)=>{const _0x4309b2=_0x3f2976,_0x2282d5=document[_0x4309b2(0x226)]('button');toggleBookmark(_0x181b39,_0x4724ef,_0x2282d5);}};